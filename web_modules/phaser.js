import{c as ua}from"./common/_commonjsHelpers-1d2f7e84.js";var va=ua(function(wa,za){(function o(w,a){wa.exports=a()})(window,function(){return function(o){var w={};function a(d){if(w[d])return w[d].exports;var l=w[d]={i:d,l:!1,exports:{}};return o[d].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=o,a.c=w,a.d=function(d,l,i){a.o(d,l)||Object.defineProperty(d,l,{enumerable:!0,get:i})},a.r=function(d){typeof Symbol!=="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},a.t=function(d,l){l&1&&(d=a(d));if(l&8)return d;if(l&4&&typeof d==="object"&&d&&d.__esModule)return d;var i=Object.create(null);a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:d});if(l&2&&typeof d!="string")for(var b in d)a.d(i,b,function(f){return d[f]}.bind(null,b));return i},a.n=function(d){var l=d&&d.__esModule?function i(){return d.default}:function i(){return d};return a.d(l,"a",l),l},a.o=function(d,l){return Object.prototype.hasOwnProperty.call(d,l)},a.p="",a(a.s=1393)}([function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(e){return!!e.get&&typeof e.get==="function"||!!e.set&&typeof e.set==="function"}function d(e,c,j){var g=j?e[c]:Object.getOwnPropertyDescriptor(e,c);return!j&&g.value&&typeof g.value==="object"&&(g=g.value),g&&a(g)?(typeof g.enumerable==="undefined"&&(g.enumerable=!0),typeof g.configurable==="undefined"&&(g.configurable=!0),g):!1}function l(e,c){var j=Object.getOwnPropertyDescriptor(e,c);return j?(j.value&&typeof j.value==="object"&&(j=j.value),j.configurable===!1?!0:!1):!1}function i(e,c,j,g){for(var h in c){if(!c.hasOwnProperty(h))continue;var k=d(c,h,j);if(k!==!1){var m=g||e;if(l(m.prototype,h)){if(f.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,h,k)}else e.prototype[h]=c[h]}}function b(e,c){if(!c)return;Array.isArray(c)||(c=[c]);for(var j=0;j<c.length;j++)i(e,c[j].prototype||c[j])}function f(e){e||(e={});var c,j;if(e.initialize){if(typeof e.initialize!=="function")throw new Error("initialize must be a function");c=e.initialize,delete e.initialize}else if(e.Extends){var g=e.Extends;c=function(){g.apply(this,arguments)}}else c=function(){};e.Extends?(c.prototype=Object.create(e.Extends.prototype),c.prototype.constructor=c,j=e.Extends,delete e.Extends):c.prototype.constructor=c;var h=null;return e.Mixins&&(h=e.Mixins,delete e.Mixins),b(c,h),i(c,e,!0,j),c}f.extend=i,f.mixin=b,f.ignoreFinals=!1,o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(){};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=typeof d;return!d||b==="number"||b==="string"?i:d.hasOwnProperty(l)&&d[l]!==void 0?d[l]:i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(106),i=new d({initialize:function b(f,e){this.x=0,this.y=0,typeof f==="object"?(this.x=f.x||0,this.y=f.y||0):(e===void 0&&(e=f),this.x=f||0,this.y=e||0)},clone:function(){return new i(this.x,this.y)},copy:function(b){return this.x=b.x||0,this.y=b.y||0,this},setFromObject:function(b){return this.x=b.x||0,this.y=b.y||0,this},set:function(b,f){return f===void 0&&(f=b),this.x=b,this.y=f,this},setTo:function(b,f){return this.set(b,f)},setToPolar:function(b,f){return f==null&&(f=1),this.x=Math.cos(b)*f,this.y=Math.sin(b)*f,this},equals:function(b){return this.x===b.x&&this.y===b.y},fuzzyEquals:function(b,f){return l(this.x,b.x,f)&&l(this.y,b.y,f)},angle:function(){var b=Math.atan2(this.y,this.x);return b<0&&(b+=2*Math.PI),b},setAngle:function(b){return this.setToPolar(b,this.length())},add:function(b){return this.x+=b.x,this.y+=b.y,this},subtract:function(b){return this.x-=b.x,this.y-=b.y,this},multiply:function(b){return this.x*=b.x,this.y*=b.y,this},scale:function(b){return isFinite(b)?(this.x*=b,this.y*=b):(this.x=0,this.y=0),this},divide:function(b){return this.x/=b.x,this.y/=b.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(b){var f=b.x-this.x,e=b.y-this.y;return Math.sqrt(f*f+e*e)},distanceSq:function(b){var f=b.x-this.x,e=b.y-this.y;return f*f+e*e},length:function(){var b=this.x,f=this.y;return Math.sqrt(b*b+f*f)},setLength:function(b){return this.normalize().scale(b)},lengthSq:function(){var b=this.x,f=this.y;return b*b+f*f},normalize:function(){var b=this.x,f=this.y,e=b*b+f*f;return e>0&&(e=1/Math.sqrt(e),this.x=b*e,this.y=f*e),this},normalizeRightHand:function(){var b=this.x;return this.x=this.y*-1,this.y=b,this},normalizeLeftHand:function(){var b=this.x;return this.x=this.y,this.y=b*-1,this},dot:function(b){return this.x*b.x+this.y*b.y},cross:function(b){return this.x*b.y-this.y*b.x},lerp:function(b,f){f===void 0&&(f=0);var e=this.x,c=this.y;return this.x=e+f*(b.x-e),this.y=c+f*(b.y-c),this},transformMat3:function(b){var f=this.x,e=this.y,c=b.val;return this.x=c[0]*f+c[3]*e+c[6],this.y=c[1]*f+c[4]*e+c[7],this},transformMat4:function(b){var f=this.x,e=this.y,c=b.val;return this.x=c[0]*f+c[4]*e+c[12],this.y=c[1]*f+c[5]*e+c[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(b){var f=this.length();return f&&f>b&&this.scale(b/f),this},reflect:function(b){return b=b.clone().normalize(),this.subtract(b.scale(2*this.dot(b)))},mirror:function(b){return this.reflect(b).negate()},rotate:function(b){var f=Math.cos(b),e=Math.sin(b);return this.set(f*this.x-e*this.y,e*this.x+f*this.y)}});i.ZERO=new i(),i.RIGHT=new i(1,0),i.LEFT=new i(-1,0),i.UP=new i(0,-1),i.DOWN=new i(0,1),i.ONE=new i(1,1),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(47),i=new d({initialize:function b(f,e){f===void 0&&(f=0),e===void 0&&(e=f),this.type=l.POINT,this.x=f,this.y=e},setTo:function(b,f){return b===void 0&&(b=0),f===void 0&&(f=b),this.x=b,this.y=f,this}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(23),i=a(22),b=new d({initialize:function f(e){this.scene=e,this.systems=e.sys,this.displayList,this.updateList,e.sys.events.once(i.BOOT,this.boot,this),e.sys.events.on(i.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},existing:function(f){return(f.renderCanvas||f.renderWebGL)&&this.displayList.add(f),f.preUpdate&&this.updateList.add(f),f},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});b.register=function(f,e){b.prototype.hasOwnProperty(f)||(b.prototype[f]=e)},b.remove=function(f){b.prototype.hasOwnProperty(f)&&delete b.prototype[f]},l.register("GameObjectFactory",b,"add"),o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(!d||typeof d==="number")return i;{if(d.hasOwnProperty(l))return d[l];if(l.indexOf(".")!==-1){for(var b=l.split("."),f=d,e=i,c=0;c<b.length;c++)if(f.hasOwnProperty(b[c]))e=f[b[c]],f=f[b[c]];else{e=i;break}return e}else return i}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){if(typeof d!=="object"||d.nodeType||d===d.window)return!1;try{if(d.constructor&&!{}.hasOwnProperty.call(d.constructor.prototype,"isPrototypeOf"))return!1}catch(l){return!1}return!0};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={},d={install:function(l){for(var i in a)l[i]=a[i]},register:function(l,i){a[l]=i},destroy:function(){a={}}};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={getTintFromFloats:function(a,d,l,i){var b=(a*255|0)&255,f=(d*255|0)&255,e=(l*255|0)&255,c=(i*255|0)&255;return(c<<24|b<<16|f<<8|e)>>>0},getTintAppendFloatAlpha:function(a,d){var l=(d*255|0)&255;return(l<<24|a)>>>0},getTintAppendFloatAlphaAndSwap:function(a,d){var l=(a>>16|0)&255,i=(a>>8|0)&255,b=(a|0)&255,f=(d*255|0)&255;return(f<<24|b<<16|i<<8|l)>>>0},getFloatsFromUintRGB:function(a){var d=(a>>16|0)&255,l=(a>>8|0)&255,i=(a|0)&255;return[d/255,l/255,i/255]},getComponentCount:function(a,d){for(var l=0,i=0;i<a.length;++i){var b=a[i];b.type===d.FLOAT?l+=b.size:l+=1}return l}}},function(o,w,a){var d=Object.prototype.hasOwnProperty,l="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(l=!1));function b(j,g,h){this.fn=j,this.context=g,this.once=h||!1}function f(j,g,h,k,m){if(typeof h!=="function")throw new TypeError("The listener must be a function");var n=new b(h,k||j,m),p=l?l+g:g;return j._events[p]?j._events[p].fn?j._events[p]=[j._events[p],n]:j._events[p].push(n):(j._events[p]=n,j._eventsCount++),j}function e(j,g){--j._eventsCount===0?j._events=new i():delete j._events[g]}function c(){this._events=new i(),this._eventsCount=0}c.prototype.eventNames=function j(){var g=[],h,k;if(this._eventsCount===0)return g;for(k in h=this._events)d.call(h,k)&&g.push(l?k.slice(1):k);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(h)):g},c.prototype.listeners=function j(g){var h=l?l+g:g,k=this._events[h];if(!k)return[];if(k.fn)return[k.fn];for(var m=0,n=k.length,p=new Array(n);m<n;m++)p[m]=k[m].fn;return p},c.prototype.listenerCount=function j(g){var h=l?l+g:g,k=this._events[h];return k?k.fn?1:k.length:0},c.prototype.emit=function j(g,h,k,m,n,p){var q=l?l+g:g;if(!this._events[q])return!1;var r=this._events[q],s=arguments.length,t,u;if(r.fn){r.once&&this.removeListener(g,r.fn,void 0,!0);switch(s){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,h),!0;case 3:return r.fn.call(r.context,h,k),!0;case 4:return r.fn.call(r.context,h,k,m),!0;case 5:return r.fn.call(r.context,h,k,m,n),!0;case 6:return r.fn.call(r.context,h,k,m,n,p),!0}for(u=1,t=new Array(s-1);u<s;u++)t[u-1]=arguments[u];r.fn.apply(r.context,t)}else{var v=r.length,x;for(u=0;u<v;u++){r[u].once&&this.removeListener(g,r[u].fn,void 0,!0);switch(s){case 1:r[u].fn.call(r[u].context);break;case 2:r[u].fn.call(r[u].context,h);break;case 3:r[u].fn.call(r[u].context,h,k);break;case 4:r[u].fn.call(r[u].context,h,k,m);break;default:if(!t)for(x=1,t=new Array(s-1);x<s;x++)t[x-1]=arguments[x];r[u].fn.apply(r[u].context,t)}}}return!0},c.prototype.on=function j(g,h,k){return f(this,g,h,k,!1)},c.prototype.once=function j(g,h,k){return f(this,g,h,k,!0)},c.prototype.removeListener=function j(g,h,k,m){var n=l?l+g:g;if(!this._events[n])return this;if(!h)return e(this,n),this;var p=this._events[n];if(p.fn)p.fn===h&&(!m||p.once)&&(!k||p.context===k)&&e(this,n);else{for(var q=0,r=[],s=p.length;q<s;q++)(p[q].fn!==h||m&&!p[q].once||k&&p[q].context!==k)&&r.push(p[q]);r.length?this._events[n]=r.length===1?r[0]:r:e(this,n)}return this},c.prototype.removeAllListeners=function j(g){var h;return g?(h=l?l+g:g,this._events[h]&&e(this,h)):(this._events=new i(),this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=l,c.EventEmitter=c,o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(48),i=a(152),b=a(274),f=a(47),e=a(56),c=a(155),j=new d({initialize:function g(h,k,m,n){h===void 0&&(h=0),k===void 0&&(k=0),m===void 0&&(m=0),n===void 0&&(n=0),this.type=f.RECTANGLE,this.x=h,this.y=k,this.width=m,this.height=n},contains:function(g,h){return l(this,g,h)},getPoint:function(g,h){return i(this,g,h)},getPoints:function(g,h,k){return b(this,g,h,k)},getRandomPoint:function(g){return c(this,g)},setTo:function(g,h,k,m){return this.x=g,this.y=h,this.width=k,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(g,h){return h===void 0&&(h=g),this.x=g,this.y=h,this},setSize:function(g,h){return h===void 0&&(h=g),this.width=g,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(g){return g===void 0&&(g=new e()),g.setTo(this.x,this.y,this.right,this.y),g},getLineB:function(g){return g===void 0&&(g=new e()),g.setTo(this.right,this.y,this.right,this.bottom),g},getLineC:function(g){return g===void 0&&(g=new e()),g.setTo(this.right,this.bottom,this.x,this.bottom),g},getLineD:function(g){return g===void 0&&(g=new e()),g.setTo(this.x,this.bottom,this.x,this.y),g},left:{get:function(){return this.x},set:function(g){g>=this.right?this.width=0:this.width=this.right-g,this.x=g}},right:{get:function(){return this.x+this.width},set:function(g){g<=this.x?this.width=0:this.width=g-this.x}},top:{get:function(){return this.y},set:function(g){g>=this.bottom?this.height=0:this.height=this.bottom-g,this.y=g}},bottom:{get:function(){return this.y+this.height},set:function(g){g<=this.y?this.height=0:this.height=g-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(g){this.x=g-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(g){this.y=g-this.height/2}}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Alpha:a(533),AlphaSingle:a(269),Animation:a(504),BlendMode:a(272),ComputedSize:a(552),Crop:a(553),Depth:a(273),Flip:a(554),GetBounds:a(555),Mask:a(277),Origin:a(572),PathFollower:a(573),Pipeline:a(156),ScrollFactor:a(280),Size:a(574),Texture:a(575),TextureCrop:a(576),Tint:a(577),ToJSON:a(281),Transform:a(282),TransformMatrix:a(29),Visible:a(283)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(281),i=a(113),b=a(10),f=a(90),e=new d({Extends:b,initialize:function c(j,g){b.call(this),this.scene=j,this.type=g,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,j.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new i(this)),this},setData:function(c,j){return this.data||(this.data=new i(this)),this.data.set(c,j),this},incData:function(c,j){return this.data||(this.data=new i(this)),this.data.inc(c,j),this},toggleData:function(c){return this.data||(this.data=new i(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new i(this)),this.data.get(c)},setInteractive:function(c,j,g){return this.scene.sys.input.enable(this,c,j,g),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return l(this)},willRender:function(c){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,j=this.parentContainer,g=[];j;){g.unshift(j.getIndex(c)),c=j;if(j.parentContainer)j=j.parentContainer;else break}return g.unshift(this.scene.sys.displayList.getIndex(c)),g},destroy:function(c){c===void 0&&(c=!1);if(!this.scene||this.ignoreDestroy)return;this.preDestroy&&this.preDestroy.call(this),this.emit(f.DESTROY,this);var j=this.scene.sys;c||(j.displayList.remove(this),j.updateList.remove(this)),this.input&&(j.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),c||j.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}});e.RENDER_MASK=15,o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(170),l=a(6),i=function(b,f,e){var c=l(b,f,null);if(c===null)return e;{if(Array.isArray(c))return d.RND.pick(c);if(typeof c==="object"){if(c.hasOwnProperty("randInt"))return d.RND.integerInRange(c.randInt[0],c.randInt[1]);if(c.hasOwnProperty("randFloat"))return d.RND.realInRange(c.randFloat[0],c.randFloat[1])}else if(typeof c==="function")return c(f)}return c};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(23),i=a(22),b=new d({initialize:function f(e){this.scene=e,this.systems=e.sys,this.displayList,this.updateList,e.sys.events.once(i.BOOT,this.boot,this),e.sys.events.on(i.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});b.register=function(f,e){b.prototype.hasOwnProperty(f)||(b.prototype[f]=e)},b.remove=function(f){b.prototype.hasOwnProperty(f)&&delete b.prototype[f]},l.register("GameObjectCreator",b,"make"),o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(7),l=function(){var i,b,f,e,c,j,g=arguments[0]||{},h=1,k=arguments.length,m=!1;for(typeof g==="boolean"&&(m=g,g=arguments[1]||{},h=2),k===h&&(g=this,--h);h<k;h++)if((i=arguments[h])!=null)for(b in i){f=g[b],e=i[b];if(g===e)continue;m&&e&&(d(e)||(c=Array.isArray(e)))?(c?(c=!1,j=f&&Array.isArray(f)?f:[]):j=f&&d(f)?f:{},g[b]=l(m,j,e)):e!==void 0&&(g[b]=e)}return g};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return Math.max(l,Math.min(i,d))};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BLUR:a(556),BOOT:a(557),CONTEXT_LOST:a(558),CONTEXT_RESTORED:a(559),DESTROY:a(560),FOCUS:a(561),HIDDEN:a(562),PAUSE:a(563),POST_RENDER:a(564),POST_STEP:a(565),PRE_RENDER:a(566),PRE_STEP:a(567),READY:a(568),RESUME:a(569),STEP:a(570),VISIBLE:a(571)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(82),b=a(2),f=a(138),e=a(215),c=a(455),j=a(139),g=new d({initialize:function h(k,m){this.loader=k,this.cache=b(m,"cache",!1),this.type=b(m,"type",!1),this.key=b(m,"key",!1);var n=this.key;k.prefix&&k.prefix!==""&&(this.key=k.prefix+n);if(!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=b(m,"url"),this.url===void 0?this.url=k.path+n+"."+b(m,"extension",""):typeof this.url==="string"&&this.url.indexOf("blob:")!==0&&this.url.indexOf("data:")!==0&&(this.url=k.path+this.url),this.src="",this.xhrSettings=j(b(m,"responseType",void 0)),b(m,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,b(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url==="function"?l.FILE_POPULATED:l.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=b(m,"config",{}),this.multiFile,this.linkFile},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===l.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=l.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=c(this,this.loader.xhr))},onLoad:function(h,k){var m=h.responseURL&&h.responseURL.indexOf("file://")===0&&k.target.status===0,n=!(k.target&&k.target.status!==200)||m;h.readyState===4&&h.status>=400&&h.status<=599&&(n=!1),this.state=l.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,n)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(i.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=l.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=l.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=l.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(h){h===void 0&&(h=this.data);var k=this.key,m=this.type;this.loader.emit(i.FILE_COMPLETE,k,m,h),this.loader.emit(i.FILE_KEY_COMPLETE+m+"-"+k,k,m,h),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});g.createObjectURL=function(h,k,m){if(typeof URL==="function")h.src=URL.createObjectURL(k);else{var n=new FileReader();n.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(k.type||m)+";base64,"+n.result.split(",")[1]},n.onerror=h.onerror,n.readAsDataURL(k)}},g.revokeObjectURL=function(h){typeof URL==="function"&&URL.revokeObjectURL(h.src)},o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BOOT:a(709),CREATE:a(710),DESTROY:a(711),PAUSE:a(712),POST_UPDATE:a(713),PRE_UPDATE:a(714),READY:a(715),RENDER:a(716),RESUME:a(717),SHUTDOWN:a(718),SLEEP:a(719),START:a(720),TRANSITION_COMPLETE:a(721),TRANSITION_INIT:a(722),TRANSITION_OUT:a(723),TRANSITION_START:a(724),TRANSITION_WAKE:a(725),UPDATE:a(726),WAKE:a(727)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={},d={},l={};l.register=function(i,b,f,e){e===void 0&&(e=!1),a[i]={plugin:b,mapping:f,custom:e}},l.registerCustom=function(i,b,f,e){d[i]={plugin:b,mapping:f,data:e}},l.hasCore=function(i){return a.hasOwnProperty(i)},l.hasCustom=function(i){return d.hasOwnProperty(i)},l.getCore=function(i){return a[i]},l.getCustom=function(i){return d[i]},l.getCustomClass=function(i){return d.hasOwnProperty(i)?d[i].plugin:null},l.remove=function(i){a.hasOwnProperty(i)&&delete a[i]},l.removeCustom=function(i){d.hasOwnProperty(i)&&delete d[i]},l.destroyCorePlugins=function(){for(var i in a)a.hasOwnProperty(i)&&delete a[i]},l.destroyCustomPlugins=function(){for(var i in d)d.hasOwnProperty(i)&&delete d[i]},o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=function(i,b,f,e,c,j){i===void 0&&(i=0),b===void 0&&(b=0),f===void 0&&(f=j.width),e===void 0&&(e=j.height);var g=d(c,"isNotEmpty",!1),h=d(c,"isColliding",!1),k=d(c,"hasInterestingFace",!1);i<0&&(f+=i,i=0),b<0&&(e+=b,b=0),i+f>j.width&&(f=Math.max(j.width-i,0)),b+e>j.height&&(e=Math.max(j.height-b,0));for(var m=[],n=b;n<b+e;n++)for(var p=i;p<i+f;p++){var q=j.data[n][p];if(q!==null){if(g&&q.index===-1)continue;if(h&&!q.collides)continue;if(k&&!q.hasInterestingFace)continue;m.push(q)}}return m};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f,e){b===void 0&&(b=0),f===void 0&&(f=0),e===void 0&&(e=1);var c,j=0,g=d.length;if(e===1)for(c=f;c<g;c++)d[c][l]=i+j*b,j++;else for(c=f;c>=0;c--)d[c][l]=i+j*b,j++;return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(33),l=a(167),i=[],b=!1,f=function(){var e=function(q,r,s,t,u){r===void 0&&(r=1),s===void 0&&(s=1),t===void 0&&(t=d.CANVAS),u===void 0&&(u=!1);var v,x=g(t);return x===null?(x={parent:q,canvas:document.createElement("canvas"),type:t},t===d.CANVAS&&i.push(x),v=x.canvas):(x.parent=q,v=x.canvas),u&&(x.parent=v),v.width=r,v.height=s,b&&t===d.CANVAS&&l.disable(v.getContext("2d")),v},c=function(q,r,s){return e(q,r,s,d.CANVAS)},j=function(q,r,s){return e(q,r,s,d.WEBGL)},g=function(q){q===void 0&&(q=d.CANVAS);if(q===d.WEBGL)return null;for(var r=0;r<i.length;r++){var s=i[r];if(!s.parent&&s.type===q)return s}return null},h=function(q){var r=q instanceof HTMLCanvasElement;i.forEach(function(s){(r&&s.canvas===q||!r&&s.parent===q)&&(s.parent=null,s.canvas.width=1,s.canvas.height=1)})},k=function(){var q=0;return i.forEach(function(r){r.parent&&q++}),q},m=function(){return i.length-k()},n=function(){b=!0},p=function(){b=!1};return{create2D:c,create:e,createWebGL:j,disableSmoothing:n,enableSmoothing:p,first:g,free:m,pool:i,remove:h,total:k}};o.exports=f()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(52),l=a(15),i=function(b,f,e){f.x=l(e,"x",0),f.y=l(e,"y",0),f.depth=l(e,"depth",0),f.flipX=l(e,"flipX",!1),f.flipY=l(e,"flipY",!1);var c=l(e,"scale",null);typeof c==="number"?f.setScale(c):c!==null&&(f.scaleX=l(c,"x",1),f.scaleY=l(c,"y",1));var j=l(e,"scrollFactor",null);typeof j==="number"?f.setScrollFactor(j):j!==null&&(f.scrollFactorX=l(j,"x",1),f.scrollFactorY=l(j,"y",1)),f.rotation=l(e,"rotation",0);var g=l(e,"angle",null);g!==null&&(f.angle=g),f.alpha=l(e,"alpha",1);var h=l(e,"origin",null);if(typeof h==="number")f.setOrigin(h);else if(h!==null){var k=l(h,"x",.5),m=l(h,"y",.5);f.setOrigin(k,m)}f.blendMode=l(e,"blendMode",d.NORMAL),f.visible=l(e,"visible",!0);var n=l(e,"add",!0);return n&&b.sys.displayList.add(f),f.preUpdate&&b.sys.updateList.add(f),f};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=b.alpha*i.alpha;if(e<=0)return!1;var c=d._tempMatrix1.copyFromArray(b.matrix.matrix),j=d._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),g=d._tempMatrix3;return f?(c.multiplyWithOffset(f,-b.scrollX*i.scrollFactorX,-b.scrollY*i.scrollFactorY),j.e=i.x,j.f=i.y,c.multiply(j,g)):(j.e-=b.scrollX*i.scrollFactorX,j.f-=b.scrollY*i.scrollFactorY,c.multiply(j,g)),l.globalCompositeOperation=d.blendModes[i.blendMode],l.globalAlpha=e,l.save(),g.setToContext(l),l.imageSmoothingEnabled=!(!d.antialias||i.frame&&i.frame.source.scaleMode),!0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(13),i=a(3),b=new d({initialize:function f(e,c,j,g,h,k){e===void 0&&(e=1),c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g=1),h===void 0&&(h=0),k===void 0&&(k=0),this.matrix=new Float32Array([e,c,j,g,h,k,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(f){this.matrix[0]=f}},b:{get:function(){return this.matrix[1]},set:function(f){this.matrix[1]=f}},c:{get:function(){return this.matrix[2]},set:function(f){this.matrix[2]=f}},d:{get:function(){return this.matrix[3]},set:function(f){this.matrix[3]=f}},e:{get:function(){return this.matrix[4]},set:function(f){this.matrix[4]=f}},f:{get:function(){return this.matrix[5]},set:function(f){this.matrix[5]=f}},tx:{get:function(){return this.matrix[4]},set:function(f){this.matrix[4]=f}},ty:{get:function(){return this.matrix[5]},set:function(f){this.matrix[5]=f}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var f=this.matrix,e=f[0],c=f[1],j=f[2],g=f[3];return e||c?c>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):j||g?l.TAU-(g>0?Math.acos(-j/this.scaleY):-Math.acos(j/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var f=this.matrix;return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f[4]=0,f[5]=0,this},translate:function(f,e){var c=this.matrix;return c[4]=c[0]*f+c[2]*e+c[4],c[5]=c[1]*f+c[3]*e+c[5],this},scale:function(f,e){var c=this.matrix;return c[0]*=f,c[1]*=f,c[2]*=e,c[3]*=e,this},rotate:function(f){var e=Math.sin(f),c=Math.cos(f),j=this.matrix,g=j[0],h=j[1],k=j[2],m=j[3];return j[0]=g*c+k*e,j[1]=h*c+m*e,j[2]=g*-e+k*c,j[3]=h*-e+m*c,this},multiply:function(f,e){var c=this.matrix,j=f.matrix,g=c[0],h=c[1],k=c[2],m=c[3],n=c[4],p=c[5],q=j[0],r=j[1],s=j[2],t=j[3],u=j[4],v=j[5],x=e===void 0?this:e;return x.a=q*g+r*k,x.b=q*h+r*m,x.c=s*g+t*k,x.d=s*h+t*m,x.e=u*g+v*k+n,x.f=u*h+v*m+p,x},multiplyWithOffset:function(f,e,c){var j=this.matrix,g=f.matrix,h=j[0],k=j[1],m=j[2],n=j[3],p=j[4],q=j[5],r=e*h+c*m+p,s=e*k+c*n+q,t=g[0],u=g[1],v=g[2],x=g[3],z=g[4],y=g[5];return j[0]=t*h+u*m,j[1]=t*k+u*n,j[2]=v*h+x*m,j[3]=v*k+x*n,j[4]=z*h+y*m+r,j[5]=z*k+y*n+s,this},transform:function(f,e,c,j,g,h){var k=this.matrix,m=k[0],n=k[1],p=k[2],q=k[3],r=k[4],s=k[5];return k[0]=f*m+e*p,k[1]=f*n+e*q,k[2]=c*m+j*p,k[3]=c*n+j*q,k[4]=g*m+h*p+r,k[5]=g*n+h*q+s,this},transformPoint:function(f,e,c){c===void 0&&(c={x:0,y:0});var j=this.matrix,g=j[0],h=j[1],k=j[2],m=j[3],n=j[4],p=j[5];return c.x=f*g+e*k+n,c.y=f*h+e*m+p,c},invert:function(){var f=this.matrix,e=f[0],c=f[1],j=f[2],g=f[3],h=f[4],k=f[5],m=e*g-c*j;return f[0]=g/m,f[1]=-c/m,f[2]=-j/m,f[3]=e/m,f[4]=(j*k-g*h)/m,f[5]=-(e*k-c*h)/m,this},copyFrom:function(f){var e=this.matrix;return e[0]=f.a,e[1]=f.b,e[2]=f.c,e[3]=f.d,e[4]=f.e,e[5]=f.f,this},copyFromArray:function(f){var e=this.matrix;return e[0]=f[0],e[1]=f[1],e[2]=f[2],e[3]=f[3],e[4]=f[4],e[5]=f[5],this},copyToContext:function(f){var e=this.matrix;return f.transform(e[0],e[1],e[2],e[3],e[4],e[5]),f},setToContext:function(f){var e=this.matrix;return f.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),f},copyToArray:function(f){var e=this.matrix;return f===void 0?f=[e[0],e[1],e[2],e[3],e[4],e[5]]:(f[0]=e[0],f[1]=e[1],f[2]=e[2],f[3]=e[3],f[4]=e[4],f[5]=e[5]),f},setTransform:function(f,e,c,j,g,h){var k=this.matrix;return k[0]=f,k[1]=e,k[2]=c,k[3]=j,k[4]=g,k[5]=h,this},decomposeMatrix:function(){var f=this.decomposedMatrix,e=this.matrix,c=e[0],j=e[1],g=e[2],h=e[3],k=c*h-j*g;f.translateX=e[4],f.translateY=e[5];if(c||j){var m=Math.sqrt(c*c+j*j);f.rotation=j>0?Math.acos(c/m):-Math.acos(c/m),f.scaleX=m,f.scaleY=k/m}else if(g||h){var n=Math.sqrt(g*g+h*h);f.rotation=Math.PI*.5-(h>0?Math.acos(-g/n):-Math.acos(g/n)),f.scaleX=k/n,f.scaleY=n}else f.rotation=0,f.scaleX=0,f.scaleY=0;return f},applyITRS:function(f,e,c,j,g){var h=this.matrix,k=Math.sin(c),m=Math.cos(c);return h[4]=f,h[5]=e,h[0]=m*j,h[1]=k*j,h[2]=-k*g,h[3]=m*g,this},applyInverse:function(f,e,c){c===void 0&&(c=new i());var j=this.matrix,g=j[0],h=j[1],k=j[2],m=j[3],n=j[4],p=j[5],q=1/(g*m+k*-h);return c.x=m*q*f+-k*q*e+(p*k-n*m)*q,c.y=g*q*e+-h*q*f+(-p*g+n*h)*q,c},getX:function(f,e){return f*this.a+e*this.c+this.e},getY:function(f,e){return f*this.b+e*this.d+this.f},getCSSMatrix:function(){var f=this.matrix;return"matrix("+f[0]+","+f[1]+","+f[2]+","+f[3]+","+f[4]+","+f[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(56),f=new d({Extends:i,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Transform,l.Visible],initialize:function e(c,j,g){j===void 0&&(j="Shape"),i.call(this,c,j),this.geom=g,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new b(),this.initPipeline()},setFillStyle:function(e,c){return c===void 0&&(c=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=c,this.isFilled=!0),this},setStrokeStyle:function(e,c,j){return j===void 0&&(j=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=c,this.strokeAlpha=j,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(165),i=a(295),b=a(166),f=a(296),e=new d({initialize:function c(j,g,h,k){j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(j,g,h,k)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(c,j,g,h,k){return h===void 0&&(h=255),k===void 0&&(k=!0),this._locked=!0,this.red=c,this.green=j,this.blue=g,this.alpha=h,this._locked=!1,this.update(k)},setGLTo:function(c,j,g,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=c,this.greenGL=j,this.blueGL=g,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(c){return this._locked=!0,this.red=c.r,this.green=c.g,this.blue=c.b,c.hasOwnProperty("a")&&(this.alpha=c.a),this._locked=!1,this.update(!0)},setFromHSV:function(c,j,g){return b(c,j,g,this)},update:function(c){c===void 0&&(c=!1);if(this._locked)return this;var j=this.r,g=this.g,h=this.b,k=this.a;return this._color=l(j,g,h),this._color32=i(j,g,h,k),this._rgba="rgba("+j+","+g+","+h+","+k/255+")",c&&f(j,g,h,this),this},updateHSV:function(){var c=this.r,j=this.g,g=this.b;return f(c,j,g,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(c){return this.setTo(c,c,c)},random:function(c,j){c===void 0&&(c=0),j===void 0&&(j=255);var g=Math.floor(c+Math.random()*(j-c)),h=Math.floor(c+Math.random()*(j-c)),k=Math.floor(c+Math.random()*(j-c));return this.setTo(g,h,k)},randomGray:function(c,j){c===void 0&&(c=0),j===void 0&&(j=255);var g=Math.floor(c+Math.random()*(j-c));return this.setTo(g,g,g)},saturate:function(c){return this.s+=c/100,this},desaturate:function(c){return this.s-=c/100,this},lighten:function(c){return this.v+=c/100,this},darken:function(c){return this.v-=c/100,this},brighten:function(c){var j=this.r,g=this.g,h=this.b;return j=Math.max(0,Math.min(255,j-Math.round(255*-(c/100)))),g=Math.max(0,Math.min(255,g-Math.round(255*-(c/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(c/100)))),this.setTo(j,g,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(c){this.gl[0]=Math.min(Math.abs(c),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(c){this.gl[1]=Math.min(Math.abs(c),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(c){this.gl[2]=Math.min(Math.abs(c),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(c){this.gl[3]=Math.min(Math.abs(c),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(c){c=Math.floor(Math.abs(c)),this.r=Math.min(c,255),this.gl[0]=c/255,this.update(!0)}},green:{get:function(){return this.g},set:function(c){c=Math.floor(Math.abs(c)),this.g=Math.min(c,255),this.gl[1]=c/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(c){c=Math.floor(Math.abs(c)),this.b=Math.min(c,255),this.gl[2]=c/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(c){c=Math.floor(Math.abs(c)),this.a=Math.min(c,255),this.gl[3]=c/255,this.update()}},h:{get:function(){return this._h},set:function(c){this._h=c,b(c,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(c){this._s=c,b(this._h,c,this._v,this)}},v:{get:function(){return this._v},set:function(c){this._v=c,b(this._h,this._s,c,this)}}});o.exports=e},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={VERSION:"3.24.1",BlendModes:a(52),ScaleModes:a(234),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.y+d.height-d.height*d.originY};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x-d.width*d.originX};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x+d.width-d.width*d.originX};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.y-d.height*d.originY};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f,e){b===void 0&&(b=0),f===void 0&&(f=0),e===void 0&&(e=1);var c,j=0,g=d.length;if(e===1)for(c=f;c<g;c++)d[c][l]+=i+j*b,j++;else for(c=f;c>=0;c--)d[c][l]+=i+j*b,j++;return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=function(i){return i*d.DEG_TO_RAD};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DESTROY:a(647),FADE_IN_COMPLETE:a(648),FADE_IN_START:a(649),FADE_OUT_COMPLETE:a(650),FADE_OUT_START:a(651),FLASH_COMPLETE:a(652),FLASH_START:a(653),PAN_COMPLETE:a(654),PAN_START:a(655),POST_RENDER:a(656),PRE_RENDER:a(657),ROTATE_COMPLETE:a(658),ROTATE_START:a(659),SHAKE_COMPLETE:a(660),SHAKE_START:a(661),ZOOM_COMPLETE:a(662),ZOOM_START:a(663)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=i?i:l.fillColor,e=b?b:l.fillAlpha,c=(f&16711680)>>>16,j=(f&65280)>>>8,g=f&255;d.fillStyle="rgba("+c+","+j+","+g+","+e+")"};o.exports=a},function(o,w){var a={};o.exports=a,function(){a._nextId=0,a._seed=0,a._nowStartTime=+new Date(),a.extend=function(l,i){var b,f;typeof i==="boolean"?(b=2,f=i):(b=1,f=!0);for(var e=b;e<arguments.length;e++){var c=arguments[e];if(c)for(var j in c)f&&c[j]&&c[j].constructor===Object?!l[j]||l[j].constructor===Object?(l[j]=l[j]||{},a.extend(l[j],f,c[j])):l[j]=c[j]:l[j]=c[j]}return l},a.clone=function(l,i){return a.extend({},i,l)},a.keys=function(l){if(Object.keys)return Object.keys(l);var i=[];for(var b in l)i.push(b);return i},a.values=function(l){var i=[];if(Object.keys){for(var b=Object.keys(l),f=0;f<b.length;f++)i.push(l[b[f]]);return i}for(var e in l)i.push(l[e]);return i},a.get=function(l,i,b,f){i=i.split(".").slice(b,f);for(var e=0;e<i.length;e+=1)l=l[i[e]];return l},a.set=function(l,i,b,f,e){var c=i.split(".").slice(f,e);return a.get(l,i,0,-1)[c[c.length-1]]=b,b},a.shuffle=function(l){for(var i=l.length-1;i>0;i--){var b=Math.floor(a.random()*(i+1)),f=l[i];l[i]=l[b],l[b]=f}return l},a.choose=function(l){return l[Math.floor(a.random()*l.length)]},a.isElement=function(l){return typeof HTMLElement!=="undefined"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},a.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},a.isFunction=function(l){return typeof l==="function"},a.isPlainObject=function(l){return typeof l==="object"&&l.constructor===Object},a.isString=function(l){return Object.prototype.toString.call(l)==="[object String]"},a.clamp=function(l,i,b){return l<i?i:l>b?b:l},a.sign=function(l){return l<0?-1:1},a.now=function(){if(typeof window!=="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date()-a._nowStartTime},a.random=function(l,i){return l=typeof l!=="undefined"?l:0,i=typeof i!=="undefined"?i:1,l+d()*(i-l)};var d=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.nextId=function(){return a._nextId++},a.indexOf=function(l,i){if(l.indexOf)return l.indexOf(i);for(var b=0;b<l.length;b++)if(l[b]===i)return b;return-1},a.map=function(l,i){if(l.map)return l.map(i);for(var b=[],f=0;f<l.length;f+=1)b.push(i(l[f]));return b},a.topologicalSort=function(l){var i=[],b=[],f=[];for(var e in l)!b[e]&&!f[e]&&a._topologicalSort(e,b,f,l,i);return i},a._topologicalSort=function(l,i,b,f,e){var c=f[l]||[];b[l]=!0;for(var j=0;j<c.length;j+=1){var g=c[j];if(b[g])continue;i[g]||a._topologicalSort(g,i,b,f,e)}b[l]=!1,i[l]=!0,e.push(l)},a.chain=function(){for(var l=[],i=0;i<arguments.length;i+=1){var b=arguments[i];b._chained?l.push.apply(l,b._chained):l.push(b)}var f=function(){for(var e,c=new Array(arguments.length),j=0,g=arguments.length;j<g;j++)c[j]=arguments[j];for(j=0;j<l.length;j+=1){var h=l[j].apply(e,c);typeof h!=="undefined"&&(e=h)}return e};return f._chained=l,f},a.chainPathBefore=function(l,i,b){return a.set(l,i,a.chain(b,a.get(l,i)))},a.chainPathAfter=function(l,i,b){return a.set(l,i,a.chain(a.get(l,i),b))}}()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.y=l+d.height*d.originY,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x=l+d.width*d.originX,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x=l-d.width+d.width*d.originX,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.y=l-d.height+d.height*d.originY,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.width<=0||d.height<=0?!1:d.x<=l&&d.x+d.width>=l&&d.y<=i&&d.y+d.height>=i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=i?i:l.strokeColor,e=b?b:l.strokeAlpha,c=(f&16711680)>>>16,j=(f&65280)>>>8,g=f&255;d.strokeStyle="rgba("+c+","+j+","+g+","+e+")",d.lineWidth=l.lineWidth};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(142),l=a(24),i=function(b,f,e,c,j){for(var g=null,h=null,k=null,m=null,n=l(b,f,e,c,null,j),p=0;p<n.length;p++){var q=n[p];q&&(q.collides?(g=d(q.x,q.y-1,!0,j),h=d(q.x,q.y+1,!0,j),k=d(q.x-1,q.y,!0,j),m=d(q.x+1,q.y,!0,j),q.faceTop=g&&g.collides?!1:!0,q.faceBottom=h&&h.collides?!1:!0,q.faceLeft=k&&k.collides?!1:!0,q.faceRight=m&&m.collides?!1:!0):q.resetFaces())}};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=d-i,e=l-b;return Math.sqrt(f*f+e*e)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BOOT:a(823),DESTROY:a(824),DRAG_END:a(825),DRAG_ENTER:a(826),DRAG:a(827),DRAG_LEAVE:a(828),DRAG_OVER:a(829),DRAG_START:a(830),DROP:a(831),GAME_OUT:a(832),GAME_OVER:a(833),GAMEOBJECT_DOWN:a(834),GAMEOBJECT_DRAG_END:a(835),GAMEOBJECT_DRAG_ENTER:a(836),GAMEOBJECT_DRAG:a(837),GAMEOBJECT_DRAG_LEAVE:a(838),GAMEOBJECT_DRAG_OVER:a(839),GAMEOBJECT_DRAG_START:a(840),GAMEOBJECT_DROP:a(841),GAMEOBJECT_MOVE:a(842),GAMEOBJECT_OUT:a(843),GAMEOBJECT_OVER:a(844),GAMEOBJECT_POINTER_DOWN:a(845),GAMEOBJECT_POINTER_MOVE:a(846),GAMEOBJECT_POINTER_OUT:a(847),GAMEOBJECT_POINTER_OVER:a(848),GAMEOBJECT_POINTER_UP:a(849),GAMEOBJECT_POINTER_WHEEL:a(850),GAMEOBJECT_UP:a(851),GAMEOBJECT_WHEEL:a(852),MANAGER_BOOT:a(853),MANAGER_PROCESS:a(854),MANAGER_UPDATE:a(855),POINTER_DOWN:a(856),POINTER_DOWN_OUTSIDE:a(857),POINTER_MOVE:a(858),POINTER_OUT:a(859),POINTER_OVER:a(860),POINTER_UP:a(861),POINTER_UP_OUTSIDE:a(862),POINTER_WHEEL:a(863),POINTERLOCK_CHANGE:a(864),PRE_UPDATE:a(865),SHUTDOWN:a(866),START:a(867),UPDATE:a(868)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(d.radius>0&&l>=d.left&&l<=d.right&&i>=d.top&&i<=d.bottom){var b=(d.x-l)*(d.x-l),f=(d.y-i)*(d.y-i);return b+f<=d.radius*d.radius}else return!1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(275),i=a(153),b=a(47),f=a(154),e=a(3),c=new d({initialize:function j(g,h,k,m){g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=0),m===void 0&&(m=0),this.type=b.LINE,this.x1=g,this.y1=h,this.x2=k,this.y2=m},getPoint:function(j,g){return l(this,j,g)},getPoints:function(j,g,h){return i(this,j,g,h)},getRandomPoint:function(j){return f(this,j)},setTo:function(j,g,h,k){return j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=0),this.x1=j,this.y1=g,this.x2=h,this.y2=k,this},getPointA:function(j){return j===void 0&&(j=new e()),j.set(this.x1,this.y1),j},getPointB:function(j){return j===void 0&&(j=new e()),j.set(this.x2,this.y2),j},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(j){this.x1<=this.x2?this.x1=j:this.x2=j}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(j){this.x1>this.x2?this.x1=j:this.x2=j}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(j){this.y1<=this.y2?this.y1=j:this.y2=j}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(j){this.y1>this.y2?this.y1=j:this.y2=j}}});o.exports=c},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.sqrt((d.x2-d.x1)*(d.x2-d.x1)+(d.y2-d.y1)*(d.y2-d.y1))};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=i-l;return l+((d-l)%b+b)%b};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COMPLETE:a(891),DECODED:a(892),DECODED_ALL:a(893),DESTROY:a(894),DETUNE:a(895),GLOBAL_DETUNE:a(896),GLOBAL_MUTE:a(897),GLOBAL_RATE:a(898),GLOBAL_VOLUME:a(899),LOOP:a(900),LOOPED:a(901),MUTE:a(902),PAUSE_ALL:a(903),PAUSE:a(904),PLAY:a(905),RATE:a(906),RESUME_ALL:a(907),RESUME:a(908),SEEK:a(909),STOP_ALL:a(910),STOP:a(911),UNLOCKED:a(912),VOLUME:a(913)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(6),c=a(7),j=new d({Extends:i,initialize:function g(h,k,m,n,p){var q="json";if(c(k)){var r=k;k=f(r,"key"),m=f(r,"url"),n=f(r,"xhrSettings"),q=f(r,"extension",q),p=f(r,"dataKey",p)}var s={type:"json",cache:h.cacheManager.json,extension:q,responseType:"text",key:k,url:m,xhrSettings:n,config:p};i.call(this,h,s),c(m)&&(p?this.data=e(m,p):this.data=m,this.state=l.FILE_POPULATED)},onProcess:function(){if(this.state!==l.FILE_POPULATED){this.state=l.FILE_PROCESSING;var g=JSON.parse(this.xhrLoader.responseText),h=this.config;typeof h==="string"?this.data=e(g,h,g):this.data=g}this.onProcessComplete()}});b.register("json",function(g,h,k,m){if(Array.isArray(g))for(var n=0;n<g.length;n++)this.addFile(new j(this,g[n]));else this.addFile(new j(this,g,h,m,k));return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c){this.loader=b,this.type=f,this.key=e,this.multiKeyIndex=b.multiKeyIndex++,this.files=c,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=b.baseURL,this.path=b.path,this.prefix=b.prefix;for(var j=0;j<c.length;j++)c[j].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){var b=this.files.indexOf(i);b!==-1&&this.pending--},onFileFailed:function(i){var b=this.files.indexOf(i);b!==-1&&this.failed++}});o.exports=l},function(o,w,a){var d={};o.exports=d;var l=a(86),i=a(99),b=a(239),f=a(42),e=a(100),c=a(513);(function(){d._inertiaScale=4,d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,d.create=function(g){var h={id:f.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!g.hasOwnProperty("position")&&g.hasOwnProperty("vertices")?g.position=l.centre(g.vertices):g.hasOwnProperty("vertices")||(h.vertices=l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var k=f.extend(h,g);return j(k,g),k.setOnCollideWith=function(m,n){return n?this.onCollideWith[m.id]=n:delete this.onCollideWith[m.id],this},k},d.nextGroup=function(g){return g?d._nextNonCollidingGroupId--:d._nextCollidingGroupId++},d.nextCategory=function(){return d._nextCategory=d._nextCategory<<1,d._nextCategory};var j=function(g,h){h=h||{},d.set(g,{bounds:g.bounds||e.create(g.vertices),positionPrev:g.positionPrev||i.clone(g.position),anglePrev:g.anglePrev||g.angle,vertices:g.vertices,parts:g.parts||[g],isStatic:g.isStatic,isSleeping:g.isSleeping,parent:g.parent||g});var k=g.bounds;l.rotate(g.vertices,g.angle,g.position),c.rotate(g.axes,g.angle),e.update(k,g.vertices,g.velocity),d.set(g,{axes:h.axes||g.axes,area:h.area||g.area,mass:h.mass||g.mass,inertia:h.inertia||g.inertia});if(g.parts.length===1){var m=g.centerOfMass,n=g.centerOffset,p=k.max.x-k.min.x,q=k.max.y-k.min.y;m.x=-(k.min.x-g.position.x)/p,m.y=-(k.min.y-g.position.y)/q,n.x=p*m.x,n.y=q*m.y}};d.set=function(g,h,k){var m;typeof h==="string"&&(m=h,h={},h[m]=k);for(m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;k=h[m];switch(m){case"isStatic":d.setStatic(g,k);break;case"isSleeping":b.set(g,k);break;case"mass":d.setMass(g,k);break;case"density":d.setDensity(g,k);break;case"inertia":d.setInertia(g,k);break;case"vertices":d.setVertices(g,k);break;case"position":d.setPosition(g,k);break;case"angle":d.setAngle(g,k);break;case"velocity":d.setVelocity(g,k);break;case"angularVelocity":d.setAngularVelocity(g,k);break;case"parts":d.setParts(g,k);break;case"centre":d.setCentre(g,k);break;default:g[m]=k}}},d.setStatic=function(g,h){for(var k=0;k<g.parts.length;k++){var m=g.parts[k];m.isStatic=h,h?(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia},m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=Infinity,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null)}},d.setMass=function(g,h){var k=g.inertia/(g.mass/6);g.inertia=k*(h/6),g.inverseInertia=1/g.inertia,g.mass=h,g.inverseMass=1/g.mass,g.density=g.mass/g.area},d.setDensity=function(g,h){d.setMass(g,h*g.area),g.density=h},d.setInertia=function(g,h){g.inertia=h,g.inverseInertia=1/g.inertia},d.setVertices=function(g,h){h[0].body===g?g.vertices=h:g.vertices=l.create(h,g),g.axes=c.fromVertices(g.vertices),g.area=l.area(g.vertices),d.setMass(g,g.density*g.area);var k=l.centre(g.vertices);l.translate(g.vertices,k,-1),d.setInertia(g,d._inertiaScale*l.inertia(g.vertices,g.mass)),l.translate(g.vertices,g.position),e.update(g.bounds,g.vertices,g.velocity)},d.setParts=function(g,h,k){var m;for(h=h.slice(0),g.parts.length=0,g.parts.push(g),g.parent=g,m=0;m<h.length;m++){var n=h[m];n!==g&&(n.parent=g,g.parts.push(n))}if(g.parts.length===1)return;k=typeof k!=="undefined"?k:!0;if(k){var p=[];for(m=0;m<h.length;m++)p=p.concat(h[m].vertices);l.clockwiseSort(p);var q=l.hull(p),r=l.centre(q);d.setVertices(g,q),l.translate(g.vertices,r)}var s=d._totalProperties(g),t=s.centre.x,u=s.centre.y,v=g.bounds,x=g.centerOfMass,z=g.centerOffset;e.update(v,g.vertices,g.velocity),x.x=-(v.min.x-t)/(v.max.x-v.min.x),x.y=-(v.min.y-u)/(v.max.y-v.min.y),z.x=t,z.y=u,g.area=s.area,g.parent=g,g.position.x=t,g.position.y=u,g.positionPrev.x=t,g.positionPrev.y=u,d.setMass(g,s.mass),d.setInertia(g,s.inertia),d.setPosition(g,s.centre)},d.setCentre=function(g,h,k){k?(g.positionPrev.x+=h.x,g.positionPrev.y+=h.y,g.position.x+=h.x,g.position.y+=h.y):(g.positionPrev.x=h.x-(g.position.x-g.positionPrev.x),g.positionPrev.y=h.y-(g.position.y-g.positionPrev.y),g.position.x=h.x,g.position.y=h.y)},d.setPosition=function(g,h){var k=i.sub(h,g.position);g.positionPrev.x+=k.x,g.positionPrev.y+=k.y;for(var m=0;m<g.parts.length;m++){var n=g.parts[m];n.position.x+=k.x,n.position.y+=k.y,l.translate(n.vertices,k),e.update(n.bounds,n.vertices,g.velocity)}},d.setAngle=function(g,h){var k=h-g.angle;g.anglePrev+=k;for(var m=0;m<g.parts.length;m++){var n=g.parts[m];n.angle+=k,l.rotate(n.vertices,k,g.position),c.rotate(n.axes,k),e.update(n.bounds,n.vertices,g.velocity),m>0&&i.rotateAbout(n.position,k,g.position,n.position)}},d.setVelocity=function(g,h){g.positionPrev.x=g.position.x-h.x,g.positionPrev.y=g.position.y-h.y,g.velocity.x=h.x,g.velocity.y=h.y,g.speed=i.magnitude(g.velocity)},d.setAngularVelocity=function(g,h){g.anglePrev=g.angle-h,g.angularVelocity=h,g.angularSpeed=Math.abs(g.angularVelocity)},d.translate=function(g,h){d.setPosition(g,i.add(g.position,h))},d.rotate=function(g,h,k){if(!k)d.setAngle(g,g.angle+h);else{var m=Math.cos(h),n=Math.sin(h),p=g.position.x-k.x,q=g.position.y-k.y;d.setPosition(g,{x:k.x+(p*m-q*n),y:k.y+(p*n+q*m)}),d.setAngle(g,g.angle+h)}},d.scale=function(g,h,k,m){var n=0,p=0;m=m||g.position;for(var q=0;q<g.parts.length;q++){var r=g.parts[q];r.scale.x=h,r.scale.y=k,l.scale(r.vertices,h,k,m),r.axes=c.fromVertices(r.vertices),r.area=l.area(r.vertices),d.setMass(r,g.density*r.area),l.translate(r.vertices,{x:-r.position.x,y:-r.position.y}),d.setInertia(r,d._inertiaScale*l.inertia(r.vertices,r.mass)),l.translate(r.vertices,{x:r.position.x,y:r.position.y}),q>0&&(n+=r.area,p+=r.inertia),r.position.x=m.x+(r.position.x-m.x)*h,r.position.y=m.y+(r.position.y-m.y)*k,e.update(r.bounds,r.vertices,g.velocity)}g.parts.length>1&&(g.area=n,g.isStatic||(d.setMass(g,g.density*n),d.setInertia(g,p))),g.circleRadius&&(h===k?g.circleRadius*=h:g.circleRadius=null)},d.update=function(g,h,k,m){var n=Math.pow(h*k*g.timeScale,2),p=1-g.frictionAir*k*g.timeScale,q=g.position.x-g.positionPrev.x,r=g.position.y-g.positionPrev.y;g.velocity.x=q*p*m+g.force.x/g.mass*n,g.velocity.y=r*p*m+g.force.y/g.mass*n,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.position.x+=g.velocity.x,g.position.y+=g.velocity.y,g.angularVelocity=(g.angle-g.anglePrev)*p*m+g.torque/g.inertia*n,g.anglePrev=g.angle,g.angle+=g.angularVelocity,g.speed=i.magnitude(g.velocity),g.angularSpeed=Math.abs(g.angularVelocity);for(var s=0;s<g.parts.length;s++){var t=g.parts[s];l.translate(t.vertices,g.velocity),s>0&&(t.position.x+=g.velocity.x,t.position.y+=g.velocity.y),g.angularVelocity!==0&&(l.rotate(t.vertices,g.angularVelocity,g.position),c.rotate(t.axes,g.angularVelocity),s>0&&i.rotateAbout(t.position,g.angularVelocity,g.position,t.position)),e.update(t.bounds,t.vertices,g.velocity)}},d.applyForce=function(g,h,k){g.force.x+=k.x,g.force.y+=k.y;var m={x:h.x-g.position.x,y:h.y-g.position.y};g.torque+=m.x*k.y-m.y*k.x},d._totalProperties=function(g){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},k=g.parts.length===1?0:1;k<g.parts.length;k++){var m=g.parts[k],n=m.mass!==Infinity?m.mass:1;h.mass+=n,h.area+=m.area,h.inertia+=m.inertia,h.centre=i.add(h.centre,i.mult(m.position,n))}return h.centre=i.div(h.centre,h.mass),h}})()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){l===void 0&&(l=!0);var f=b.baseTileWidth,e=b.tilemapLayer;return e&&(i===void 0&&(i=e.scene.cameras.main),d=d-(e.x+i.scrollX*(1-e.scrollFactorX)),f*=e.scaleX),l?Math.floor(d/f):d/f};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){l===void 0&&(l=!0);var f=b.baseTileHeight,e=b.tilemapLayer;return e&&(i===void 0&&(i=e.scene.cameras.main),d=d-(e.y+i.scrollY*(1-e.scrollFactorY)),f*=e.scaleY),l?Math.floor(d/f):d/f};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(55),i=a(266),b=a(267),f=a(47),e=a(150),c=new d({initialize:function j(g,h,k){g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=0),this.type=f.CIRCLE,this.x=g,this.y=h,this._radius=k,this._diameter=k*2},contains:function(j,g){return l(this,j,g)},getPoint:function(j,g){return i(this,j,g)},getPoints:function(j,g,h){return b(this,j,g,h)},getRandomPoint:function(j){return e(this,j)},setTo:function(j,g,h){return this.x=j,this.y=g,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(j,g){return g===void 0&&(g=j),this.x=j,this.y=g,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(j){this._radius=j,this._diameter=j*2}},diameter:{get:function(){return this._diameter},set:function(j){this._diameter=j,this._radius=j*.5}},left:{get:function(){return this.x-this._radius},set:function(j){this.x=j+this._radius}},right:{get:function(){return this.x+this._radius},set:function(j){this.x=j-this._radius}},top:{get:function(){return this.y-this._radius},set:function(j){this.y=j+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(j){this.y=j-this._radius}}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=d;function d(J,C,B){B=B||2;var E=C&&C.length,K=E?C[0]*B:J.length,G=l(J,0,K,B,!0),L=[];if(!G||G.next===G.prev)return L;var M,O,P,Q,R,S,T;E&&(G=g(J,C,G,B));if(J.length>80*B){M=P=J[0],O=Q=J[1];for(var U=B;U<K;U+=B)R=J[U],S=J[U+1],R<M&&(M=R),S<O&&(O=S),R>P&&(P=R),S>Q&&(Q=S);T=Math.max(P-M,Q-O),T=T!==0?1/T:0}return b(G,L,B,M,O,T),L}function l(J,C,B,E,K){var G,L;if(K===N(J,C,B,E)>0)for(G=C;G<B;G+=E)L=F(G,J[G],J[G+1],L);else for(G=B-E;G>=C;G-=E)L=F(G,J[G],J[G+1],L);return L&&v(L,L.next)&&(H(L),L=L.next),L}function i(J,C){if(!J)return J;C||(C=J);var B=J,E;do{E=!1;if(!B.steiner&&(v(B,B.next)||u(B.prev,B,B.next)===0)){H(B),B=C=B.prev;if(B===B.next)break;E=!0}else B=B.next}while(E||B!==C);return C}function b(J,C,B,E,K,G,L){if(!J)return;!L&&G&&n(J,E,K,G);for(var M=J,O,P;J.prev!==J.next;){O=J.prev,P=J.next;if(G?e(J,E,K,G):f(J)){C.push(O.i/B),C.push(J.i/B),C.push(P.i/B),H(J),J=P.next,M=P.next;continue}J=P;if(J===M){L?L===1?(J=c(J,C,B),b(J,C,B,E,K,G,2)):L===2&&j(J,C,B,E,K,G):b(i(J),C,B,E,K,G,1);break}}}function f(J){var C=J.prev,B=J,E=J.next;if(u(C,B,E)>=0)return!1;for(var K=J.next.next;K!==J.prev;){if(s(C.x,C.y,B.x,B.y,E.x,E.y,K.x,K.y)&&u(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function e(J,C,B,E){var K=J.prev,G=J,L=J.next;if(u(K,G,L)>=0)return!1;for(var M=K.x<G.x?K.x<L.x?K.x:L.x:G.x<L.x?G.x:L.x,O=K.y<G.y?K.y<L.y?K.y:L.y:G.y<L.y?G.y:L.y,P=K.x>G.x?K.x>L.x?K.x:L.x:G.x>L.x?G.x:L.x,Q=K.y>G.y?K.y>L.y?K.y:L.y:G.y>L.y?G.y:L.y,R=q(M,O,C,B,E),S=q(P,Q,C,B,E),T=J.prevZ,U=J.nextZ;T&&T.z>=R&&U&&U.z<=S;){if(T!==J.prev&&T!==J.next&&s(K.x,K.y,G.x,G.y,L.x,L.y,T.x,T.y)&&u(T.prev,T,T.next)>=0)return!1;T=T.prevZ;if(U!==J.prev&&U!==J.next&&s(K.x,K.y,G.x,G.y,L.x,L.y,U.x,U.y)&&u(U.prev,U,U.next)>=0)return!1;U=U.nextZ}for(;T&&T.z>=R;){if(T!==J.prev&&T!==J.next&&s(K.x,K.y,G.x,G.y,L.x,L.y,T.x,T.y)&&u(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;U&&U.z<=S;){if(U!==J.prev&&U!==J.next&&s(K.x,K.y,G.x,G.y,L.x,L.y,U.x,U.y)&&u(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function c(J,C,B){var E=J;do{var K=E.prev,G=E.next.next;!v(K,G)&&x(K,E,E.next,G)&&y(K,G)&&y(G,K)&&(C.push(K.i/B),C.push(E.i/B),C.push(G.i/B),H(E),H(E.next),E=J=G),E=E.next}while(E!==J);return E}function j(J,C,B,E,K,G){var L=J;do{for(var M=L.next.next;M!==L.prev;){if(L.i!==M.i&&t(L,M)){var O=D(L,M);L=i(L,L.next),O=i(O,O.next),b(L,C,B,E,K,G),b(O,C,B,E,K,G);return}M=M.next}L=L.next}while(L!==J)}function g(J,C,B,E){var K=[],G,L,M,O,P;for(G=0,L=C.length;G<L;G++)M=C[G]*E,O=G<L-1?C[G+1]*E:J.length,P=l(J,M,O,E,!1),P===P.next&&(P.steiner=!0),K.push(r(P));for(K.sort(h),G=0;G<K.length;G++)k(K[G],B),B=i(B,B.next);return B}function h(J,C){return J.x-C.x}function k(J,C){C=m(J,C);if(C){var B=D(C,J);i(B,B.next)}}function m(J,C){var B=C,E=J.x,K=J.y,G=-Infinity,L;do{if(K<=B.y&&K>=B.next.y&&B.next.y!==B.y){var M=B.x+(K-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(M<=E&&M>G){G=M;if(M===E){if(K===B.y)return B;if(K===B.next.y)return B.next}L=B.x<B.next.x?B:B.next}}B=B.next}while(B!==C);if(!L)return null;if(E===G)return L.prev;var O=L,P=L.x,Q=L.y,R=Infinity,S;for(B=L.next;B!==O;)E>=B.x&&B.x>=P&&E!==B.x&&s(K<Q?E:G,K,P,Q,K<Q?G:E,K,B.x,B.y)&&(S=Math.abs(K-B.y)/(E-B.x),(S<R||S===R&&B.x>L.x)&&y(B,J)&&(L=B,R=S)),B=B.next;return L}function n(J,C,B,E){var K=J;do K.z===null&&(K.z=q(K.x,K.y,C,B,E)),K.prevZ=K.prev,K.nextZ=K.next,K=K.next;while(K!==J);K.prevZ.nextZ=null,K.prevZ=null,p(K)}function p(J){var C,B,E,K,G,L,M,O,P=1;do{for(B=J,J=null,G=null,L=0;B;){for(L++,E=B,M=0,C=0;C<P;C++){M++,E=E.nextZ;if(!E)break}for(O=P;M>0||O>0&&E;)M!==0&&(O===0||!E||B.z<=E.z)?(K=B,B=B.nextZ,M--):(K=E,E=E.nextZ,O--),G?G.nextZ=K:J=K,K.prevZ=G,G=K;B=E}G.nextZ=null,P*=2}while(L>1);return J}function q(J,C,B,E,K){return J=32767*(J-B)*K,C=32767*(C-E)*K,J=(J|J<<8)&16711935,J=(J|J<<4)&252645135,J=(J|J<<2)&858993459,J=(J|J<<1)&1431655765,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,J|C<<1}function r(J){var C=J,B=J;do C.x<B.x&&(B=C),C=C.next;while(C!==J);return B}function s(J,C,B,E,K,G,L,M){return(K-L)*(C-M)-(J-L)*(G-M)>=0&&(J-L)*(E-M)-(B-L)*(C-M)>=0&&(B-L)*(G-M)-(K-L)*(E-M)>=0}function t(J,C){return J.next.i!==C.i&&J.prev.i!==C.i&&!z(J,C)&&y(J,C)&&y(C,J)&&A(J,C)}function u(J,C,B){return(C.y-J.y)*(B.x-C.x)-(C.x-J.x)*(B.y-C.y)}function v(J,C){return J.x===C.x&&J.y===C.y}function x(J,C,B,E){return v(J,C)&&v(B,E)||v(J,E)&&v(B,C)?!0:u(J,C,B)>0!==u(J,C,E)>0&&u(B,E,J)>0!==u(B,E,C)>0}function z(J,C){var B=J;do{if(B.i!==J.i&&B.next.i!==J.i&&B.i!==C.i&&B.next.i!==C.i&&x(B,B.next,J,C))return!0;B=B.next}while(B!==J);return!1}function y(J,C){return u(J.prev,J,J.next)<0?u(J,C,J.next)>=0&&u(J,J.prev,C)>=0:u(J,C,J.prev)<0||u(J,J.next,C)<0}function A(J,C){var B=J,E=!1,K=(J.x+C.x)/2,G=(J.y+C.y)/2;do B.y>G!==B.next.y>G&&B.next.y!==B.y&&K<(B.next.x-B.x)*(G-B.y)/(B.next.y-B.y)+B.x&&(E=!E),B=B.next;while(B!==J);return E}function D(J,C){var B=new I(J.i,J.x,J.y),E=new I(C.i,C.x,C.y),K=J.next,G=C.prev;return J.next=C,C.prev=J,B.next=K,K.prev=B,E.next=B,B.prev=E,G.next=E,E.prev=G,E}function F(J,C,B,E){var K=new I(J,C,B);return E?(K.next=E.next,K.prev=E,E.next.prev=K,E.next=K):(K.prev=K,K.next=K),K}function H(J){J.next.prev=J.prev,J.prev.next=J.next,J.prevZ&&(J.prevZ.nextZ=J.nextZ),J.nextZ&&(J.nextZ.prevZ=J.prevZ)}function I(J,C,B){this.i=J,this.x=C,this.y=B,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}d.deviation=function(J,C,B,E){var K=C&&C.length,G=K?C[0]*B:J.length,L=Math.abs(N(J,0,G,B));if(K)for(var M=0,O=C.length;M<O;M++){var P=C[M]*B,Q=M<O-1?C[M+1]*B:J.length;L-=Math.abs(N(J,P,Q,B))}var R=0;for(M=0;M<E.length;M+=3){var S=E[M]*B,T=E[M+1]*B,U=E[M+2]*B;R+=Math.abs((J[S]-J[U])*(J[T+1]-J[S+1])-(J[S]-J[T])*(J[U+1]-J[S+1]))}return L===0&&R===0?0:Math.abs((R-L)/L)};function N(J,C,B,E){for(var K=0,G=C,L=B-E;G<B;G+=E)K+=(J[L]-J[G])*(J[G+1]+J[L+1]),L=G;return K}d.flatten=function(J){for(var C=J[0][0].length,B={vertices:[],holes:[],dimensions:C},E=0,K=0;K<J.length;K++){for(var G=0;G<J[K].length;G++)for(var L=0;L<C;L++)B.vertices.push(J[K][G][L]);K>0&&(E+=J[K-1].length,B.holes.push(E))}return B}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l={};for(var i in d)Array.isArray(d[i])?l[i]=d[i].slice(0):l[i]=d[i];return l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=d.length;if(l<0||l>f||l>=i||i>f||l+i>f){if(b)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(115),l=a(181),i=function(b,f){var e=d.Power0;if(typeof b==="string")if(d.hasOwnProperty(b))e=d[b];else{var c="";b.indexOf(".")&&(c=b.substr(b.indexOf(".")+1),c.toLowerCase()==="in"?c="easeIn":c.toLowerCase()==="out"?c="easeOut":c.toLowerCase()==="inout"&&(c="easeInOut")),b=l(b.substr(0,b.indexOf(".")+1)+c),d.hasOwnProperty(b)&&(e=d[b])}else typeof b==="function"?e=b:Array.isArray(b)&&b.length===4;if(!f)return e;var j=f.slice(0);return j.unshift(0),function(g){return j[0]=g,e.apply(this,j)}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=i.strokeTint,g=d.getTintAppendFloatAlphaAndSwap(b.strokeColor,b.strokeAlpha*f);j.TL=g,j.TR=g,j.BL=g,j.BR=g;var h=b.pathData,k=h.length-1,m=b.lineWidth,n=m/2,p=h[0]-e,q=h[1]-c;b.closePath||(k-=2);for(var r=2;r<k;r+=2){var s=h[r]-e,t=h[r+1]-c;i.setTexture2D(),i.batchLine(p,q,s,t,n,n,m,r-2,b.closePath?r===k-1:!1),p=s,q=t}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(83),i=a(425),b=a(426),f=a(47),e=a(56),c=a(158),j=new d({initialize:function g(h,k,m,n,p,q){h===void 0&&(h=0),k===void 0&&(k=0),m===void 0&&(m=0),n===void 0&&(n=0),p===void 0&&(p=0),q===void 0&&(q=0),this.type=f.TRIANGLE,this.x1=h,this.y1=k,this.x2=m,this.y2=n,this.x3=p,this.y3=q},contains:function(g,h){return l(this,g,h)},getPoint:function(g,h){return i(this,g,h)},getPoints:function(g,h,k){return b(this,g,h,k)},getRandomPoint:function(g){return c(this,g)},setTo:function(g,h,k,m,n,p){return g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=0),m===void 0&&(m=0),n===void 0&&(n=0),p===void 0&&(p=0),this.x1=g,this.y1=h,this.x2=k,this.y2=m,this.x3=n,this.y3=p,this},getLineA:function(g){return g===void 0&&(g=new e()),g.setTo(this.x1,this.y1,this.x2,this.y2),g},getLineB:function(g){return g===void 0&&(g=new e()),g.setTo(this.x2,this.y2,this.x3,this.y3),g},getLineC:function(g){return g===void 0&&(g=new e()),g.setTo(this.x3,this.y3,this.x1,this.y1),g},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(g){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-g:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-g:h=this.x3-g,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(g){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-g:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-g:h=this.x3-g,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(g){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-g:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-g:h=this.y3-g,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(g){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-g:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-g:h=this.y3-g,this.y1-=h,this.y2-=h,this.y3-=h}}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m,n){var p="png",q;if(e(h)){var r=h;h=f(r,"key"),k=f(r,"url"),q=f(r,"normalMap"),m=f(r,"xhrSettings"),p=f(r,"extension",p),n=f(r,"frameConfig")}Array.isArray(k)&&(q=k[1],k=k[0]);var s={type:"image",cache:g.textureManager,extension:p,responseType:"blob",key:h,url:k,xhrSettings:m,config:n};i.call(this,g,s);if(q){var t=new j(g,this.key,q,m,n);t.type="normalMap",this.setLink(t),g.addFile(t)}},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=new Image(),this.data.crossOrigin=this.crossOrigin;var j=this;this.data.onload=function(){i.revokeObjectURL(j.data),j.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(j.data),j.onProcessError()},i.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var j,g=this.linkFile;g&&g.state===l.FILE_COMPLETE?(this.type==="image"?j=this.cache.addImage(this.key,this.data,g.data):j=this.cache.addImage(g.key,g.data,this.data),this.pendingDestroy(j),g.pendingDestroy(j)):g||(j=this.cache.addImage(this.key,this.data),this.pendingDestroy(j))}});b.register("image",function(j,g,h){if(Array.isArray(j))for(var k=0;k<j.length;k++)this.addFile(new c(this,j[k]));else this.addFile(new c(this,j,g,h));return this}),o.exports=c},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l?d.setCollision(!0,!0,!0,!0,!1):d.resetCollision(!1)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(444),b=new d({Mixins:[l.Alpha,l.Flip,l.Visible],initialize:function f(e,c,j,g,h,k,m,n){this.layer=e,this.index=c,this.x=j,this.y=g,this.width=h,this.height=k,this.baseWidth=m!==void 0?m:h,this.baseHeight=n!==void 0?n:k,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(f,e){return!(f<this.pixelX||e<this.pixelY||f>this.right||e>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=f.properties,this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var e=this.tilemapLayer;return e?e.tileToWorldX(this.x,f):this.x*this.baseWidth},getRight:function(f){var e=this.tilemapLayer;return e?this.getLeft(f)+this.width*e.scaleX:this.getLeft(f)+this.width},getTop:function(f){var e=this.tilemapLayer;return e?e.tileToWorldY(this.y,f)-(this.height-this.baseHeight)*e.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(f){var e=this.tilemapLayer;return e?this.getTop(f)+this.height*e.scaleY:this.getTop(f)+this.height},getBounds:function(f,e){return e===void 0&&(e=new i()),e.x=this.getLeft(),e.y=this.getTop(),e.width=this.getRight()-e.x,e.height=this.getBottom()-e.y,e},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(f,e,c,j){return!(c<=this.pixelX||j<=this.pixelY||f>=this.right||e>=this.bottom)},isInteresting:function(f,e){if(f&&e)return this.canCollide||this.hasInterestingFace;{if(f)return this.collides;if(e)return this.hasInterestingFace}return!1},resetCollision:function(f){f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1;if(f){var e=this.tilemapLayer;e&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,e,c,j,g){e===void 0&&(e=f),c===void 0&&(c=f),j===void 0&&(j=f),g===void 0&&(g=!0),this.collideLeft=f,this.collideRight=e,this.collideUp=c,this.collideDown=j,this.faceLeft=f,this.faceRight=e,this.faceTop=c,this.faceBottom=j;if(g){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,e){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=e),this},setSize:function(f,e,c,j){return f!==void 0&&(this.width=f),e!==void 0&&(this.height=e),c!==void 0&&(this.baseWidth=c),j!==void 0&&(this.baseHeight=j),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var e=f.gidMap[this.index];if(e)return e}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(967),f=new d({Extends:i,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,b],initialize:function e(c,j,g,h,k){i.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l.Animation(this),this.setTexture(h,k),this.setPosition(j,g),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(e,c){this.anims.update(e,c)},play:function(e,c,j){return this.anims.play(e,c,j),this},toJSON:function(){var e=l.ToJSON(this);return e},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x-d.width*d.originX+d.width*.5};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.width*d.originX;return d.x=l+i-d.width*.5,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.y-d.height*d.originY+d.height*.5};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.height*d.originY;return d.y=l+i-d.height*.5,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){if(l>=d.length)return;for(var i=d.length-1,b=d[l],f=l;f<i;f++)d[f]=d[f+1];return d.length=i,b};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(176),i=a(11),b=a(3),f=new d({initialize:function e(c){this.type=c,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new b(),this._tmpVec2B=new b()},draw:function(e,c){return c===void 0&&(c=32),e.strokePoints(this.getPoints(c))},getBounds:function(e,c){e||(e=new i()),c===void 0&&(c=16);var j=this.getLength();c>j&&(c=j/2);var g=Math.max(1,Math.round(j/c));return l(this.getSpacedPoints(g),e)},getDistancePoints:function(e){var c=this.getLength(),j=Math.max(1,c/e);return this.getSpacedPoints(j)},getEndPoint:function(e){return e===void 0&&(e=new b()),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){e===void 0&&(e=this.arcLengthDivisions);if(this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var c=[],j,g=this.getPoint(0,this._tmpVec2A),h=0;c.push(0);for(var k=1;k<=e;k++)j=this.getPoint(k/e,this._tmpVec2B),h+=j.distance(g),c.push(h),g.copy(j);return this.cacheArcLengths=c,c},getPointAt:function(e,c){var j=this.getUtoTmapping(e);return this.getPoint(j,c)},getPoints:function(e,c,j){j===void 0&&(j=[]),e||(c?e=this.getLength()/c:e=this.defaultDivisions);for(var g=0;g<=e;g++)j.push(this.getPoint(g/e));return j},getRandomPoint:function(e){return e===void 0&&(e=new b()),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,c,j){j===void 0&&(j=[]),e||(c?e=this.getLength()/c:e=this.defaultDivisions);for(var g=0;g<=e;g++){var h=this.getUtoTmapping(g/e,null,e);j.push(this.getPoint(h))}return j},getStartPoint:function(e){return e===void 0&&(e=new b()),this.getPointAt(0,e)},getTangent:function(e,c){c===void 0&&(c=new b());var j=1e-4,g=e-j,h=e+j;return g<0&&(g=0),h>1&&(h=1),this.getPoint(g,this._tmpVec2A),this.getPoint(h,c),c.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,c){var j=this.getUtoTmapping(e);return this.getTangent(j,c)},getTFromDistance:function(e,c){return e<=0?0:this.getUtoTmapping(0,e,c)},getUtoTmapping:function(e,c,j){var g=this.getLengths(j),h=0,k=g.length,m;c?m=Math.min(c,g[k-1]):m=e*g[k-1];for(var n=0,p=k-1,q;n<=p;){h=Math.floor(n+(p-n)/2),q=g[h]-m;if(q<0)n=h+1;else if(q>0)p=h-1;else{p=h;break}}h=p;if(g[h]===m)return h/(k-1);var r=g[h],s=g[h+1],t=s-r,u=(m-r)/t;return(h+u)/(k-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:a(870),COMPLETE:a(871),FILE_COMPLETE:a(872),FILE_KEY_COMPLETE:a(873),FILE_LOAD_ERROR:a(874),FILE_LOAD:a(875),FILE_PROGRESS:a(876),POST_PROCESS:a(877),PROGRESS:a(878),START:a(879)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=d.x3-d.x1,f=d.y3-d.y1,e=d.x2-d.x1,c=d.y2-d.y1,j=l-d.x1,g=i-d.y1,h=b*b+f*f,k=b*e+f*c,m=b*j+f*g,n=e*e+c*c,p=e*j+c*g,q=h*n-k*k,r=q===0?0:1/q,s=(n*m-k*p)*r,t=(h*p-k*m)*r;return s>=0&&t>=0&&s+t<1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f){f===void 0&&(f=new d());var e=i.x1,c=i.y1,j=i.x2,g=i.y2,h=b.x1,k=b.y1,m=b.x2,n=b.y2,p=(m-h)*(c-k)-(n-k)*(e-h),q=(j-e)*(c-k)-(g-c)*(e-h),r=(n-k)*(j-e)-(m-h)*(g-c);if(r===0)return!1;var s=p/r,t=q/r;return s>=0&&s<=1&&t>=0&&t<=1?(f.x=e+s*(j-e),f.y=c+s*(g-c),!0):!1};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.atan2(d.y2-d.y1,d.x2-d.x1)};o.exports=a},function(o,w,a){var d={};o.exports=d;var l=a(99),i=a(42);(function(){d.create=function(b,f){for(var e=[],c=0;c<b.length;c++){var j=b[c],g={x:j.x,y:j.y,index:c,body:f,isInternal:!1,contact:null,offset:null};g.contact={vertex:g,normalImpulse:0,tangentImpulse:0},e.push(g)}return e},d.fromPath=function(b,f){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,c=[];return b.replace(e,function(j,g,h){c.push({x:parseFloat(g),y:parseFloat(h)})}),d.create(c,f)},d.centre=function(b){for(var f=d.area(b,!0),e={x:0,y:0},c,j,g,h=0;h<b.length;h++)g=(h+1)%b.length,c=l.cross(b[h],b[g]),j=l.mult(l.add(b[h],b[g]),c),e=l.add(e,j);return l.div(e,6*f)},d.mean=function(b){for(var f={x:0,y:0},e=0;e<b.length;e++)f.x+=b[e].x,f.y+=b[e].y;return l.div(f,b.length)},d.area=function(b,f){for(var e=0,c=b.length-1,j=0;j<b.length;j++)e+=(b[c].x-b[j].x)*(b[c].y+b[j].y),c=j;return f?e/2:Math.abs(e)/2},d.inertia=function(b,f){for(var e=0,c=0,j=b,g,h,k=0;k<j.length;k++)h=(k+1)%j.length,g=Math.abs(l.cross(j[h],j[k])),e+=g*(l.dot(j[h],j[h])+l.dot(j[h],j[k])+l.dot(j[k],j[k])),c+=g;return f/6*(e/c)},d.translate=function(b,f,e){var c;if(e)for(c=0;c<b.length;c++)b[c].x+=f.x*e,b[c].y+=f.y*e;else for(c=0;c<b.length;c++)b[c].x+=f.x,b[c].y+=f.y;return b},d.rotate=function(b,f,e){if(f===0)return;for(var c=Math.cos(f),j=Math.sin(f),g=0;g<b.length;g++){var h=b[g],k=h.x-e.x,m=h.y-e.y;h.x=e.x+(k*c-m*j),h.y=e.y+(k*j+m*c)}return b},d.contains=function(b,f){for(var e=0;e<b.length;e++){var c=b[e],j=b[(e+1)%b.length];if((f.x-c.x)*(j.y-c.y)+(f.y-c.y)*(c.x-j.x)>0)return!1}return!0},d.scale=function(b,f,e,c){if(f===1&&e===1)return b;c=c||d.centre(b);for(var j,g,h=0;h<b.length;h++)j=b[h],g=l.sub(j,c),b[h].x=c.x+g.x*f,b[h].y=c.y+g.y*e;return b},d.chamfer=function(b,f,e,c,j){typeof f==="number"?f=[f]:f=f||[8],e=typeof e!=="undefined"?e:-1,c=c||2,j=j||14;for(var g=[],h=0;h<b.length;h++){var k=b[h-1>=0?h-1:b.length-1],m=b[h],n=b[(h+1)%b.length],p=f[h<f.length?h:f.length-1];if(p===0){g.push(m);continue}var q=l.normalise({x:m.y-k.y,y:k.x-m.x}),r=l.normalise({x:n.y-m.y,y:m.x-n.x}),s=Math.sqrt(2*Math.pow(p,2)),t=l.mult(i.clone(q),p),u=l.normalise(l.mult(l.add(q,r),.5)),v=l.sub(m,l.mult(u,s)),x=e;e===-1&&(x=Math.pow(p,.32)*1.75),x=i.clamp(x,c,j),x%2===1&&(x+=1);for(var z=Math.acos(l.dot(q,r)),y=z/x,A=0;A<x;A++)g.push(l.add(l.rotate(t,y*A),v))}return g},d.clockwiseSort=function(b){var f=d.mean(b);return b.sort(function(e,c){return l.angle(f,e)-l.angle(f,c)}),b},d.isConvex=function(b){var f=0,e=b.length,c,j,g,h;if(e<3)return null;for(c=0;c<e;c++){j=(c+1)%e,g=(c+2)%e,h=(b[j].x-b[c].x)*(b[g].y-b[j].y),h-=(b[j].y-b[c].y)*(b[g].x-b[j].x),h<0?f|=1:h>0&&(f|=2);if(f===3)return!1}return f!==0?!0:null},d.hull=function(b){var f=[],e=[],c,j;for(b=b.slice(0),b.sort(function(g,h){var k=g.x-h.x;return k!==0?k:g.y-h.y}),j=0;j<b.length;j+=1){for(c=b[j];e.length>=2&&l.cross3(e[e.length-2],e[e.length-1],c)<=0;)e.pop();e.push(c)}for(j=b.length-1;j>=0;j-=1){for(c=b[j];f.length>=2&&l.cross3(f[f.length-2],f[f.length-1],c)<=0;)f.pop();f.push(c)}return f.pop(),e.pop(),f.concat(e)}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=function(i,b,f){return i=d(i,0,1),(f-b)*i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d?d.hasOwnProperty(l)?d[l]:i:i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DESTROY:a(582),VIDEO_COMPLETE:a(583),VIDEO_CREATED:a(584),VIDEO_ERROR:a(585),VIDEO_LOOP:a(586),VIDEO_PLAY:a(587),VIDEO_SEEKED:a(588),VIDEO_SEEKING:a(589),VIDEO_STOP:a(590),VIDEO_TIMEOUT:a(591),VIDEO_UNLOCKED:a(592)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(39),b=a(10),f=a(40),e=a(11),c=a(29),j=a(164),g=a(3),h=new d({Extends:b,Mixins:[l.Alpha,l.Visible],initialize:function k(m,n,p,q){m===void 0&&(m=0),n===void 0&&(n=0),p===void 0&&(p=0),q===void 0&&(q=0),b.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new e(),this.dirty=!0,this._x=m,this._y=n,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=p,this._height=q,this._bounds=new e(),this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new c(),this.transparent=!0,this.backgroundColor=j("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new g(p/2,q/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(k,m){return k===void 0&&(k=.5),m===void 0&&(m=k),this.originX=k,this.originY=m,this},getScroll:function(k,m,n){n===void 0&&(n=new g());var p=this.width*.5,q=this.height*.5;return n.x=k-p,n.y=m-q,this.useBounds&&(n.x=this.clampX(n.x),n.y=this.clampY(n.y)),n},centerOnX:function(k){var m=this.width*.5;return this.midPoint.x=k,this.scrollX=k-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(k){var m=this.height*.5;return this.midPoint.y=k,this.scrollY=k-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(k,m){return this.centerOnX(k),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var k=this._bounds,m=this.width*.5,n=this.height*.5;this.midPoint.set(k.centerX,k.centerY),this.scrollX=k.centerX-m,this.scrollY=k.centerY-n}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(k){if(this.disableCull)return k;var m=this.matrix.matrix,n=m[0],p=m[1],q=m[2],r=m[3],s=n*r-p*q;if(!s)return k;var t=m[4],u=m[5],v=this.scrollX,x=this.scrollY,z=this.width,y=this.height,A=this.y,D=A+y,F=this.x,H=F+z,I=this.culledObjects,N=k.length;s=1/s,I.length=0;for(var J=0;J<N;++J){var C=k[J];if(!C.hasOwnProperty("width")||C.parentContainer){I.push(C);continue}var B=C.width,E=C.height,K=C.x-v*C.scrollFactorX-B*C.originX,G=C.y-x*C.scrollFactorY-E*C.originY,L=K*n+G*q+t,M=K*p+G*r+u,O=(K+B)*n+(G+E)*q+t,P=(K+B)*p+(G+E)*r+u;O>F&&L<H&&(P>A&&M<D)&&I.push(C)}return I},getWorldPoint:function(k,m,n){n===void 0&&(n=new g());var p=this.matrix.matrix,q=p[0],r=p[1],s=p[2],t=p[3],u=p[4],v=p[5],x=q*t-r*s;if(!x)return n.x=k,n.y=m,n;x=1/x;var z=t*x,y=-r*x,A=-s*x,D=q*x,F=(s*v-t*u)*x,H=(r*u-q*v)*x,I=Math.cos(this.rotation),N=Math.sin(this.rotation),J=this.zoom,C=this.resolution,B=this.scrollX,E=this.scrollY,K=k+(B*I-E*N)*J,G=m+(B*N+E*I)*J;return n.x=(K*z+G*A)*C+F,n.y=(K*y+G*D)*C+H,n},ignore:function(k){var m=this.id;Array.isArray(k)||(k=[k]);for(var n=0;n<k.length;n++){var p=k[n];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=m}return this},preRender:function(k){var m=this.width,n=this.height,p=m*.5,q=n*.5,r=this.zoom*k,s=this.matrix,t=m*this.originX,u=n*this.originY,v=this.scrollX,x=this.scrollY;this.useBounds&&(v=this.clampX(v),x=this.clampY(x)),this.roundPixels&&(t=Math.round(t),u=Math.round(u)),this.scrollX=v,this.scrollY=x;var z=v+p,y=x+q;this.midPoint.set(z,y);var A=m/r,D=n/r;this.worldView.setTo(z-A/2,y-D/2,A,D),s.applyITRS(this.x+t,this.y+u,this.rotation,r,r),s.translate(-t,-u)},clampX:function(k){var m=this._bounds,n=this.displayWidth,p=m.x+(n-this.width)/2,q=Math.max(p,p+m.width-n);return k<p?k=p:k>q&&(k=q),k},clampY:function(k){var m=this._bounds,n=this.displayHeight,p=m.y+(n-this.height)/2,q=Math.max(p,p+m.height-n);return k<p?k=p:k>q&&(k=q),k},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(k){return k===void 0&&(k=0),this.rotation=i(k),this},setBackgroundColor:function(k){return k===void 0&&(k="rgba(0,0,0,0)"),this.backgroundColor=j(k),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(k,m,n,p,q){return q===void 0&&(q=!1),this._bounds.setTo(k,m,n,p),this.dirty=!0,this.useBounds=!0,q?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(k){k===void 0&&(k=new e());var m=this._bounds;return k.setTo(m.x,m.y,m.width,m.height),k},setName:function(k){return k===void 0&&(k=""),this.name=k,this},setPosition:function(k,m){return m===void 0&&(m=k),this.x=k,this.y=m,this},setRotation:function(k){return k===void 0&&(k=0),this.rotation=k,this},setRoundPixels:function(k){return this.roundPixels=k,this},setScene:function(k){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=k;var m=k.sys;this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras;var n=this.scaleManager.resolution;return this.resolution=n,this._cx=this._x*n,this._cy=this._y*n,this._cw=this._width*n,this._ch=this._height*n,this.updateSystem(),this},setScroll:function(k,m){return m===void 0&&(m=k),this.scrollX=k,this.scrollY=m,this},setSize:function(k,m){return m===void 0&&(m=k),this.width=k,this.height=m,this},setViewport:function(k,m,n,p){return this.x=k,this.y=m,this.width=n,this.height=p,this},setZoom:function(k){return k===void 0&&(k=1),k===0&&(k=.001),this.zoom=k,this},setMask:function(k,m){return m===void 0&&(m=!0),this.mask=k,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(k){return k===void 0&&(k=!1),k&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var k={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(k.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),k},update:function(){},updateSystem:function(){if(!this.scaleManager)return;var k=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;k&&!this._customViewport?m.customViewports++:!k&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=k},destroy:function(){this.emit(f.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(k){this._x=k,this._cx=k*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(k){this._y=k,this._cy=k*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(k){this._width=k,this._cw=k*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(k){this._height=k,this._ch=k*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(k){this._scrollX=k,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(k){this._scrollY=k,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(k){this._zoom=k,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(k){this._rotation=k,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ENTER_FULLSCREEN:a(703),FULLSCREEN_FAILED:a(704),FULLSCREEN_UNSUPPORTED:a(705),LEAVE_FULLSCREEN:a(706),ORIENTATION_CHANGE:a(707),RESIZE:a(708)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return i===void 0&&(i=0),l===0?d:(d-=i,d=l*Math.floor(d/l),b?(i+d)/l:i+d)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(19),i=a(18),b=new d({initialize:function f(e,c,j,g,h,k,m){this.texture=e,this.name=c,this.source=e.source[j],this.sourceIndex=j,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(k,m,g,h)},setSize:function(f,e,c,j){c===void 0&&(c=0),j===void 0&&(j=0),this.cutX=c,this.cutY=j,this.cutWidth=f,this.cutHeight=e,this.width=f,this.height=e,this.halfWidth=Math.floor(f*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(f/2),this.centerY=Math.floor(e/2);var g=this.data,h=g.cut;h.x=c,h.y=j,h.w=f,h.h=e,h.r=c+f,h.b=j+e,g.sourceSize.w=f,g.sourceSize.h=e,g.spriteSourceSize.w=f,g.spriteSourceSize.h=e,g.radius=.5*Math.sqrt(f*f+e*e);var k=g.drawImage;return k.x=c,k.y=j,k.width=f,k.height=e,this.updateUVs()},setTrim:function(f,e,c,j,g,h){var k=this.data,m=k.spriteSourceSize;return k.trim=!0,k.sourceSize.w=f,k.sourceSize.h=e,m.x=c,m.y=j,m.w=g,m.h=h,m.r=c+g,m.b=j+h,this.x=c,this.y=j,this.width=g,this.height=h,this.halfWidth=g*.5,this.halfHeight=h*.5,this.centerX=Math.floor(g/2),this.centerY=Math.floor(h/2),this.updateUVs()},setCropUVs:function(f,e,c,j,g,h,k){var m=this.cutX,n=this.cutY,p=this.cutWidth,q=this.cutHeight,r=this.realWidth,s=this.realHeight;e=l(e,0,r),c=l(c,0,s),j=l(j,0,r-e),g=l(g,0,s-c);var t=m+e,u=n+c,v=j,x=g,z=this.data;if(z.trim){var y=z.spriteSourceSize;j=l(j,0,p-e),g=l(g,0,q-c);var A=e+j,D=c+g,F=!(y.r<e||y.b<c||y.x>A||y.y>D);if(F){var H=Math.max(y.x,e),I=Math.max(y.y,c),N=Math.min(y.r,A)-H,J=Math.min(y.b,D)-I;v=N,x=J,h?t=m+(p-(H-y.x)-N):t=m+(H-y.x),k?u=n+(q-(I-y.y)-J):u=n+(I-y.y),e=H,c=I,j=N,g=J}else t=0,u=0,v=0,x=0}else h&&(t=m+(p-e-j)),k&&(u=n+(q-c-g));var C=this.source.width,B=this.source.height;return f.u0=Math.max(0,t/C),f.v0=Math.max(0,u/B),f.u1=Math.min(1,(t+v)/C),f.v1=Math.min(1,(u+x)/B),f.x=e,f.y=c,f.cx=t,f.cy=u,f.cw=v,f.ch=x,f.width=j,f.height=g,f.flipX=h,f.flipY=k,f},updateCropUVs:function(f,e,c){return this.setCropUVs(f,f.x,f.y,f.width,f.height,e,c)},updateUVs:function(){var f=this.cutX,e=this.cutY,c=this.cutWidth,j=this.cutHeight,g=this.data.drawImage;g.width=c,g.height=j;var h=this.source.width,k=this.source.height;return this.u0=f/h,this.v0=e/k,this.u1=(f+c)/h,this.v1=(e+j)/k,this},updateUVsInverted:function(){var f=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/f,this.v0=this.cutY/e,this.u1=this.cutX/f,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var f=new b(this.texture,this.name,this.sourceIndex);return f.cutX=this.cutX,f.cutY=this.cutY,f.cutWidth=this.cutWidth,f.cutHeight=this.cutHeight,f.x=this.x,f.y=this.y,f.width=this.width,f.height=this.height,f.halfWidth=this.halfWidth,f.halfHeight=this.halfHeight,f.centerX=this.centerX,f.centerY=this.centerY,f.rotated=this.rotated,f.data=i(!0,f.data,this.data),f.updateUVs(),f},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(96),i=a(398),b=a(399),f=a(47),e=a(157),c=new d({initialize:function j(g,h,k,m){g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=0),m===void 0&&(m=0),this.type=f.ELLIPSE,this.x=g,this.y=h,this.width=k,this.height=m},contains:function(j,g){return l(this,j,g)},getPoint:function(j,g){return i(this,j,g)},getPoints:function(j,g,h){return b(this,j,g,h)},getRandomPoint:function(j){return e(this,j)},setTo:function(j,g,h,k){return this.x=j,this.y=g,this.width=h,this.height=k,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(j,g){return g===void 0&&(g=j),this.x=j,this.y=g,this},setSize:function(j,g){return g===void 0&&(g=j),this.width=j,this.height=g,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(j){this.x=j+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(j){this.x=j-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(j){this.y=j+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(j){this.y=j-this.height/2}}});o.exports=c},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(d.width<=0||d.height<=0)return!1;var b=(l-d.x)/d.width,f=(i-d.y)/d.height;return b*=b,f*=f,b+f<.25};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(241),l=a(0),i=a(90),b=a(2),f=a(6),e=a(7),c=a(392),j=a(133),g=a(75),h=new l({initialize:function k(m,n,p){p?n&&!Array.isArray(n)&&(n=[n]):Array.isArray(n)?e(n[0])&&(p=n,n=null):e(n)&&(p=n,n=null),this.scene=m,this.children=new j(),this.isParent=!0,this.type="Group",this.classType=b(p,"classType",g),this.name=b(p,"name",""),this.active=b(p,"active",!0),this.maxSize=b(p,"maxSize",-1),this.defaultKey=b(p,"defaultKey",null),this.defaultFrame=b(p,"defaultFrame",null),this.runChildUpdate=b(p,"runChildUpdate",!1),this.createCallback=b(p,"createCallback",null),this.removeCallback=b(p,"removeCallback",null),this.createMultipleCallback=b(p,"createMultipleCallback",null),this.internalCreateCallback=b(p,"internalCreateCallback",null),this.internalRemoveCallback=b(p,"internalRemoveCallback",null),n&&this.addMultiple(n),p&&this.createMultiple(p)},create:function(k,m,n,p,q,r){k===void 0&&(k=0),m===void 0&&(m=0),n===void 0&&(n=this.defaultKey),p===void 0&&(p=this.defaultFrame),q===void 0&&(q=!0),r===void 0&&(r=!0);if(this.isFull())return null;var s=new this.classType(this.scene,k,m,n,p);return this.scene.sys.displayList.add(s),s.preUpdate&&this.scene.sys.updateList.add(s),s.visible=q,s.setActive(r),this.add(s),s},createMultiple:function(k){if(this.isFull())return[];Array.isArray(k)||(k=[k]);var m=[];if(k[0].key)for(var n=0;n<k.length;n++){var p=this.createFromConfig(k[n]);m=m.concat(p)}return m},createFromConfig:function(k){if(this.isFull())return[];this.classType=b(k,"classType",this.classType);var m=b(k,"key",void 0),n=b(k,"frame",null),p=b(k,"visible",!0),q=b(k,"active",!0),r=[];if(m===void 0)return r;Array.isArray(m)||(m=[m]),Array.isArray(n)||(n=[n]);var s=b(k,"repeat",0),t=b(k,"randomKey",!1),u=b(k,"randomFrame",!1),v=b(k,"yoyo",!1),x=b(k,"quantity",!1),z=b(k,"frameQuantity",1),y=b(k,"max",0),A=c(m,n,{max:y,qty:x?x:z,random:t,randomB:u,repeat:s,yoyo:v});k.createCallback&&(this.createCallback=k.createCallback),k.removeCallback&&(this.removeCallback=k.removeCallback);for(var D=0;D<A.length;D++){var F=this.create(0,0,A[D].a,A[D].b,p,q);if(!F)break;r.push(F)}var H=f(k,"setXY.x",0),I=f(k,"setXY.y",0),N=f(k,"setXY.stepX",0),J=f(k,"setXY.stepY",0);d.SetXY(r,H,I,N,J);var C=f(k,"setRotation.value",0),B=f(k,"setRotation.step",0);d.SetRotation(r,C,B);var E=f(k,"setScale.x",1),K=f(k,"setScale.y",E),G=f(k,"setScale.stepX",0),L=f(k,"setScale.stepY",0);d.SetScale(r,E,K,G,L);var M=f(k,"setAlpha.value",1),O=f(k,"setAlpha.step",0);d.SetAlpha(r,M,O);var P=f(k,"setDepth.value",0),Q=f(k,"setDepth.step",0);d.SetDepth(r,P,Q);var R=f(k,"setScrollFactor.x",1),S=f(k,"setScrollFactor.y",R),T=f(k,"setScrollFactor.stepX",0),U=f(k,"setScrollFactor.stepY",0);d.SetScrollFactor(r,R,S,T,U);var _=b(k,"hitArea",null),Z=b(k,"hitAreaCallback",null);_&&d.SetHitArea(r,_,Z);var X=b(k,"gridAlign",!1);return X&&d.GridAlign(r,X),this.createMultipleCallback&&this.createMultipleCallback.call(this,r),r},preUpdate:function(k,m){if(!this.runChildUpdate||this.children.size===0)return;for(var n=this.children.entries.slice(),p=0;p<n.length;p++){var q=n[p];q.active&&q.update(k,m)}},add:function(k,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(k),this.internalCreateCallback&&this.internalCreateCallback.call(this,k),this.createCallback&&this.createCallback.call(this,k),m&&(this.scene.sys.displayList.add(k),k.preUpdate&&this.scene.sys.updateList.add(k)),k.on(i.DESTROY,this.remove,this),this)},addMultiple:function(k,m){m===void 0&&(m=!1);if(Array.isArray(k))for(var n=0;n<k.length;n++)this.add(k[n],m);return this},remove:function(k,m,n){return m===void 0&&(m=!1),n===void 0&&(n=!1),this.children.contains(k)?(this.children.delete(k),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,k),this.removeCallback&&this.removeCallback.call(this,k),k.off(i.DESTROY,this.remove,this),n?k.destroy():m&&(k.scene.sys.displayList.remove(k),k.preUpdate&&k.scene.sys.updateList.remove(k)),this):this},clear:function(k,m){k===void 0&&(k=!1),m===void 0&&(m=!1);for(var n=this.children,p=0;p<n.size;p++){var q=n.entries[p];q.off(i.DESTROY,this.remove,this),m?q.destroy():k&&(q.scene.sys.displayList.remove(q),q.preUpdate&&q.scene.sys.updateList.remove(q))}return this.children.clear(),this},contains:function(k){return this.children.contains(k)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(k,m,n,p,q,r,s){return this.getHandler(!0,1,k,m,n,p,q,r,s)},getFirstNth:function(k,m,n,p,q,r,s,t){return this.getHandler(!0,k,m,n,p,q,r,s,t)},getLast:function(k,m,n,p,q,r,s){return this.getHandler(!1,1,k,m,n,p,q,r,s)},getLastNth:function(k,m,n,p,q,r,s,t){return this.getHandler(!1,k,m,n,p,q,r,s,t)},getHandler:function(k,m,n,p,q,r,s,t,u){n===void 0&&(n=!1),p===void 0&&(p=!1);var v,x,z=0,y=this.children.entries;if(k)for(x=0;x<y.length;x++){v=y[x];if(v.active===n){z++;if(z===m)break}else v=null}else for(x=y.length-1;x>=0;x--){v=y[x];if(v.active===n){z++;if(z===m)break}else v=null}return v?(typeof q==="number"&&(v.x=q),typeof r==="number"&&(v.y=r),v):p?this.create(q,r,s,t,u):null},get:function(k,m,n,p,q){return this.getFirst(!1,!0,k,m,n,p,q)},getFirstAlive:function(k,m,n,p,q,r){return this.getFirst(!0,k,m,n,p,q,r)},getFirstDead:function(k,m,n,p,q,r){return this.getFirst(!1,k,m,n,p,q,r)},playAnimation:function(k,m){return d.PlayAnimation(this.children.entries,k,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(k){k===void 0&&(k=!0);for(var m=0,n=0;n<this.children.size;n++)this.children.entries[n].active===k&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var k=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-k},setActive:function(k){return this.active=k,this},setName:function(k){return this.name=k,this},propertyValueSet:function(k,m,n,p,q){return d.PropertyValueSet(this.children.entries,k,m,n,p,q),this},propertyValueInc:function(k,m,n,p,q){return d.PropertyValueInc(this.children.entries,k,m,n,p,q),this},setX:function(k,m){return d.SetX(this.children.entries,k,m),this},setY:function(k,m){return d.SetY(this.children.entries,k,m),this},setXY:function(k,m,n,p){return d.SetXY(this.children.entries,k,m,n,p),this},incX:function(k,m){return d.IncX(this.children.entries,k,m),this},incY:function(k,m){return d.IncY(this.children.entries,k,m),this},incXY:function(k,m,n,p){return d.IncXY(this.children.entries,k,m,n,p),this},shiftPosition:function(k,m,n){return d.ShiftPosition(this.children.entries,k,m,n),this},angle:function(k,m){return d.Angle(this.children.entries,k,m),this},rotate:function(k,m){return d.Rotate(this.children.entries,k,m),this},rotateAround:function(k,m){return d.RotateAround(this.children.entries,k,m),this},rotateAroundDistance:function(k,m,n){return d.RotateAroundDistance(this.children.entries,k,m,n),this},setAlpha:function(k,m){return d.SetAlpha(this.children.entries,k,m),this},setTint:function(k,m,n,p){return d.SetTint(this.children.entries,k,m,n,p),this},setOrigin:function(k,m,n,p){return d.SetOrigin(this.children.entries,k,m,n,p),this},scaleX:function(k,m){return d.ScaleX(this.children.entries,k,m),this},scaleY:function(k,m){return d.ScaleY(this.children.entries,k,m),this},scaleXY:function(k,m,n,p){return d.ScaleXY(this.children.entries,k,m,n,p),this},setDepth:function(k,m){return d.SetDepth(this.children.entries,k,m),this},setBlendMode:function(k){return d.SetBlendMode(this.children.entries,k),this},setHitArea:function(k,m){return d.SetHitArea(this.children.entries,k,m),this},shuffle:function(){return d.Shuffle(this.children.entries),this},kill:function(k){this.children.contains(k)&&k.setActive(!1)},killAndHide:function(k){this.children.contains(k)&&(k.setActive(!1),k.setVisible(!1))},setVisible:function(k,m,n){return d.SetVisible(this.children.entries,k,m,n),this},toggleVisible:function(){return d.ToggleVisible(this.children.entries),this},destroy:function(k){k===void 0&&(k=!1);if(!this.scene||this.ignoreDestroy)return;this.clear(!1,k),this.scene=void 0,this.children=void 0}});o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c,j){for(var g=d.getTintAppendFloatAlphaAndSwap(f.fillColor,f.fillAlpha*e),h=f.pathData,k=f.pathIndexes,m=0;m<k.length;m+=3){var n=k[m]*2,p=k[m+1]*2,q=k[m+2]*2,r=h[n+0]-c,s=h[n+1]-j,t=h[p+0]-c,u=h[p+1]-j,v=h[q+0]-c,x=h[q+1]-j,z=b.getX(r,s),y=b.getY(r,s),A=b.getX(t,u),D=b.getY(t,u),F=b.getX(v,x),H=b.getY(v,x);i.setTexture2D(),i.batchTri(z,y,A,D,F,H,0,0,1,1,g,g,g,i.tintEffect)}};o.exports=l},function(o,w){var a={};o.exports=a,function(){a.create=function(d,l){return{x:d||0,y:l||0}},a.clone=function(d){return{x:d.x,y:d.y}},a.magnitude=function(d){return Math.sqrt(d.x*d.x+d.y*d.y)},a.magnitudeSquared=function(d){return d.x*d.x+d.y*d.y},a.rotate=function(d,l,i){var b=Math.cos(l),f=Math.sin(l);i||(i={});var e=d.x*b-d.y*f;return i.y=d.x*f+d.y*b,i.x=e,i},a.rotateAbout=function(d,l,i,b){var f=Math.cos(l),e=Math.sin(l);b||(b={});var c=i.x+((d.x-i.x)*f-(d.y-i.y)*e);return b.y=i.y+((d.x-i.x)*e+(d.y-i.y)*f),b.x=c,b},a.normalise=function(d){var l=a.magnitude(d);return l===0?{x:0,y:0}:{x:d.x/l,y:d.y/l}},a.dot=function(d,l){return d.x*l.x+d.y*l.y},a.cross=function(d,l){return d.x*l.y-d.y*l.x},a.cross3=function(d,l,i){return(l.x-d.x)*(i.y-d.y)-(l.y-d.y)*(i.x-d.x)},a.add=function(d,l,i){return i||(i={}),i.x=d.x+l.x,i.y=d.y+l.y,i},a.sub=function(d,l,i){return i||(i={}),i.x=d.x-l.x,i.y=d.y-l.y,i},a.mult=function(d,l){return{x:d.x*l,y:d.y*l}},a.div=function(d,l){return{x:d.x/l,y:d.y/l}},a.perp=function(d,l){return l=l===!0?-1:1,{x:l*-d.y,y:l*d.x}},a.neg=function(d){return{x:-d.x,y:-d.y}},a.angle=function(d,l){return Math.atan2(l.y-d.y,l.x-d.x)},a._temp=[a.create(),a.create(),a.create(),a.create(),a.create(),a.create()]}()},function(o,w){var a={};o.exports=a,function(){a.create=function(d){var l={min:{x:0,y:0},max:{x:0,y:0}};return d&&a.update(l,d),l},a.update=function(d,l,i){d.min.x=Infinity,d.max.x=-Infinity,d.min.y=Infinity,d.max.y=-Infinity;for(var b=0;b<l.length;b++){var f=l[b];f.x>d.max.x&&(d.max.x=f.x),f.x<d.min.x&&(d.min.x=f.x),f.y>d.max.y&&(d.max.y=f.y),f.y<d.min.y&&(d.min.y=f.y)}i&&(i.x>0?d.max.x+=i.x:d.min.x+=i.x,i.y>0?d.max.y+=i.y:d.min.y+=i.y)},a.contains=function(d,l){return l.x>=d.min.x&&l.x<=d.max.x&&l.y>=d.min.y&&l.y<=d.max.y},a.overlaps=function(d,l){return d.min.x<=l.max.x&&d.max.x>=l.min.x&&d.max.y>=l.min.y&&d.min.y<=l.max.y},a.translate=function(d,l){d.min.x+=l.x,d.max.x+=l.x,d.min.y+=l.y,d.max.y+=l.y},a.shift=function(d,l){var i=d.max.x-d.min.x,b=d.max.y-d.min.y;d.min.x=l.x,d.max.x=l.x+i,d.min.y=l.y,d.max.y=l.y+b}}()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d>=0&&d<i.width&&l>=0&&l<i.height};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(2),i=new d({initialize:function b(f){f===void 0&&(f={}),this.name=l(f,"name","layer"),this.x=l(f,"x",0),this.y=l(f,"y",0),this.width=l(f,"width",0),this.height=l(f,"height",0),this.tileWidth=l(f,"tileWidth",0),this.tileHeight=l(f,"tileHeight",0),this.baseTileWidth=l(f,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(f,"baseTileHeight",this.tileHeight),this.widthInPixels=l(f,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(f,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(f,"alpha",1),this.visible=l(f,"visible",!0),this.properties=l(f,"properties",[]),this.indexes=l(f,"indexes",[]),this.collideIndexes=l(f,"collideIndexes",[]),this.callbacks=l(f,"callbacks",[]),this.bodies=l(f,"bodies",[]),this.data=l(f,"data",[]),this.tilemapLayer=l(f,"tilemapLayer",null)}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(2),i=new d({initialize:function b(f){f===void 0&&(f={}),this.name=l(f,"name","map"),this.width=l(f,"width",0),this.height=l(f,"height",0),this.infinite=l(f,"infinite",!1),this.tileWidth=l(f,"tileWidth",0),this.tileHeight=l(f,"tileHeight",0),this.widthInPixels=l(f,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(f,"heightInPixels",this.height*this.tileHeight),this.format=l(f,"format",null),this.orientation=l(f,"orientation","orthogonal"),this.renderOrder=l(f,"renderOrder","right-down"),this.version=l(f,"version","1"),this.properties=l(f,"properties",{}),this.layers=l(f,"layers",[]),this.images=l(f,"images",[]),this.objects=l(f,"objects",{}),this.collision=l(f,"collision",{}),this.tilesets=l(f,"tilesets",[]),this.imageCollections=l(f,"imageCollections",[]),this.tiles=l(f,"tiles",[])}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c,j,g,h,k){(e===void 0||e<=0)&&(e=32),(c===void 0||c<=0)&&(c=32),j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h={}),k===void 0&&(k={}),this.name=b,this.firstgid=f,this.tileWidth=e,this.tileHeight=c,this.tileMargin=j,this.tileSpacing=g,this.tileProperties=h,this.tileData=k,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var b=this.getTileData(i);return b&&b.objectgroup?b.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){return this.image=i,this.glTexture=i.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(i,b){return i!==void 0&&(this.tileWidth=i),b!==void 0&&(this.tileHeight=b),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,b){return i!==void 0&&(this.tileMargin=i),b!==void 0&&(this.tileSpacing=b),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,b){var f=(b-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),e=(i-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(f%1!==0||e%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),f=Math.floor(f),e=Math.floor(e),this.rows=f,this.columns=e,this.total=f*e,this.texCoordinates.length=0;for(var c=this.tileMargin,j=this.tileMargin,g=0;g<this.rows;g++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:c,y:j}),c+=this.tileWidth+this.tileSpacing;c=this.tileMargin,j+=this.tileHeight+this.tileSpacing}return this}});o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return i===void 0&&(i=1e-4),Math.abs(d-l)<i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(970),f=new d({Extends:i,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,b],initialize:function e(c,j,g,h,k){i.call(this,c,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,k),this.setPosition(j,g),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.hasOwnProperty(l)};o.exports=a},function(o,w,a){var d={};o.exports=d;var l=a(86),i=a(42),b=a(62),f=a(100),e=a(99),c=a(1386);(function(){d.rectangle=function(j,g,h,k,m){m=m||{};var n={label:"Rectangle Body",position:{x:j,y:g},vertices:l.fromPath("L 0 0 L "+h+" 0 L "+h+" "+k+" L 0 "+k)};if(m.chamfer){var p=m.chamfer;n.vertices=l.chamfer(n.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete m.chamfer}return b.create(i.extend({},n,m))},d.trapezoid=function(j,g,h,k,m,n){n=n||{},m*=.5;var p=(1-m*2)*h,q=h*m,r=q+p,s=r+q,t;m<.5?t="L 0 0 L "+q+" "+-k+" L "+r+" "+-k+" L "+s+" 0":t="L 0 0 L "+r+" "+-k+" L "+s+" 0";var u={label:"Trapezoid Body",position:{x:j,y:g},vertices:l.fromPath(t)};if(n.chamfer){var v=n.chamfer;u.vertices=l.chamfer(u.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete n.chamfer}return b.create(i.extend({},u,n))},d.circle=function(j,g,h,k,m){k=k||{};var n={label:"Circle Body",circleRadius:h};m=m||25;var p=Math.ceil(Math.max(10,Math.min(m,h)));return p%2===1&&(p+=1),d.polygon(j,g,p,h,i.extend({},n,k))},d.polygon=function(j,g,h,k,m){m=m||{};if(h<3)return d.circle(j,g,k,m);for(var n=2*Math.PI/h,p="",q=n*.5,r=0;r<h;r+=1){var s=q+r*n,t=Math.cos(s)*k,u=Math.sin(s)*k;p+="L "+t.toFixed(3)+" "+u.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:j,y:g},vertices:l.fromPath(p)};if(m.chamfer){var x=m.chamfer;v.vertices=l.chamfer(v.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete m.chamfer}return b.create(i.extend({},v,m))},d.fromVertices=function(j,g,h,k,m,n,p){var q,r,s,t,u,v;for(k=k||{},r=[],m=typeof m!=="undefined"?m:!1,n=typeof n!=="undefined"?n:.01,p=typeof p!=="undefined"?p:10,c||i.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),i.isArray(h[0])||(h=[h]),v=0;v<h.length;v+=1){t=h[v],s=l.isConvex(t);if(s||!c)s?t=l.clockwiseSort(t):t=l.hull(t),r.push({position:{x:j,y:g},vertices:t});else{var x=t.map(function(D){return[D.x,D.y]});c.makeCCW(x),n!==!1&&c.removeCollinearPoints(x,n);var z=c.quickDecomp(x);for(u=0;u<z.length;u++){var y=z[u],A=y.map(function(D){return{x:D[0],y:D[1]}});if(p>0&&l.area(A)<p)continue;r.push({position:l.centre(A),vertices:A})}}}for(u=0;u<r.length;u++)r[u]=b.create(i.extend(r[u],k));return m&&d.flagCoincidentParts(r,5),r.length>1?(q=b.create(i.extend({parts:r.slice(0)},k)),b.setPosition(q,{x:j,y:g}),q):r[0]},d.flagCoincidentParts=function(j,g){g===void 0&&(g=5);for(var h=0;h<j.length;h++)for(var k=j[h],m=h+1;m<j.length;m++){var n=j[m];if(f.overlaps(k.bounds,n.bounds))for(var p=k.vertices,q=n.vertices,r=0;r<k.vertices.length;r++)for(var s=0;s<n.vertices.length;s++){var t=e.magnitudeSquared(e.sub(p[(r+1)%p.length],q[s])),u=e.magnitudeSquared(e.sub(p[r],q[(s+1)%q.length]));t<g&&u<g&&(p[r].isInternal=!0,q[s].isInternal=!0)}}return j}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(52),l=a(65),i=a(55),b=a(0),f=a(12),e=a(14),c=a(11),j=a(48),g=new b({Extends:e,Mixins:[f.Depth,f.GetBounds,f.Origin,f.Transform,f.ScrollFactor,f.Visible],initialize:function h(k,m,n,p,q){p===void 0&&(p=1),q===void 0&&(q=p),e.call(this,k,"Zone"),this.setPosition(m,n),this.width=p,this.height=q,this.blendMode=d.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,k,m){m===void 0&&(m=!0),this.width=h,this.height=k,this.updateDisplayOrigin();var n=this.input;return m&&n&&!n.customHitArea&&(n.hitArea.width=h,n.hitArea.height=k),this},setDisplaySize:function(h,k){return this.displayWidth=h,this.displayHeight=k,this},setCircleDropZone:function(h){return this.setDropZone(new l(0,0,h),i)},setRectangleDropZone:function(h,k){return this.setDropZone(new c(0,0,h,k),j)},setDropZone:function(h,k){return h===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(h,k,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD_ANIMATION:a(534),ANIMATION_COMPLETE:a(535),ANIMATION_REPEAT:a(536),ANIMATION_RESTART:a(537),ANIMATION_START:a(538),PAUSE_ALL:a(539),REMOVE_ANIMATION:a(540),RESUME_ALL:a(541),SPRITE_ANIMATION_COMPLETE:a(542),SPRITE_ANIMATION_KEY_COMPLETE:a(543),SPRITE_ANIMATION_KEY_REPEAT:a(544),SPRITE_ANIMATION_KEY_RESTART:a(545),SPRITE_ANIMATION_KEY_START:a(546),SPRITE_ANIMATION_KEY_UPDATE:a(547),SPRITE_ANIMATION_REPEAT:a(548),SPRITE_ANIMATION_RESTART:a(549),SPRITE_ANIMATION_START:a(550),SPRITE_ANIMATION_UPDATE:a(551)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return 2*(d.width+d.height)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(284),i=new d({initialize:function b(f,e){this.parent=f,this.events=e,e||(this.events=f.events?f.events:f),this.list={},this.values={},this._frozen=!1,!f.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(b){var f=this.list;if(Array.isArray(b)){for(var e=[],c=0;c<b.length;c++)e.push(f[b[c]]);return e}else return f[b]},getAll:function(){var b={};for(var f in this.list)this.list.hasOwnProperty(f)&&(b[f]=this.list[f]);return b},query:function(b){var f={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(b)&&(f[e]=this.list[e]);return f},set:function(b,f){if(this._frozen)return this;if(typeof b==="string")return this.setValue(b,f);for(var e in b)this.setValue(e,b[e]);return this},inc:function(b,f){if(this._frozen)return this;f===void 0&&(f=1);var e=this.get(b);return e===void 0&&(e=0),this.set(b,e+f),this},toggle:function(b){return this._frozen?this:(this.set(b,!this.get(b)),this)},setValue:function(b,f){if(this._frozen)return this;if(this.has(b))this.values[b]=f;else{var e=this,c=this.list,j=this.events,g=this.parent;Object.defineProperty(this.values,b,{enumerable:!0,configurable:!0,get:function(){return c[b]},set:function(h){if(!e._frozen){var k=c[b];c[b]=h,j.emit(l.CHANGE_DATA,g,b,h,k),j.emit(l.CHANGE_DATA_KEY+b,g,h,k)}}}),c[b]=f,j.emit(l.SET_DATA,g,b,f)}return this},each:function(b,f){for(var e=[this.parent,null,void 0],c=1;c<arguments.length;c++)e.push(arguments[c]);for(var j in this.list)e[1]=j,e[2]=this.list[j],b.apply(f,e);return this},merge:function(b,f){f===void 0&&(f=!0);for(var e in b)b.hasOwnProperty(e)&&(f||!f&&!this.has(e))&&this.setValue(e,b[e]);return this},remove:function(b){if(this._frozen)return this;if(Array.isArray(b))for(var f=0;f<b.length;f++)this.removeValue(b[f]);else return this.removeValue(b);return this},removeValue:function(b){if(this.has(b)){var f=this.list[b];delete this.list[b],delete this.values[b],this.events.emit(l.REMOVE_DATA,this.parent,b,f)}return this},pop:function(b){var f=void 0;return!this._frozen&&this.has(b)&&(f=this.list[b],delete this.list[b],delete this.values[b],this.events.emit(l.REMOVE_DATA,this.parent,b,f)),f},has:function(b){return this.list.hasOwnProperty(b)},setFreeze:function(b){return this._frozen=b,this},reset:function(){for(var b in this.list)delete this.list[b],delete this.values[b];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(l.CHANGE_DATA),this.events.off(l.SET_DATA),this.events.off(l.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(b){this._frozen=b?!0:!1}},count:{get:function(){var b=0;for(var f in this.list)this.list[f]!==void 0&&b++;return b}}});o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){for(var l=d.length-1;l>0;l--){var i=Math.floor(Math.random()*(l+1)),b=d[l];d[l]=d[i],d[i]=b}return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(302),l=a(303),i=a(304),b=a(305),f=a(306),e=a(307),c=a(308),j=a(309),g=a(310),h=a(311),k=a(312),m=a(313);o.exports={Power0:c,Power1:j.Out,Power2:b.Out,Power3:g.Out,Power4:h.Out,Linear:c,Quad:j.Out,Cubic:b.Out,Quart:g.Out,Quint:h.Out,Sine:k.Out,Expo:e.Out,Circ:i.Out,Elastic:f.Out,Back:d.Out,Bounce:l.Out,Stepped:m,"Quad.easeIn":j.In,"Cubic.easeIn":b.In,"Quart.easeIn":g.In,"Quint.easeIn":h.In,"Sine.easeIn":k.In,"Expo.easeIn":e.In,"Circ.easeIn":i.In,"Elastic.easeIn":f.In,"Back.easeIn":d.In,"Bounce.easeIn":l.In,"Quad.easeOut":j.Out,"Cubic.easeOut":b.Out,"Quart.easeOut":g.Out,"Quint.easeOut":h.Out,"Sine.easeOut":k.Out,"Expo.easeOut":e.Out,"Circ.easeOut":i.Out,"Elastic.easeOut":f.Out,"Back.easeOut":d.Out,"Bounce.easeOut":l.Out,"Quad.easeInOut":j.InOut,"Cubic.easeInOut":b.InOut,"Quart.easeInOut":g.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":k.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":i.InOut,"Elastic.easeInOut":f.InOut,"Back.easeInOut":d.InOut,"Bounce.easeInOut":l.InOut}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return(l-d)*i+d};o.exports=a},function(o,w,a){(function(d){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var l={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){var b=navigator.userAgent;/Windows/.test(b)?l.windows=!0:/Mac OS/.test(b)&&!/like Mac OS/.test(b)?l.macOS=!0:/Android/.test(b)?l.android=!0:/Linux/.test(b)?l.linux=!0:/iP[ao]d|iPhone/i.test(b)?(l.iOS=!0,navigator.appVersion.match(/OS (\d+)/),l.iOSVersion=parseInt(RegExp.$1,10),l.iPhone=b.toLowerCase().indexOf("iphone")!==-1,l.iPad=b.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(b)||/\bKF[A-Z][A-Z]+/.test(b)||/Silk.*Mobile Safari/.test(b)?l.kindle=!0:/CrOS/.test(b)&&(l.chromeOS=!0),(/Windows Phone/i.test(b)||/IEMobile/i.test(b))&&(l.android=!1,l.iOS=!1,l.macOS=!1,l.windows=!0,l.windowsPhone=!0);var f=/Silk/.test(b);return(l.windows||l.macOS||l.linux&&!f||l.chromeOS)&&(l.desktop=!0),(l.windowsPhone||/Windows NT/i.test(b)&&/Touch/i.test(b))&&(l.desktop=!1),navigator.standalone&&(l.webApp=!0),window.cordova!==void 0&&(l.cordova=!0),l.node&&!1&&(l.nodeWebkit=!!d.versions["node-webkit"],l.electron=!!d.versions.electron),window.ejecta!==void 0&&(l.ejecta=!0),/Crosswalk/.test(b)&&(l.crosswalk=!0),l.pixelRatio=window.devicePixelRatio||1,l}o.exports=i()}).call(this,a(729))},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(117),l={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function i(){var b=navigator.userAgent;return/Edge\/\d+/.test(b)?l.edge=!0:/Chrome\/(\d+)/.test(b)&&!d.windowsPhone?(l.chrome=!0,l.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(b)?(l.firefox=!0,l.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(b)&&d.iOS?l.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(b)?(l.ie=!0,l.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(b)?l.opera=!0:/Safari/.test(b)&&!d.windowsPhone?l.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(b)&&(l.ie=!0,l.trident=!0,l.tridentVersion=parseInt(RegExp.$1,10),l.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(b)&&(l.silk=!0),l}o.exports=i()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return Math.random()*(l-d)+d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d>0&&(d&d-1)===0&&l>0&&(l&l-1)===0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:a(781),ERROR:a(782),LOAD:a(783),READY:a(784),REMOVE:a(785)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i;if(l)typeof l==="string"?i=document.getElementById(l):typeof l==="object"&&l.nodeType===1&&(i=l);else if(d.parentElement||l===null)return d;return i||(i=document.body),i.appendChild(d),d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(80),l=function(i,b,f,e){e===void 0&&(e=i);var c;if(!Array.isArray(b))return c=i.indexOf(b),c!==-1?(d(i,c),f&&f.call(e,b),b):null;for(var j=b.length-1;j>=0;){var g=b[j];c=i.indexOf(g),c!==-1?(d(i,c),f&&f.call(e,g)):b.pop(),j--}return b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(67),l=function(i,b){var f=d(i);for(var e in b)f.hasOwnProperty(e)||(f[e]=b[e]);return f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(67),i=a(10),b=a(59),f=a(20),e=a(1),c=a(382),j=a(383),g=new d({Extends:i,initialize:function h(k){i.call(this),this.game=k,this.jsonCache=k.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,k.events.on(f.BLUR,this.onGameBlur,this),k.events.on(f.FOCUS,this.onGameFocus,this),k.events.on(f.PRE_STEP,this.update,this),k.events.once(f.DESTROY,this.destroy,this)},add:e,addAudioSprite:function(h,k){k===void 0&&(k={});var m=this.add(h,k);m.spritemap=this.jsonCache.get(h).spritemap;for(var n in m.spritemap){if(!m.spritemap.hasOwnProperty(n))continue;var p=l(k),q=m.spritemap[n];p.loop=q.hasOwnProperty("loop")?q.loop:!1,m.addMarker({name:n,start:q.start,duration:q.end-q.start,config:p})}return m},get:function(h){return j(this.sounds,"key",h)},getAll:function(h){return c(this.sounds,"key",h)},play:function(h,k){var m=this.add(h);return m.once(b.COMPLETE,m.destroy,m),k?k.name?(m.addMarker(k),m.play(k.name)):m.play(k):m.play()},playAudioSprite:function(h,k,m){var n=this.addAudioSprite(h);return n.once(b.COMPLETE,n.destroy,n),n.play(k,m)},remove:function(h){var k=this.sounds.indexOf(h);return k!==-1?(h.destroy(),this.sounds.splice(k,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var k=0,m=this.sounds.length-1;m>=0;m--){var n=this.sounds[m];n.key===h&&(n.destroy(),this.sounds.splice(m,1),k++)}return k},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(b.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(b.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(b.STOP_ALL,this)},stopByKey:function(h){var k=0;return this.getAll(h).forEach(function(m){m.stop()&&k++}),k},unlock:e,onBlur:e,onFocus:e,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(h,k){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(b.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(n){n.update(h,k)})},destroy:function(){this.game.events.off(f.BLUR,this.onGameBlur,this),this.game.events.off(f.FOCUS,this.onGameFocus,this),this.game.events.off(f.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(h,k){var m=this;this.sounds.forEach(function(n,p){n&&!n.pendingRemove&&h.call(k||m,n,p,m.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(k){k.calculateRate()}),this.emit(b.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(k){k.calculateRate()}),this.emit(b.GLOBAL_DETUNE,this,h)}}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(59),b=a(18),f=a(1),e=new d({Extends:l,initialize:function c(j,g,h){l.call(this),this.manager=j,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=b(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(c){return!c||!c.name||typeof c.name!=="string"?!1:this.markers[c.name]?(console.error("addMarker "+c.name+" already exists in Sound"),!1):(c=b(!0,{name:"",start:0,duration:this.totalDuration-(c.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},c),this.markers[c.name]=c,!0)},updateMarker:function(c){return!c||!c.name||typeof c.name!=="string"?!1:this.markers[c.name]?(this.markers[c.name]=b(!0,this.markers[c.name],c),!0):(console.warn("Audio Marker: "+c.name+" missing in Sound: "+this.key),!1)},removeMarker:function(c){var j=this.markers[c];return j?(this.markers[c]=null,j):null},play:function(c,j){c===void 0&&(c=""),typeof c==="object"&&(j=c,c="");if(typeof c!=="string")return!1;if(!c)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[c])return console.warn("Marker: "+c+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[c],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=b(this.currentConfig,j),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:f,calculateRate:function(){var c=1.0005777895065548,j=this.currentConfig.detune+this.manager.detune,g=Math.pow(c,j);this.totalRate=this.currentConfig.rate*this.manager.rate*g},destroy:function(){if(this.pendingRemove)return;this.emit(i.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(183),l=a(0),i=a(1),b=a(131),f=new l({initialize:function e(c){this.parent=c,this.list=[],this.position=0,this.addCallback=i,this.removeCallback=i,this._sortKey=""},add:function(e,c){return c?d.Add(this.list,e):d.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,c,j){return j?d.AddAt(this.list,e,c):d.AddAt(this.list,e,c,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,c){return e?(c===void 0&&(c=function(j,g){return j[e]-g[e]}),b.inplace(this.list,c),this):this},getByName:function(e){return d.GetFirst(this.list,"name",e)},getRandom:function(e,c){return d.GetRandom(this.list,e,c)},getFirst:function(e,c,j,g){return d.GetFirst(this.list,e,c,j,g)},getAll:function(e,c,j,g){return d.GetAll(this.list,e,c,j,g)},count:function(e,c){return d.CountAllMatching(this.list,e,c)},swap:function(e,c){d.Swap(this.list,e,c)},moveTo:function(e,c){return d.MoveTo(this.list,e,c)},remove:function(e,c){return c?d.Remove(this.list,e):d.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,c){return c?d.RemoveAt(this.list,e):d.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,c,j){return j?d.RemoveBetween(this.list,e,c):d.RemoveBetween(this.list,e,c,this.removeCallback,this)},removeAll:function(e){for(var c=this.list.length;c--;)this.remove(this.list[c],e);return this},bringToTop:function(e){return d.BringToTop(this.list,e)},sendToBack:function(e){return d.SendToBack(this.list,e)},moveUp:function(e){return d.MoveUp(this.list,e),e},moveDown:function(e){return d.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(e,c){return d.Replace(this.list,e,c)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,c,j,g){return d.SetAll(this.list,e,c,j,g),this},each:function(e,c){for(var j=[null],g=2;g<arguments.length;g++)j.push(arguments[g]);for(g=0;g<this.list.length;g++)j[0]=this.list[g],e.apply(c,j)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(184),l=a(390),i=function(b,f){f===void 0&&(f=90);if(!d(b))return null;typeof f!=="string"&&(f=(f%360+360)%360);if(f===90||f===-270||f==="rotateLeft")b=l(b),b.reverse();else if(f===-90||f===270||f==="rotateRight")b.reverse(),b=l(b);else if(Math.abs(f)===180||f==="rotate180"){for(var e=0;e<b.length;e++)b[e].reverse();b.reverse()}return b};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 *///! stable.js 0.1.6, https://github.com/Two-Screen/stable
//! © 2017 Angry Bytes and contributors. MIT licensed.
(function(){var d=function(b,f){return l(b.slice(),f)};d.inplace=function(b,f){var e=l(b,f);return e!==b&&i(e,null,b.length,b),b};function l(b,f){typeof f!=="function"&&(f=function(h,k){return String(h).localeCompare(k)});var e=b.length;if(e<=1)return b;for(var c=new Array(e),j=1;j<e;j*=2){i(b,f,j,c);var g=b;b=c,c=g}return b}var i=function(b,f,e,c){var j=b.length,g=0,h=e*2,k,m,n,p,q;for(k=0;k<j;k+=h)for(m=k+e,n=m+e,m>j&&(m=j),n>j&&(n=j),p=k,q=m;;)if(p<m&&q<n)f(b[p],b[q])<=0?c[g++]=b[p++]:c[g++]=b[q++];else if(p<m)c[g++]=b[p++];else if(q<n)c[g++]=b[q++];else break};o.exports=d})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(945),f=a(946),e=a(187),c=a(947),j=new d({Extends:i,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Origin,l.Pipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,c],initialize:function g(h,k,m,n,p,q,r){p===void 0&&(p=""),r===void 0&&(r=0),i.call(this,h,"BitmapText"),this.font=n;var s=this.scene.sys.cache.bitmapFont.get(n);this.fontData=s.data,this._text="",this._fontSize=q||this.fontData.size,this._letterSpacing=0,this._align=r,this._bounds=b(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.setTexture(s.texture,s.frame),this.setPosition(k,m),this.setOrigin(0,0),this.initPipeline(),this.setText(p)},setLeftAlign:function(){return this._align=j.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=j.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=j.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(g){return this._fontSize=g,this._dirty=!0,this},setLetterSpacing:function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(g){var h=this._bounds;return(this._dirty||this.scaleX!==h.scaleX||this.scaleY!==h.scaleY)&&(b(this,g,h),this._dirty=!1,this.updateDisplayOrigin()),h},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this._dirty=!0,this},setFont:function(g,h,k){h===void 0&&(h=this._fontSize),k===void 0&&(k=this._align);if(g!==this.font){var m=this.scene.sys.cache.bitmapFont.get(g);m&&(this.font=g,this.fontData=m.data,this._fontSize=h,this._align=k,this.setTexture(m.texture,m.frame),b(this,!1,this._bounds))}return this},setMaxWidth:function(g,h){return this._maxWidth=g,this._dirty=!0,h!==void 0&&(this.wordWrapCharCode=h),this},align:{set:function(g){this._align=g,this._dirty=!0},get:function(){return this._align}},text:{set:function(g){this.setText(g)},get:function(){return this._text}},fontSize:{set:function(g){this._fontSize=g,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(g){this._letterSpacing=g,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(g){this._maxWidth=g,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var g=l.ToJSON(this),h={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return g.data=h,g}});j.ALIGN_LEFT=0,j.ALIGN_CENTER=1,j.ALIGN_RIGHT=2,j.ParseFromAtlas=f,j.ParseXMLBitmapFont=e,o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b){this.entries=[];if(Array.isArray(b))for(var f=0;f<b.length;f++)this.set(b[f])},set:function(i){return this.entries.indexOf(i)===-1&&this.entries.push(i),this},get:function(i,b){for(var f=0;f<this.entries.length;f++){var e=this.entries[f];if(e[i]===b)return e}},getArray:function(){return this.entries.slice(0)},delete:function(i){var b=this.entries.indexOf(i);return b>-1&&this.entries.splice(b,1),this},dump:function(){console.group("Set");for(var i=0;i<this.entries.length;i++){var b=this.entries[i];console.log(b)}console.groupEnd()},each:function(i,b){var f,e=this.entries.slice(),c=e.length;if(b){for(f=0;f<c;f++)if(i.call(b,e[f],f)===!1)break}else for(f=0;f<c;f++)if(i(e[f],f)===!1)break;return this},iterate:function(i,b){var f,e=this.entries.length;if(b){for(f=0;f<e;f++)if(i.call(b,this.entries[f],f)===!1)break}else for(f=0;f<e;f++)if(i(this.entries[f],f)===!1)break;return this},iterateLocal:function(i){var b,f=[];for(b=1;b<arguments.length;b++)f.push(arguments[b]);var e=this.entries.length;for(b=0;b<e;b++){var c=this.entries[b];c[i].apply(c,f)}return this},clear:function(){return this.entries.length=0,this},contains:function(i){return this.entries.indexOf(i)>-1},union:function(i){var b=new l();return i.entries.forEach(function(f){b.set(f)}),this.entries.forEach(function(f){b.set(f)}),b},intersect:function(i){var b=new l();return this.entries.forEach(function(f){i.contains(f)&&b.set(f)}),b},difference:function(i){var b=new l();return this.entries.forEach(function(f){i.contains(f)||b.set(f)}),b},size:{get:function(){return this.entries.length},set:function(i){return i<this.entries.length?this.entries.length=i:this.entries.length}}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(1077),f=a(1),e=new d({Extends:i,Mixins:[l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,b],initialize:function c(j,g,h,k,m,n,p,q,r){i.call(this,j,"Mesh");if(k.length!==m.length)throw new Error("Mesh Vertex count must match UV count");var s=k.length/2|0;if(n.length>0&&n.length<s)throw new Error("Mesh Color count must match Vertex count");if(p.length>0&&p.length<s)throw new Error("Mesh Alpha count must match Vertex count");var t;if(n.length===0)for(t=0;t<s;++t)n[t]=16777215;if(p.length===0)for(t=0;t<s;++t)p[t]=1;this.vertices=new Float32Array(k),this.uv=new Float32Array(m),this.colors=new Uint32Array(n),this.alphas=new Float32Array(p),this.tintFill=!1,this.setTexture(q,r),this.setPosition(g,h),this.setSizeToFrame(),this.initPipeline()},setAlpha:f});o.exports=e},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.width<=0||d.height<=0||l.width<=0||l.height<=0?!1:!(d.right<l.x||d.bottom<l.y||d.x>l.right||d.y>l.bottom)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(6),l={},i={};i.register=function(b,f,e,c,j){l[b]={plugin:f,mapping:e,settingsKey:c,configKey:j}},i.getPlugin=function(b){return l[b]},i.install=function(b){var f=b.scene.sys,e=f.settings.input,c=f.game.config;for(var j in l){var g=l[j].plugin,h=l[j].mapping,k=l[j].settingsKey,m=l[j].configKey;d(e,k,c[m])&&(b[h]=new g(b))}},i.remove=function(b){l.hasOwnProperty(b)&&delete l[b]},o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ANY_KEY_DOWN:a(1217),ANY_KEY_UP:a(1218),COMBO_MATCH:a(1219),DOWN:a(1220),KEY_DOWN:a(1221),KEY_UP:a(1222),UP:a(1223)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.url?d.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?d.url:l+d.url:!1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f,e){return d===void 0&&(d=""),l===void 0&&(l=!0),i===void 0&&(i=""),b===void 0&&(b=""),f===void 0&&(f=0),e===void 0&&(e=!1),{responseType:d,async:l,user:i,password:b,timeout:f,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:e}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(217),i=a(75),b=new d({Extends:i,Mixins:[l.Acceleration,l.Angular,l.Bounce,l.Debug,l.Drag,l.Enable,l.Friction,l.Gravity,l.Immovable,l.Mass,l.Size,l.Velocity],initialize:function f(e,c,j,g,h){i.call(this,e,c,j,g,h),this.body=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CalculateFacesAt:a(220),CalculateFacesWithin:a(51),Copy:a(1313),CreateFromTiles:a(1314),CullTiles:a(1315),Fill:a(1316),FilterTiles:a(1317),FindByIndex:a(1318),FindTile:a(1319),ForEachTile:a(1320),GetTileAt:a(142),GetTileAtWorldXY:a(1321),GetTilesWithin:a(24),GetTilesWithinShape:a(1322),GetTilesWithinWorldXY:a(1323),HasTileAt:a(476),HasTileAtWorldXY:a(1324),IsInLayerBounds:a(101),PutTileAt:a(221),PutTileAtWorldXY:a(1325),PutTilesAt:a(1326),Randomize:a(1327),RemoveTileAt:a(477),RemoveTileAtWorldXY:a(1328),RenderDebug:a(1329),ReplaceByIndex:a(475),SetCollision:a(1330),SetCollisionBetween:a(1331),SetCollisionByExclusion:a(1332),SetCollisionByProperty:a(1333),SetCollisionFromCollisionGroup:a(1334),SetTileIndexCallback:a(1335),SetTileLocationCallback:a(1336),Shuffle:a(1337),SwapByIndex:a(1338),TileToWorldX:a(143),TileToWorldXY:a(1339),TileToWorldY:a(144),WeightedRandomize:a(1340),WorldToTileX:a(63),WorldToTileXY:a(1341),WorldToTileY:a(64)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(101),l=function(i,b,f,e){f===void 0&&(f=!1);if(d(i,b,e)){var c=e.data[b][i]||null;return c===null?null:c.index===-1?f?c:null:c}else return null};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=i.baseTileWidth,f=i.tilemapLayer,e=0;return f&&(l===void 0&&(l=f.scene.cameras.main),e=f.x+l.scrollX*(1-f.scrollFactorX),b*=f.scaleX),e+d*b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=i.baseTileHeight,f=i.tilemapLayer,e=0;return f&&(l===void 0&&(l=f.scene.cameras.main),e=f.y+l.scrollY*(1-f.scrollFactorY),b*=f.scaleY),e+d*b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b;if(d.hasOwnProperty(l)){var f=typeof d[l];f==="function"?b=function(e,c,j,g,h,k){return d[l](e,c,j,g,h,k)}:b=function(){return d[l]}}else typeof i==="function"?b=i:b=function(){return i};return b};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(230),l=a(15),i=a(88),b=a(69),f=a(145),e=a(498),c=a(228),j=a(6),g=a(229),h=a(231),k=a(233),m=function(n,p,q){q===void 0&&(q=d);for(var r=q.targets?q.targets:c(p),s=e(p),t=f(p,"delay",q.delay),u=f(p,"duration",q.duration),v=j(p,"easeParams",q.easeParams),x=b(j(p,"ease",q.ease),v),z=f(p,"hold",q.hold),y=f(p,"repeat",q.repeat),A=f(p,"repeatDelay",q.repeatDelay),D=i(p,"yoyo",q.yoyo),F=i(p,"flipX",q.flipX),H=i(p,"flipY",q.flipY),I=[],N=0;N<s.length;N++)for(var J=s[N].key,C=s[N].value,B=0;B<r.length;B++){var E=g(J,C),K=k(r[B],B,J,E.getEnd,E.getStart,E.getActive,b(j(C,"ease",x),v),f(C,"delay",t),f(C,"duration",u),i(C,"yoyo",D),f(C,"hold",z),f(C,"repeat",y),f(C,"repeatDelay",A),i(C,"flipX",F),i(C,"flipY",H));I.push(K)}var G=new h(n,I,r);G.offset=l(p,"offset",null),G.completeDelay=l(p,"completeDelay",0),G.loop=Math.round(l(p,"loop",0)),G.loopDelay=Math.round(l(p,"loopDelay",0)),G.paused=i(p,"paused",!1),G.useFrames=i(p,"useFrames",!1);for(var L=j(p,"callbackScope",G),M=[G,null],O=h.TYPES,P=0;P<O.length;P++){var Q=O[P],R=j(p,Q,!1);if(R){var S=j(p,Q+"Scope",L),T=j(p,Q+"Params",[]);G.setCallback(Q,R,M.concat(T),S)}}return G};o.exports=m},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(9),i=new d({initialize:function b(f){this.name="WebGLPipeline",this.game=f.game,this.view=f.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=f.gl,this.vertexCount=0,this.vertexCapacity=f.vertexCapacity,this.renderer=f.renderer,this.vertexData=f.vertices?f.vertices:new ArrayBuffer(f.vertexCapacity*f.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(f.vertices?f.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(f.vertShader,f.fragShader),this.attributes=f.attributes,this.vertexSize=f.vertexSize,this.topology=f.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=l.getComponentCount(f.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(b,f,e,c,j){return this.attributes.push({name:b,size:f,type:this.renderer.glFormats[e],normalized:c,offset:j}),this.vertexComponentCount=l.getComponentCount(this.attributes,this.gl),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(b,f,e){return this.width=b*e,this.height=f*e,this.resolution=e,this},bind:function(){var b=this.gl,f=this.vertexBuffer,e=this.attributes,c=this.program,j=this.renderer,g=this.vertexSize;j.setProgram(c),j.setVertexBuffer(f);for(var h=0;h<e.length;++h){var k=e[h],m=b.getAttribLocation(c,k.name);m>=0?(b.enableVertexAttribArray(m),b.vertexAttribPointer(m,k.size,k.type,k.normalized,g,k.offset)):m!==-1&&b.disableVertexAttribArray(m)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var b=this.gl,f=this.vertexCount,e=this.topology,c=this.vertexSize;if(f===0){this.flushLocked=!1;return}return b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,f*c)),b.drawArrays(e,0,f),this.vertexCount=0,this.flushLocked=!1,this},destroy:function(){var b=this.gl;return b.deleteProgram(this.program),b.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(b,f){return this.renderer.setFloat1(this.program,b,f),this},setFloat2:function(b,f,e){return this.renderer.setFloat2(this.program,b,f,e),this},setFloat3:function(b,f,e,c){return this.renderer.setFloat3(this.program,b,f,e,c),this},setFloat4:function(b,f,e,c,j){return this.renderer.setFloat4(this.program,b,f,e,c,j),this},setFloat1v:function(b,f){return this.renderer.setFloat1v(this.program,b,f),this},setFloat2v:function(b,f){return this.renderer.setFloat2v(this.program,b,f),this},setFloat3v:function(b,f){return this.renderer.setFloat3v(this.program,b,f),this},setFloat4v:function(b,f){return this.renderer.setFloat4v(this.program,b,f),this},setInt1:function(b,f){return this.renderer.setInt1(this.program,b,f),this},setInt2:function(b,f,e){return this.renderer.setInt2(this.program,b,f,e),this},setInt3:function(b,f,e,c){return this.renderer.setInt3(this.program,b,f,e,c),this},setInt4:function(b,f,e,c,j){return this.renderer.setInt4(this.program,b,f,e,c,j),this},setMatrix2:function(b,f,e){return this.renderer.setMatrix2(this.program,b,f,e),this},setMatrix3:function(b,f,e){return this.renderer.setMatrix3(this.program,b,f,e),this},setMatrix4:function(b,f,e){return this.renderer.setMatrix4(this.program,b,f,e),this}});o.exports=i},function(o,w,a){var d={};o.exports=d;var l=a(240),i=a(42),b=a(100),f=a(62);(function(){d.create=function(e){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},d.setModified=function(e,c,j,g){l.trigger(e,"compositeModified",e),e.isModified=c,j&&e.parent&&d.setModified(e.parent,c,j,g);if(g)for(var h=0;h<e.composites.length;h++){var k=e.composites[h];d.setModified(k,c,j,g)}},d.add=function(e,c){var j=[].concat(c);l.trigger(e,"beforeAdd",{object:c});for(var g=0;g<j.length;g++){var h=j[g];switch(h.type){case"body":if(h.parent!==h){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}d.addBody(e,h);break;case"constraint":d.addConstraint(e,h);break;case"composite":d.addComposite(e,h);break;case"mouseConstraint":d.addConstraint(e,h.constraint);break}}return l.trigger(e,"afterAdd",{object:c}),e},d.remove=function(e,c,j){var g=[].concat(c);l.trigger(e,"beforeRemove",{object:c});for(var h=0;h<g.length;h++){var k=g[h];switch(k.type){case"body":d.removeBody(e,k,j);break;case"constraint":d.removeConstraint(e,k,j);break;case"composite":d.removeComposite(e,k,j);break;case"mouseConstraint":d.removeConstraint(e,k.constraint);break}}return l.trigger(e,"afterRemove",{object:c}),e},d.addComposite=function(e,c){return e.composites.push(c),c.parent=e,d.setModified(e,!0,!0,!1),e},d.removeComposite=function(e,c,j){var g=e.composites.indexOf(c);g!==-1&&(d.removeCompositeAt(e,g),d.setModified(e,!0,!0,!1));if(j)for(var h=0;h<e.composites.length;h++)d.removeComposite(e.composites[h],c,!0);return e},d.removeCompositeAt=function(e,c){return e.composites.splice(c,1),d.setModified(e,!0,!0,!1),e},d.addBody=function(e,c){return e.bodies.push(c),d.setModified(e,!0,!0,!1),e},d.removeBody=function(e,c,j){var g=e.bodies.indexOf(c);g!==-1&&(d.removeBodyAt(e,g),d.setModified(e,!0,!0,!1));if(j)for(var h=0;h<e.composites.length;h++)d.removeBody(e.composites[h],c,!0);return e},d.removeBodyAt=function(e,c){return e.bodies.splice(c,1),d.setModified(e,!0,!0,!1),e},d.addConstraint=function(e,c){return e.constraints.push(c),d.setModified(e,!0,!0,!1),e},d.removeConstraint=function(e,c,j){var g=e.constraints.indexOf(c);g!==-1&&d.removeConstraintAt(e,g);if(j)for(var h=0;h<e.composites.length;h++)d.removeConstraint(e.composites[h],c,!0);return e},d.removeConstraintAt=function(e,c){return e.constraints.splice(c,1),d.setModified(e,!0,!0,!1),e},d.clear=function(e,c,j){if(j)for(var g=0;g<e.composites.length;g++)d.clear(e.composites[g],c,!0);return c?e.bodies=e.bodies.filter(function(h){return h.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,d.setModified(e,!0,!0,!1),e},d.allBodies=function(e){for(var c=[].concat(e.bodies),j=0;j<e.composites.length;j++)c=c.concat(d.allBodies(e.composites[j]));return c},d.allConstraints=function(e){for(var c=[].concat(e.constraints),j=0;j<e.composites.length;j++)c=c.concat(d.allConstraints(e.composites[j]));return c},d.allComposites=function(e){for(var c=[].concat(e.composites),j=0;j<e.composites.length;j++)c=c.concat(d.allComposites(e.composites[j]));return c},d.get=function(e,c,j){var g,h;switch(j){case"body":g=d.allBodies(e);break;case"constraint":g=d.allConstraints(e);break;case"composite":g=d.allComposites(e).concat(e);break}return g?(h=g.filter(function(k){return k.id.toString()===c.toString()}),h.length===0?null:h[0]):null},d.move=function(e,c,j){return d.remove(e,c),d.add(j,c),e},d.rebase=function(e){for(var c=d.allBodies(e).concat(d.allConstraints(e)).concat(d.allComposites(e)),j=0;j<c.length;j++)c[j].id=i.nextId();return d.setModified(e,!0,!0,!1),e},d.translate=function(e,c,j){for(var g=j?d.allBodies(e):e.bodies,h=0;h<g.length;h++)f.translate(g[h],c);return d.setModified(e,!0,!0,!1),e},d.rotate=function(e,c,j,g){for(var h=Math.cos(c),k=Math.sin(c),m=g?d.allBodies(e):e.bodies,n=0;n<m.length;n++){var p=m[n],q=p.position.x-j.x,r=p.position.y-j.y;f.setPosition(p,{x:j.x+(q*h-r*k),y:j.y+(q*k+r*h)}),f.rotate(p,c)}return d.setModified(e,!0,!0,!1),e},d.scale=function(e,c,j,g,h){for(var k=h?d.allBodies(e):e.bodies,m=0;m<k.length;m++){var n=k[m],p=n.position.x-g.x,q=n.position.y-g.y;f.setPosition(n,{x:g.x+p*c,y:g.y+q*j}),f.scale(n,c,j)}return d.setModified(e,!0,!0,!1),e},d.bounds=function(e){for(var c=d.allBodies(e),j=[],g=0;g<c.length;g+=1){var h=c[g];j.push(h.bounds.min,h.bounds.max)}return b.create(j)}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f){return f===void 0&&(f=new d()),f.x=i.x+i.radius*Math.cos(b),f.y=i.y+i.radius*Math.sin(b),f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){b===void 0&&(b=new d());var f=2*Math.PI*Math.random(),e=Math.random()+Math.random(),c=e>1?2-e:e,j=c*Math.cos(f),g=c*Math.sin(f);return b.x=i.x+j*i.radius,b.y=i.y+g*i.radius,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(10),b=a(111),f=a(270),e=a(271),c=a(6),j=new l({Extends:i,initialize:function g(h,k,m){i.call(this),this.manager=h,this.key=k,this.type="frame",this.frames=this.getFrames(h.textureManager,c(m,"frames",[]),c(m,"defaultTextureKey",null)),this.frameRate=c(m,"frameRate",null),this.duration=c(m,"duration",null),this.duration===null&&this.frameRate===null?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&this.frameRate===null?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=c(m,"skipMissedFrames",!0),this.delay=c(m,"delay",0),this.repeat=c(m,"repeat",0),this.repeatDelay=c(m,"repeatDelay",0),this.yoyo=c(m,"yoyo",!1),this.showOnStart=c(m,"showOnStart",!1),this.hideOnComplete=c(m,"hideOnComplete",!1),this.paused=!1,this.manager.on(b.PAUSE_ALL,this.pause,this),this.manager.on(b.RESUME_ALL,this.resume,this)},addFrame:function(g){return this.addFrameAt(this.frames.length,g)},addFrameAt:function(g,h){var k=this.getFrames(this.manager.textureManager,h);if(k.length>0){if(g===0)this.frames=k.concat(this.frames);else if(g===this.frames.length)this.frames=this.frames.concat(k);else{var m=this.frames.slice(0,g),n=this.frames.slice(g);this.frames=m.concat(k,n)}this.updateFrameSequence()}return this},checkFrame:function(g){return g>=0&&g<this.frames.length},completeAnimation:function(g){this.hideOnComplete&&(g.parent.visible=!1),g.stop()},getFirstTick:function(g,h){h===void 0&&(h=!0),g.accumulator=0,g.nextTick=g.msPerFrame+g.currentFrame.duration,h&&(g.nextTick+=g._delay)},getFrameAt:function(g){return this.frames[g]},getFrames:function(g,h,k){var m=[],n,p,q=1,r,s;if(typeof h==="string"){s=h;var t=g.get(s),u=t.getFrameNames();h=[],u.forEach(function(D,F){h.push({key:s,frame:F})})}if(!Array.isArray(h)||h.length===0)return m;for(r=0;r<h.length;r++){var v=h[r],x=c(v,"key",k);if(!x)continue;var z=c(v,"frame",0),y=g.getFrame(x,z);p=new e(x,z,q,y),p.duration=c(v,"duration",0),p.isFirst=!n,n&&(n.nextFrame=p,p.prevFrame=n),m.push(p),n=p,q++}if(m.length>0){p.isLast=!0,p.nextFrame=m[0],m[0].prevFrame=p;var A=1/(m.length-1);for(r=0;r<m.length;r++)m[r].progress=r*A}return m},getNextTick:function(g){g.accumulator-=g.nextTick,g.nextTick=g.msPerFrame+g.currentFrame.duration},load:function(g,h){h>=this.frames.length&&(h=0),g.currentAnim!==this&&(g.currentAnim=this,g.frameRate=this.frameRate,g.duration=this.duration,g.msPerFrame=this.msPerFrame,g.skipMissedFrames=this.skipMissedFrames,g._delay=this.delay,g._repeat=this.repeat,g._repeatDelay=this.repeatDelay,g._yoyo=this.yoyo);var k=this.frames[h];h===0&&!g.forward&&(k=this.getLastFrame()),g.updateFrame(k)},getFrameByProgress:function(g){return g=d(g,0,1),f(g,this.frames,"progress")},nextFrame:function(g){var h=g.currentFrame;h.isLast?g._yoyo?this.handleYoyoFrame(g,!1):g.repeatCounter>0?g._reverse&&g.forward?g.forward=!1:this.repeatAnimation(g):this.completeAnimation(g):this.updateAndGetNextTick(g,h.nextFrame)},handleYoyoFrame:function(g,h){h||(h=!1);if(g._reverse===!h&&g.repeatCounter>0){(!g._repeatDelay||g.pendingRepeat)&&(g.forward=h),this.repeatAnimation(g);return}if(g._reverse!==h&&g.repeatCounter===0){this.completeAnimation(g);return}g.forward=h;var k=h?g.currentFrame.nextFrame:g.currentFrame.prevFrame;this.updateAndGetNextTick(g,k)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(g){var h=g.currentFrame;h.isFirst?g._yoyo?this.handleYoyoFrame(g,!0):g.repeatCounter>0?g._reverse&&!g.forward?(g.currentFrame=this.getLastFrame(),this.repeatAnimation(g)):(g.forward=!0,this.repeatAnimation(g)):this.completeAnimation(g):this.updateAndGetNextTick(g,h.prevFrame)},updateAndGetNextTick:function(g,h){g.updateFrame(h),this.getNextTick(g)},removeFrame:function(g){var h=this.frames.indexOf(g);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(g){return this.frames.splice(g,1),this.updateFrameSequence(),this},repeatAnimation:function(g){if(g._pendingStop===2)return this.completeAnimation(g);if(g._repeatDelay>0&&g.pendingRepeat===!1)g.pendingRepeat=!0,g.accumulator-=g.nextTick,g.nextTick+=g._repeatDelay;else{g.repeatCounter--,g.updateFrame(g.currentFrame[g.forward?"nextFrame":"prevFrame"]);if(g.isPlaying){this.getNextTick(g),g.pendingRepeat=!1;var h=g.currentFrame,k=g.parent;this.emit(b.ANIMATION_REPEAT,this,h),k.emit(b.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,h,g.repeatCounter,k),k.emit(b.SPRITE_ANIMATION_REPEAT,this,h,g.repeatCounter,k)}}},setFrame:function(g){g.forward?this.nextFrame(g):this.previousFrame(g)},toJSON:function(){var g={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){g.frames.push(h.toJSON())}),g},updateFrameSequence:function(){for(var g=this.frames.length,h=1/(g-1),k,m=0;m<g;m++)k=this.frames[m],k.index=m+1,k.isFirst=!1,k.isLast=!1,k.progress=m*h,m===0?(k.isFirst=!0,g===1?(k.isLast=!0,k.nextFrame=k,k.prevFrame=k):(k.isLast=!1,k.prevFrame=this.frames[g-1],k.nextFrame=this.frames[m+1])):m===g-1&&g>1?(k.isLast=!0,k.prevFrame=this.frames[g-2],k.nextFrame=this.frames[0]):g>1&&(k.prevFrame=this.frames[m-1],k.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(b.PAUSE_ALL,this.pause,this),this.manager.off(b.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var g=0;g<this.frames.length;g++)this.frames[g].destroy();this.frames=[],this.manager=null}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(112),l=a(4),i=function(b,f,e){e===void 0&&(e=new l());if(f<=0||f>=1)return e.x=b.x,e.y=b.y,e;var c=d(b)*f;return f>.5?(c-=b.width+b.height,c<=b.width?(e.x=b.right-c,e.y=b.bottom):(e.x=b.x,e.y=b.bottom-(c-b.width))):c<=b.width?(e.x=b.x+c,e.y=b.y):(e.x=b.right,e.y=b.y+(c-b.width)),e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(57),l=a(4),i=function(b,f,e,c){c===void 0&&(c=[]),!f&&e>0&&(f=d(b)/e);for(var j=b.x1,g=b.y1,h=b.x2,k=b.y2,m=0;m<f;m++){var n=m/f,p=j+(h-j)*n,q=g+(k-g)*n;c.push(new l(p,q))}return c};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){b===void 0&&(b=new d());var f=Math.random();return b.x=i.x1+f*(i.x2-i.x1),b.y=i.y1+f*(i.y2-i.y1),b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){return b===void 0&&(b=new d()),b.x=i.x+Math.random()*i.width,b.y=i.y+Math.random()*i.height,b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={defaultPipeline:null,pipeline:null,initPipeline:function(d){d===void 0&&(d="TextureTintPipeline");var l=this.scene.sys.game.renderer;return l&&l.gl&&l.hasPipeline(d)?(this.defaultPipeline=l.getPipeline(d),this.pipeline=this.defaultPipeline,!0):!1},setPipeline:function(d){var l=this.scene.sys.game.renderer;return l&&l.gl&&l.hasPipeline(d)&&(this.pipeline=l.getPipeline(d)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){b===void 0&&(b=new d());var f=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return b.x=i.x+e*Math.cos(f)*i.width/2,b.y=i.y+e*Math.sin(f)*i.height/2,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){b===void 0&&(b=new d());var f=i.x2-i.x1,e=i.y2-i.y1,c=i.x3-i.x1,j=i.y3-i.y1,g=Math.random(),h=Math.random();return g+h>=1&&(g=1-g,h=1-h),b.x=i.x1+(f*g+c*h),b.y=i.y1+(e*g+j*h),b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=b+Math.atan2(d.y-i,d.x-l);return d.x=l+f*Math.cos(e),d.y=i+f*Math.sin(e),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d=Math.max(0,Math.min(1,(d-l)/(i-l))),d*d*d*(d*(d*6-15)+10)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d<=l?0:d>=i?1:(d=(d-l)/(i-l),d*d*(3-2*d))};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b){this.entries={},this.size=0;if(Array.isArray(b))for(var f=0;f<b.length;f++)this.set(b[f][0],b[f][1])},set:function(i,b){return this.has(i)||this.size++,this.entries[i]=b,this},get:function(i){if(this.has(i))return this.entries[i]},getArray:function(){var i=[],b=this.entries;for(var f in b)i.push(b[f]);return i},has:function(i){return this.entries.hasOwnProperty(i)},delete:function(i){return this.has(i)&&(delete this.entries[i],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(i){delete this.entries[i]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var i=[],b=this.entries;for(var f in b)i.push(b[f]);return i},dump:function(){var i=this.entries;console.group("Map");for(var b in i)console.log(b,i[b]);console.groupEnd()},each:function(i){var b=this.entries;for(var f in b)if(i(f,b[f])===!1)break;return this},contains:function(i){var b=this.entries;for(var f in b)if(b[f]===i)return!0;return!1},merge:function(i,b){b===void 0&&(b=!1);var f=this.entries,e=i.entries;for(var c in e)f.hasOwnProperty(c)&&b?f[c]=e[c]:this.set(c,e[c]);return this}});o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){l===void 0&&(l=0),i===void 0&&(i=" "),b===void 0&&(b=3),d=d.toString();var f=0;if(l+1>=d.length)switch(b){case 1:d=new Array(l+1-d.length).join(i)+d;break;case 3:var e=Math.ceil((f=l-d.length)/2),c=f-e;d=new Array(c+1).join(i)+d+new Array(e+1).join(i);break;default:d=d+new Array(l+1-d.length).join(i);break}return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(294),l=a(297),i=a(299),b=a(300),f=function(e){var c=typeof e;switch(c){case"string":return e.substr(0,3).toLowerCase()==="rgb"?b(e):d(e);case"number":return l(e);case"object":return i(e)}};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d<<16|l<<8|i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(165),l=function(i,b,f,e){b===void 0&&(b=1),f===void 0&&(f=1);var c=Math.floor(i*6),j=i*6-c,g=Math.floor(f*(1-b)*255),h=Math.floor(f*(1-j*b)*255),k=Math.floor(f*(1-(1-j)*b)*255);f=Math.floor(f*=255);var m=f,n=f,p=f,q=c%6;return q===0?(n=k,p=g):q===1?(m=h,p=g):q===2?(m=g,p=k):q===3?(m=g,n=h):q===4?(m=k,n=g):q===5&&(n=g,p=h),e?e.setTo?e.setTo(m,n,p,e.alpha,!1):(e.r=m,e.g=n,e.b=p,e.color=d(m,n,p),e):{r:m,g:n,b:p,color:d(m,n,p)}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a="",d=function(){var l=function(e){for(var c=["i","webkitI","msI","mozI","oI"],j=0;j<c.length;j++){var g=c[j]+"mageSmoothingEnabled";if(g in e)return g}return null},i=function(e){return a===""&&(a=l(e)),a&&(e[a]=!0),e},b=function(e){return a===""&&(a=l(e)),a&&(e[a]=!1),e},f=function(e){return a!==null?e[a]:null};return{disable:b,enable:i,getPrefix:l,isEnabled:f}};o.exports=d()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.x=l-d.width/2,d.y=i-d.height/2,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(117),l=a(118),i=a(26),b={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function f(){var c=new ArrayBuffer(4),j=new Uint8Array(c),g=new Uint32Array(c);return j[0]=161,j[1]=178,j[2]=195,j[3]=212,g[0]===3569595041?!0:g[0]===2712847316?!1:null}function e(){b.canvas=!!window.CanvasRenderingContext2D;try{b.localStorage=!!localStorage.getItem}catch(g){b.localStorage=!1}b.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,b.fileSystem=!!window.requestFileSystem;var c=!1,j=function(){if(window.WebGLRenderingContext)try{var g=i.createWebGL(this),h=g.getContext("webgl")||g.getContext("experimental-webgl"),k=i.create2D(this),m=k.getContext("2d"),n=m.createImageData(1,1);return c=n.data instanceof Uint8ClampedArray,i.remove(g),i.remove(k),!!h}catch(p){return!1}return!1};return b.webGL=j(),b.worker=!!window.Worker,b.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,b.getUserMedia=b.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,l.firefox&&l.firefoxVersion<21&&(b.getUserMedia=!1),!d.iOS&&(l.ie||l.firefox||l.chrome)&&(b.canvasBitBltShift=!0),(l.safari||l.mobileSafari)&&(b.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(b.vibration=!0),typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&typeof Uint32Array!=="undefined"&&(b.littleEndian=f()),b.support32bit=typeof ArrayBuffer!=="undefined"&&typeof Uint8ClampedArray!=="undefined"&&typeof Int32Array!=="undefined"&&b.littleEndian!==null&&c,b}o.exports=e()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=a(18),i={Angle:a(734),Distance:a(743),Easing:a(748),Fuzzy:a(749),Interpolation:a(752),Pow2:a(757),Snap:a(759),RandomDataGenerator:a(761),Average:a(762),Bernstein:a(324),Between:a(172),CatmullRom:a(171),CeilTo:a(763),Clamp:a(19),DegToRad:a(39),Difference:a(764),Factorial:a(325),FloatBetween:a(119),FloorTo:a(765),FromPercent:a(87),GetSpeed:a(766),IsEven:a(767),IsEvenStrict:a(768),Linear:a(116),MaxAdd:a(769),MinSub:a(770),Percent:a(771),RadToDeg:a(173),RandomXY:a(772),RandomXYZ:a(773),RandomXYZW:a(774),Rotate:a(331),RotateAround:a(276),RotateAroundDistance:a(159),RotateTo:a(775),RoundAwayFromZero:a(332),RoundTo:a(776),SinCosTableGenerator:a(777),SmootherStep:a(160),SmoothStep:a(161),ToXY:a(778),TransformXY:a(333),Within:a(779),Wrap:a(58),Vector2:a(3),Vector3:a(174),Vector4:a(334),Matrix3:a(335),Matrix4:a(336),Quaternion:a(337),RotateVec3:a(780)};i=l(!1,i,d),o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=(b-l)*.5,c=(f-i)*.5,j=d*d,g=d*j;return(2*i-2*b+e+c)*g+(-3*i+3*b-2*e-c)*j+e*d+i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return Math.floor(Math.random()*(l-d+1)+d)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=function(i){return i*d.RAD_TO_DEG};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e){this.x=0,this.y=0,this.z=0,typeof b==="object"?(this.x=b.x||0,this.y=b.y||0,this.z=b.z||0):(this.x=b||0,this.y=f||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new l(this.x,this.y,this.z)},crossVectors:function(i,b){var f=i.x,e=i.y,c=i.z,j=b.x,g=b.y,h=b.z;return this.x=e*h-c*g,this.y=c*j-f*h,this.z=f*g-e*j,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this},set:function(i,b,f){return typeof i==="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=b||0,this.z=f||0),this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i,this.z*=i):(this.x=0,this.y=0,this.z=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(i){var b=i.x-this.x,f=i.y-this.y,e=i.z-this.z||0;return Math.sqrt(b*b+f*f+e*e)},distanceSq:function(i){var b=i.x-this.x,f=i.y-this.y,e=i.z-this.z||0;return b*b+f*f+e*e},length:function(){var i=this.x,b=this.y,f=this.z;return Math.sqrt(i*i+b*b+f*f)},lengthSq:function(){var i=this.x,b=this.y,f=this.z;return i*i+b*b+f*f},normalize:function(){var i=this.x,b=this.y,f=this.z,e=i*i+b*b+f*f;return e>0&&(e=1/Math.sqrt(e),this.x=i*e,this.y=b*e,this.z=f*e),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z},cross:function(i){var b=this.x,f=this.y,e=this.z,c=i.x,j=i.y,g=i.z;return this.x=f*g-e*j,this.y=e*c-b*g,this.z=b*j-f*c,this},lerp:function(i,b){b===void 0&&(b=0);var f=this.x,e=this.y,c=this.z;return this.x=f+b*(i.x-f),this.y=e+b*(i.y-e),this.z=c+b*(i.z-c),this},transformMat3:function(i){var b=this.x,f=this.y,e=this.z,c=i.val;return this.x=b*c[0]+f*c[3]+e*c[6],this.y=b*c[1]+f*c[4]+e*c[7],this.z=b*c[2]+f*c[5]+e*c[8],this},transformMat4:function(i){var b=this.x,f=this.y,e=this.z,c=i.val;return this.x=c[0]*b+c[4]*f+c[8]*e+c[12],this.y=c[1]*b+c[5]*f+c[9]*e+c[13],this.z=c[2]*b+c[6]*f+c[10]*e+c[14],this},transformCoordinates:function(i){var b=this.x,f=this.y,e=this.z,c=i.val,j=b*c[0]+f*c[4]+e*c[8]+c[12],g=b*c[1]+f*c[5]+e*c[9]+c[13],h=b*c[2]+f*c[6]+e*c[10]+c[14],k=b*c[3]+f*c[7]+e*c[11]+c[15];return this.x=j/k,this.y=g/k,this.z=h/k,this},transformQuat:function(i){var b=this.x,f=this.y,e=this.z,c=i.x,j=i.y,g=i.z,h=i.w,k=h*b+j*e-g*f,m=h*f+g*b-c*e,n=h*e+c*f-j*b,p=-c*b-j*f-g*e;return this.x=k*h+p*-c+m*-g-n*-j,this.y=m*h+p*-j+n*-c-k*-g,this.z=n*h+p*-g+k*-j-m*-c,this},project:function(i){var b=this.x,f=this.y,e=this.z,c=i.val,j=c[0],g=c[1],h=c[2],k=c[3],m=c[4],n=c[5],p=c[6],q=c[7],r=c[8],s=c[9],t=c[10],u=c[11],v=c[12],x=c[13],z=c[14],y=c[15],A=1/(b*k+f*q+e*u+y);return this.x=(b*j+f*m+e*r+v)*A,this.y=(b*g+f*n+e*s+x)*A,this.z=(b*h+f*p+e*t+z)*A,this},unproject:function(i,b){var f=i.x,e=i.y,c=i.z,j=i.w,g=this.x-f,h=j-this.y-1-e,k=this.z;return this.x=2*g/c-1,this.y=2*h/j-1,this.z=2*k-1,this.project(b)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});l.ZERO=new l(),l.RIGHT=new l(1,0,0),l.LEFT=new l(-1,0,0),l.UP=new l(0,-1,0),l.DOWN=new l(0,1,0),l.FORWARD=new l(0,0,1),l.BACK=new l(0,0,-1),l.ONE=new l(1,1,1),o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=a(13),i=function(b,f){f===void 0&&(f=new d());if(b.length===0)return f;for(var e=Number.MAX_VALUE,c=Number.MAX_VALUE,j=l.MIN_SAFE_INTEGER,g=l.MIN_SAFE_INTEGER,h,k,m,n=0;n<b.length;n++)h=b[n],Array.isArray(h)?(k=h[0],m=h[1]):(k=h.x,m=h.y),e=Math.min(e,k),c=Math.min(c,m),j=Math.max(j,k),g=Math.max(g,m);return f.x=e,f.y=c,f.width=j-e,f.height=g-c,f};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={CENTER:a(359),ORIENTATION:a(360),SCALE_MODE:a(361),ZOOM:a(362)};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){d.parentNode&&d.parentNode.removeChild(d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(125),i=a(175),b=a(22),f=a(880),e=a(881),c=a(1),j=a(375),g=new d({initialize:function h(k,m){this.scene=k,this.game,this.renderer,this.config=m,this.settings=j.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=c},init:function(h){this.settings.status=l.INIT,this.sceneUpdate=c,this.game=h,this.renderer=h.renderer,this.canvas=h.canvas,this.context=h.context;var k=h.plugins;this.plugins=k,k.addToScene(this,i.Global,[i.CoreScene,e(this),f(this)]),this.events.emit(b.BOOT,this),this.settings.isBooted=!0},install:function(h){Array.isArray(h)||(h=[h]),this.plugins.installLocal(this,h)},step:function(h,k){this.events.emit(b.PRE_UPDATE,h,k),this.events.emit(b.UPDATE,h,k),this.sceneUpdate.call(this.scene,h,k),this.events.emit(b.POST_UPDATE,h,k)},render:function(h){var k=this.displayList;k.depthSort(),this.cameras.render(h,k),this.events.emit(b.RENDER,h)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(h){return this.settings.active&&(this.settings.status=l.PAUSED,this.settings.active=!1,this.events.emit(b.PAUSE,this,h)),this},resume:function(h){return this.settings.active||(this.settings.status=l.RUNNING,this.settings.active=!0,this.events.emit(b.RESUME,this,h)),this},sleep:function(h){return this.settings.status=l.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(b.SLEEP,this,h),this},wake:function(h){var k=this.settings;return k.status=l.RUNNING,k.active=!0,k.visible=!0,this.events.emit(b.WAKE,this,h),k.isTransition&&this.events.emit(b.TRANSITION_WAKE,k.transitionFrom,k.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===l.SLEEPING},isActive:function(){return this.settings.status===l.RUNNING},isPaused:function(){return this.settings.status===l.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(h){return this.settings.visible=h,this},setActive:function(h,k){return h?this.resume(k):this.pause(k)},start:function(h){h&&(this.settings.data=h),this.settings.status=l.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(b.START,this),this.events.emit(b.READY,this,h)},shutdown:function(h){this.events.off(b.TRANSITION_INIT),this.events.off(b.TRANSITION_START),this.events.off(b.TRANSITION_COMPLETE),this.events.off(b.TRANSITION_OUT),this.settings.status=l.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(b.SHUTDOWN,this,h)},destroy:function(){this.settings.status=l.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(b.DESTROY,this),this.events.removeAllListeners();for(var h=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],k=0;k<h.length;k++)this[h[k]]=null}});o.exports=g},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d&&d[0].toUpperCase()+d.slice(1)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(94),i=a(378),b="Texture.frame missing: ",f=new d({initialize:function e(c,j,g,h,k){Array.isArray(g)||(g=[g]),this.manager=c,this.key=j,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<g.length;m++)this.source.push(new i(this,g[m],h,k))},add:function(e,c,j,g,h,k){if(this.has(e))return null;var m=new l(this,e,c,j,g,h,k);return this.frames[e]=m,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,m},remove:function(e){if(this.has(e)){var c=this.get(e);return c.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames[e]},get:function(e){e||(e=this.firstFrame);var c=this.frames[e];return c||(console.warn(b+e),c=this.frames[this.firstFrame]),c},getTextureSourceIndex:function(e){for(var c=0;c<this.source.length;c++)if(this.source[c]===e)return c;return-1},getFramesFromTextureSource:function(e,c){c===void 0&&(c=!1);var j=[];for(var g in this.frames){if(g==="__BASE"&&!c)continue;var h=this.frames[g];h.sourceIndex===e&&j.push(h)}return j},getFrameNames:function(e){e===void 0&&(e=!1);var c=Object.keys(this.frames);if(!e){var j=c.indexOf("__BASE");j!==-1&&c.splice(j,1)}return c},getSourceImage:function(e){(e===void 0||e===null||this.frameTotal===1)&&(e="__BASE");var c=this.frames[e];return c?c.source.image:(console.warn(b+e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e===void 0||e===null||this.frameTotal===1)&&(e="__BASE");var c=this.frames[e],j;return c?j=c.sourceIndex:(console.warn(b+e),j=this.frames.__BASE.sourceIndex),this.dataSource[j].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var c=0;c<e.length;c++){var j=this.source[c];this.dataSource.push(new i(this,e[c],j.width,j.height))}},setFilter:function(e){var c;for(c=0;c<this.source.length;c++)this.source[c].setFilter(e);for(c=0;c<this.dataSource.length;c++)this.dataSource[c].setFilter(e)},destroy:function(){var e;for(e=0;e<this.source.length;e++)this.source[e].destroy();for(e=0;e<this.dataSource.length;e++)this.dataSource[e].destroy();for(var c in this.frames){var j=this.frames[c];j.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Matrix:a(916),Add:a(923),AddAt:a(924),BringToTop:a(925),CountAllMatching:a(926),Each:a(927),EachInRange:a(928),FindClosestInSorted:a(270),GetAll:a(382),GetFirst:a(383),GetRandom:a(185),MoveDown:a(929),MoveTo:a(930),MoveUp:a(931),NumberArray:a(932),NumberArrayStep:a(933),QuickSelect:a(391),Range:a(392),Remove:a(123),RemoveAt:a(934),RemoveBetween:a(935),RemoveRandomElement:a(936),Replace:a(937),RotateLeft:a(286),RotateRight:a(287),SafeRange:a(68),SendToBack:a(938),SetAll:a(939),Shuffle:a(114),SpliceOne:a(80),StableSort:a(131),Swap:a(940)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){if(!Array.isArray(d)||d.length<2||!Array.isArray(d[0]))return!1;for(var l=d[0].length,i=1;i<d.length;i++)if(d[i].length!==l)return!1;return!0};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=0),i===void 0&&(i=d.length);var b=l+Math.floor(Math.random()*i);return d[b]===void 0?null:d[b]};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(942),b=new d({Extends:l,initialize:function f(){l.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(f){return this._pending.push(f),this._toProcess++,f},remove:function(f){return this._destroy.push(f),this._toProcess++,f},removeAll:function(){for(var f=this._active,e=this._destroy,c=f.length;c--;)e.push(f[c]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var f=this._destroy,e=this._active,c,j;for(c=0;c<f.length;c++){j=f[c];var g=e.indexOf(j);g!==-1&&(e.splice(g,1),this.emit(i.REMOVE,j))}for(f.length=0,f=this._pending,c=0;c<f.length;c++)j=f[c],this._active.push(j),this.emit(i.ADD,j);return f.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(l,i){return parseInt(l.getAttribute(i),10)}var d=function(l,i,b,f){i===void 0&&(i=0),b===void 0&&(b=0);var e={},c=l.getElementsByTagName("info")[0],j=l.getElementsByTagName("common")[0];e.font=c.getAttribute("face"),e.size=a(c,"size"),e.lineHeight=a(j,"lineHeight")+b,e.chars={};var g=l.getElementsByTagName("char"),h=f!==void 0&&f.trimmed;if(h)var k=f.height,m=f.width;for(var n=0;n<g.length;n++){var p=g[n],q=a(p,"id"),r=a(p,"x"),s=a(p,"y"),t=a(p,"width"),u=a(p,"height");h&&(r<m&&(m=r),s<k&&(k=s)),e.chars[q]={x:r,y:s,width:t,height:u,centerX:Math.floor(t/2),centerY:Math.floor(u/2),xOffset:a(p,"xoffset"),yOffset:a(p,"yoffset"),xAdvance:a(p,"xadvance")+i,data:{},kerning:{}}}if(h&&k!==0&&m!==0)for(var v in e.chars){var x=e.chars[v];x.x-=f.x,x.y-=f.y}var z=l.getElementsByTagName("kerning");for(n=0;n<z.length;n++){var y=z[n],A=a(y,"first"),D=a(y,"second"),F=a(y,"amount");e.chars[D].kerning[A]=F}return e};o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(950),l=a(953),i=a(0),b=a(12),f=a(94),e=a(14),c=a(129),j=new i({Extends:e,Mixins:[b.Alpha,b.BlendMode,b.Depth,b.Mask,b.Pipeline,b.ScrollFactor,b.Size,b.Texture,b.Transform,b.Visible,d],initialize:function g(h,k,m,n,p){e.call(this,h,"Blitter"),this.setTexture(n,p),this.setPosition(k,m),this.initPipeline(),this.children=new c(),this.renderList=[],this.dirty=!1},create:function(g,h,k,m,n){m===void 0&&(m=!0),n===void 0&&(n=this.children.length),k===void 0?k=this.frame:k instanceof f||(k=this.texture.get(k));var p=new l(this,g,h,k,m);return this.children.addAt(p,n,!1),this.dirty=!0,p},createFromCallback:function(g,h,k,m){for(var n=this.createMultiple(h,k,m),p=0;p<n.length;p++){var q=n[p];g.call(this,q,p)}return n},createMultiple:function(g,h,k){h===void 0&&(h=this.frame.name),k===void 0&&(k=!0),Array.isArray(h)||(h=[h]);var m=[],n=this;return h.forEach(function(p){for(var q=0;q<g;q++)m.push(n.create(0,0,p,k))}),m},childCanRender:function(g){return g.visible&&g.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(183),l=a(52),i=a(0),b=a(12),f=a(90),e=a(14),c=a(11),j=a(954),g=a(394),h=a(3),k=new i({Extends:e,Mixins:[b.AlphaSingle,b.BlendMode,b.ComputedSize,b.Depth,b.Mask,b.Transform,b.Visible,j],initialize:function m(n,p,q,r){e.call(this,n,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new b.TransformMatrix(),this.tempTransformMatrix=new b.TransformMatrix(),this._displayList=n.sys.displayList,this._sortKey="",this._sysEvents=n.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.setPosition(p,q),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),r&&this.add(r)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(m){return m===void 0&&(m=!0),this.exclusive=m,this},getBounds:function(m){m===void 0&&(m=new c()),m.setTo(this.x,this.y,0,0);if(this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix(),p=n.transformPoint(this.x,this.y);m.setTo(p.x,p.y,0,0)}if(this.list.length>0){var q=this.list,r=new c(),s=!1;m.setEmpty();for(var t=0;t<q.length;t++){var u=q[t];u.getBounds&&(u.getBounds(r),s?g(r,m,m):(m.setTo(r.x,r.y,r.width,r.height),s=!0))}}return m},addHandler:function(m){m.once(f.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(m),m.parentContainer&&m.parentContainer.remove(m),m.parentContainer=this)},removeHandler:function(m){m.off(f.DESTROY,this.remove),this.exclusive&&(m.parentContainer=null)},pointToContainer:function(m,n){n===void 0&&(n=new h()),this.parentContainer?this.parentContainer.pointToContainer(m,n):n=new h(m.x,m.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(m.x,m.y,n),n},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(m){return d.Add(this.list,m,this.maxSize,this.addHandler,this),this},addAt:function(m,n){return d.AddAt(this.list,m,n,this.maxSize,this.addHandler,this),this},getAt:function(m){return this.list[m]},getIndex:function(m){return this.list.indexOf(m)},sort:function(m,n){return m?(n===void 0&&(n=function(p,q){return p[m]-q[m]}),d.StableSort.inplace(this.list,n),this):this},getByName:function(m){return d.GetFirst(this.list,"name",m)},getRandom:function(m,n){return d.GetRandom(this.list,m,n)},getFirst:function(m,n,p,q){return d.GetFirst(this.list,m,n,p,q)},getAll:function(m,n,p,q){return d.GetAll(this.list,m,n,p,q)},count:function(m,n,p,q){return d.CountAllMatching(this.list,m,n,p,q)},swap:function(m,n){return d.Swap(this.list,m,n),this},moveTo:function(m,n){return d.MoveTo(this.list,m,n),this},remove:function(m,n){var p=d.Remove(this.list,m,this.removeHandler,this);if(n&&p){Array.isArray(p)||(p=[p]);for(var q=0;q<p.length;q++)p[q].destroy()}return this},removeAt:function(m,n){var p=d.RemoveAt(this.list,m,this.removeHandler,this);return n&&p&&p.destroy(),this},removeBetween:function(m,n,p){var q=d.RemoveBetween(this.list,m,n,this.removeHandler,this);if(p)for(var r=0;r<q.length;r++)q[r].destroy();return this},removeAll:function(m){var n=d.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(m)for(var p=0;p<n.length;p++)n[p].destroy();return this},bringToTop:function(m){return d.BringToTop(this.list,m),this},sendToBack:function(m){return d.SendToBack(this.list,m),this},moveUp:function(m){return d.MoveUp(this.list,m),this},moveDown:function(m){return d.MoveDown(this.list,m),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(m,n,p){var q=d.Replace(this.list,m,n);return q&&(this.addHandler(n),this.removeHandler(m),p&&m.destroy()),this},exists:function(m){return this.list.indexOf(m)>-1},setAll:function(m,n,p,q){return d.SetAll(this.list,m,n,p,q),this},each:function(m,n){var p=[null],q,r=this.list.slice(),s=r.length;for(q=2;q<arguments.length;q++)p.push(arguments[q]);for(q=0;q<s;q++)p[0]=r[q],m.apply(n,p);return this},iterate:function(m,n){var p=[null],q;for(q=2;q<arguments.length;q++)p.push(arguments[q]);for(q=0;q<this.list.length;q++)p[0]=this.list[q],m.apply(n,p);return this},setScrollFactor:function(m,n,p){return n===void 0&&(n=m),p===void 0&&(p=!1),this.scrollFactorX=m,this.scrollFactorY=n,p&&(d.SetAll(this.list,"scrollFactorX",m),d.SetAll(this.list,"scrollFactorY",n)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(132),l=a(0),i=a(959),b=new l({Extends:d,Mixins:[i],initialize:function f(e,c,j,g,h,k,m){d.call(this,e,c,j,g,h,k,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(f,e){return this.cropWidth=f,this.cropHeight=e,this},setDisplayCallback:function(f){return this.displayCallback=f,this},setScrollX:function(f){return this.scrollX=f,this},setScrollY:function(f){return this.scrollY=f,this}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(91),l=a(0),i=a(192),b=a(269),f=a(272),e=a(273),c=a(277),j=a(156),g=a(282),h=a(283),k=a(280),m=a(29),n=a(95),p=a(14),q=a(2),r=a(6),s=a(13),t=a(965),u=new l({Extends:p,Mixins:[b,f,e,c,j,g,h,k,t],initialize:function v(x,z){var y=r(z,"x",0),A=r(z,"y",0);p.call(this,x,"Graphics"),this.setPosition(y,A),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this._tempMatrix1=new m(),this._tempMatrix2=new m(),this._tempMatrix3=new m(),this.setDefaultStyles(z)},setDefaultStyles:function(v){return r(v,"lineStyle",null)&&(this.defaultStrokeWidth=r(v,"lineStyle.width",1),this.defaultStrokeColor=r(v,"lineStyle.color",16777215),this.defaultStrokeAlpha=r(v,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),r(v,"fillStyle",null)&&(this.defaultFillColor=r(v,"fillStyle.color",16777215),this.defaultFillAlpha=r(v,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(v,x,z){return z===void 0&&(z=1),this.commandBuffer.push(i.LINE_STYLE,v,x,z),this._lineWidth=v,this},fillStyle:function(v,x){return x===void 0&&(x=1),this.commandBuffer.push(i.FILL_STYLE,v,x),this},fillGradientStyle:function(v,x,z,y,A){return A===void 0&&(A=1),this.commandBuffer.push(i.GRADIENT_FILL_STYLE,A,v,x,z,y),this},lineGradientStyle:function(v,x,z,y,A,D){return D===void 0&&(D=1),this.commandBuffer.push(i.GRADIENT_LINE_STYLE,v,D,x,z,y,A),this},setTexture:function(v,x,z){z===void 0&&(z=0);if(v===void 0)this.commandBuffer.push(i.CLEAR_TEXTURE);else{var y=this.scene.sys.textures.getFrame(v,x);y&&(z===2&&(z=3),this.commandBuffer.push(i.SET_TEXTURE,y,z))}return this},beginPath:function(){return this.commandBuffer.push(i.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(i.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(i.FILL_PATH),this},fill:function(){return this.commandBuffer.push(i.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(i.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(i.STROKE_PATH),this},fillCircleShape:function(v){return this.fillCircle(v.x,v.y,v.radius)},strokeCircleShape:function(v){return this.strokeCircle(v.x,v.y,v.radius)},fillCircle:function(v,x,z){return this.beginPath(),this.arc(v,x,z,0,s.PI2),this.fillPath(),this},strokeCircle:function(v,x,z){return this.beginPath(),this.arc(v,x,z,0,s.PI2),this.strokePath(),this},fillRectShape:function(v){return this.fillRect(v.x,v.y,v.width,v.height)},strokeRectShape:function(v){return this.strokeRect(v.x,v.y,v.width,v.height)},fillRect:function(v,x,z,y){return this.commandBuffer.push(i.FILL_RECT,v,x,z,y),this},strokeRect:function(v,x,z,y){var A=this._lineWidth/2,D=v-A,F=v+A;return this.beginPath(),this.moveTo(v,x),this.lineTo(v,x+y),this.strokePath(),this.beginPath(),this.moveTo(v+z,x),this.lineTo(v+z,x+y),this.strokePath(),this.beginPath(),this.moveTo(D,x),this.lineTo(F+z,x),this.strokePath(),this.beginPath(),this.moveTo(D,x+y),this.lineTo(F+z,x+y),this.strokePath(),this},fillRoundedRect:function(v,x,z,y,A){A===void 0&&(A=20);var D=A,F=A,H=A,I=A;return typeof A!=="number"&&(D=q(A,"tl",20),F=q(A,"tr",20),H=q(A,"bl",20),I=q(A,"br",20)),this.beginPath(),this.moveTo(v+D,x),this.lineTo(v+z-F,x),this.arc(v+z-F,x+F,F,-s.TAU,0),this.lineTo(v+z,x+y-I),this.arc(v+z-I,x+y-I,I,0,s.TAU),this.lineTo(v+H,x+y),this.arc(v+H,x+y-H,H,s.TAU,Math.PI),this.lineTo(v,x+D),this.arc(v+D,x+D,D,-Math.PI,-s.TAU),this.fillPath(),this},strokeRoundedRect:function(v,x,z,y,A){A===void 0&&(A=20);var D=A,F=A,H=A,I=A;return typeof A!=="number"&&(D=q(A,"tl",20),F=q(A,"tr",20),H=q(A,"bl",20),I=q(A,"br",20)),this.beginPath(),this.moveTo(v+D,x),this.lineTo(v+z-F,x),this.arc(v+z-F,x+F,F,-s.TAU,0),this.lineTo(v+z,x+y-I),this.arc(v+z-I,x+y-I,I,0,s.TAU),this.lineTo(v+H,x+y),this.arc(v+H,x+y-H,H,s.TAU,Math.PI),this.lineTo(v,x+D),this.arc(v+D,x+D,D,-Math.PI,-s.TAU),this.strokePath(),this},fillPointShape:function(v,x){return this.fillPoint(v.x,v.y,x)},fillPoint:function(v,x,z){return!z||z<1?z=1:(v-=z/2,x-=z/2),this.commandBuffer.push(i.FILL_RECT,v,x,z,z),this},fillTriangleShape:function(v){return this.fillTriangle(v.x1,v.y1,v.x2,v.y2,v.x3,v.y3)},strokeTriangleShape:function(v){return this.strokeTriangle(v.x1,v.y1,v.x2,v.y2,v.x3,v.y3)},fillTriangle:function(v,x,z,y,A,D){return this.commandBuffer.push(i.FILL_TRIANGLE,v,x,z,y,A,D),this},strokeTriangle:function(v,x,z,y,A,D){return this.commandBuffer.push(i.STROKE_TRIANGLE,v,x,z,y,A,D),this},strokeLineShape:function(v){return this.lineBetween(v.x1,v.y1,v.x2,v.y2)},lineBetween:function(v,x,z,y){return this.beginPath(),this.moveTo(v,x),this.lineTo(z,y),this.strokePath(),this},lineTo:function(v,x){return this.commandBuffer.push(i.LINE_TO,v,x),this},moveTo:function(v,x){return this.commandBuffer.push(i.MOVE_TO,v,x),this},strokePoints:function(v,x,z,y){x===void 0&&(x=!1),z===void 0&&(z=!1),y===void 0&&(y=v.length),this.beginPath(),this.moveTo(v[0].x,v[0].y);for(var A=1;A<y;A++)this.lineTo(v[A].x,v[A].y);return x&&this.lineTo(v[0].x,v[0].y),z&&this.closePath(),this.strokePath(),this},fillPoints:function(v,x,z,y){x===void 0&&(x=!1),z===void 0&&(z=!1),y===void 0&&(y=v.length),this.beginPath(),this.moveTo(v[0].x,v[0].y);for(var A=1;A<y;A++)this.lineTo(v[A].x,v[A].y);return x&&this.lineTo(v[0].x,v[0].y),z&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(v,x){x===void 0&&(x=32);var z=v.getPoints(x);return this.strokePoints(z,!0)},strokeEllipse:function(v,x,z,y,A){A===void 0&&(A=32);var D=new n(v,x,z,y),F=D.getPoints(A);return this.strokePoints(F,!0)},fillEllipseShape:function(v,x){x===void 0&&(x=32);var z=v.getPoints(x);return this.fillPoints(z,!0)},fillEllipse:function(v,x,z,y,A){A===void 0&&(A=32);var D=new n(v,x,z,y),F=D.getPoints(A);return this.fillPoints(F,!0)},arc:function(v,x,z,y,A,D,F){return D===void 0&&(D=!1),F===void 0&&(F=0),this.commandBuffer.push(i.ARC,v,x,z,y,A,D,F),this},slice:function(v,x,z,y,A,D,F){return D===void 0&&(D=!1),F===void 0&&(F=0),this.commandBuffer.push(i.BEGIN_PATH),this.commandBuffer.push(i.MOVE_TO,v,x),this.commandBuffer.push(i.ARC,v,x,z,y,A,D,F),this.commandBuffer.push(i.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(i.SAVE),this},restore:function(){return this.commandBuffer.push(i.RESTORE),this},translateCanvas:function(v,x){return this.commandBuffer.push(i.TRANSLATE,v,x),this},scaleCanvas:function(v,x){return this.commandBuffer.push(i.SCALE,v,x),this},rotateCanvas:function(v){return this.commandBuffer.push(i.ROTATE,v),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(v,x,z){var y=this.scene.sys,A=y.game.renderer;x===void 0&&(x=y.scale.width),z===void 0&&(z=y.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,x,z),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var D,F;if(typeof v==="string")if(y.textures.exists(v)){D=y.textures.get(v);var H=D.getSourceImage();H instanceof HTMLCanvasElement&&(F=H.getContext("2d"))}else D=y.textures.createCanvas(v,x,z),F=D.getSourceImage().getContext("2d");else v instanceof HTMLCanvasElement&&(F=v.getContext("2d"));return F&&(this.renderCanvas(A,this,0,u.TargetCamera,null,F,!1),D&&D.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new d(),o.exports=u},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f){f===void 0&&(f=new d());var e=i.width/2,c=i.height/2;return f.x=i.x+e*Math.cos(b),f.y=i.y+c*Math.sin(b),f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(402),f=a(129),e=a(404),c=a(975),j=new d({Extends:i,Mixins:[l.Depth,l.Mask,l.Pipeline,l.Transform,l.Visible,c],initialize:function g(h,k,m,n){i.call(this,h,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],m!==null&&(typeof m==="object"||Array.isArray(m))&&(n=m,m=null),this.setTexture(k,m),this.initPipeline(),this.emitters=new f(this),this.wells=new f(this);if(n){Array.isArray(n)||(n=[n]);for(var p=0;p<n.length;p++)this.createEmitter(n[p])}},setTexture:function(g,h){return this.texture=this.scene.sys.textures.get(g),this.setFrame(h)},setFrame:function(g){this.frame=this.texture.get(g);var h=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),k=[];return h.forEach(function(m){k.push(m.name)}),this.frameNames=k,this.defaultFrame=this.frame,this},setEmitterFrames:function(g,h){Array.isArray(g)||(g=[g]);var k=h.frames;k.length=0;for(var m=0;m<g.length;m++){var n=g[m];this.frameNames.indexOf(n)!==-1&&k.push(this.texture.get(n))}return k.length>0?h.defaultFrame=k[0]:h.defaultFrame=this.defaultFrame,this},addEmitter:function(g){return this.emitters.add(g)},createEmitter:function(g){return this.addEmitter(new e(this,g))},removeEmitter:function(g){return this.emitters.remove(g,!0)},addGravityWell:function(g){return this.wells.add(g)},createGravityWell:function(g){return this.addGravityWell(new b(g))},emitParticle:function(g,h,k){for(var m=this.emitters.list,n=0;n<m.length;n++){var p=m[n];p.active&&p.emitParticle(g,h,k)}return this},emitParticleAt:function(g,h,k){return this.emitParticle(k,g,h)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(g,h){h*=this.timeScale;for(var k=this.emitters.list,m=0;m<k.length;m++){var n=k[m];n.active&&n.preUpdate(g,h)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(52),l=a(91),i=a(26),b=a(0),f=a(12),e=a(33),c=a(94),j=a(14),g=a(1),h=a(979),k=a(9),m=a(196),n=new b({Extends:j,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,h],initialize:function p(q,r,s,t,u,v,x){r===void 0&&(r=0),s===void 0&&(s=0),t===void 0&&(t=32),u===void 0&&(u=32),j.call(this,q,"RenderTexture"),this.renderer=q.sys.game.renderer,this.textureManager=q.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.framebuffer=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,v===void 0?(this.canvas=i.create2D(this,t,u),this.texture=q.sys.textures.addCanvas(m(),this.canvas),this.frame=this.texture.get()):(this.texture=q.sys.textures.get(v),this.frame=this.texture.get(x),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new l(0,0,t,u),this.gl=null,this.glTexture=null;var z=this.renderer;if(!z)this.drawGameObject=g;else if(z.type===e.WEBGL){var y=z.gl;this.gl=y,this.glTexture=this.frame.source.glTexture,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=z.createFramebuffer(t,u,this.glTexture,!1)}else z.type===e.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(q),this.setPosition(r,s),v===void 0&&this.setSize(t,u),this.setOrigin(0,0),this.initPipeline()},setSize:function(p,q){return this.resize(p,q)},resize:function(p,q){q===void 0&&(q=p);if(p!==this.width||q!==this.height){if(this.frame.name==="__BASE"){this.canvas.width=p,this.canvas.height=q,this.texture.width=p,this.texture.height=q;if(this.gl){var r=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer);var s=this.renderer.createTexture2D(0,r.NEAREST,r.NEAREST,r.CLAMP_TO_EDGE,r.CLAMP_TO_EDGE,r.RGBA,null,p,q,!1);this.framebuffer=this.renderer.createFramebuffer(p,q,s,!1),this.frame.source.isRenderTexture=!0,this.frame.glTexture=s,this.glTexture=s}this.frame.source.width=p,this.frame.source.height=q,this.camera.setSize(p,q),this.frame.setSize(p,q),this.width=p,this.height=q}}else{var t=this.texture.getSourceImage();this.frame.cutX+p>t.width&&(p=t.width-this.frame.cutX),this.frame.cutY+q>t.height&&(q=t.height-this.frame.cutY),this.frame.setSize(p,q,this.frame.cutX,this.frame.cutY)}this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=p,u.hitArea.height=q),this},setGlobalTint:function(p){return this.globalTint=p,this},setGlobalAlpha:function(p){return this.globalAlpha=p,this},saveTexture:function(p){return this.textureManager.renameTexture(this.texture.key,p),this._saved=!0,this.texture},fill:function(p,q,r,s,t,u){q===void 0&&(q=1),r===void 0&&(r=0),s===void 0&&(s=0),t===void 0&&(t=this.frame.cutWidth),u===void 0&&(u=this.frame.cutHeight);var v=(p>>16|0)&255,x=(p>>8|0)&255,z=(p|0)&255,y=this.gl,A=this.frame;this.camera.preRender(1,1);if(y){var D=this.camera._cx,F=this.camera._cy,H=this.camera._cw,I=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(D,F,H,I,I);var N=this.pipeline;N.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),N.drawFillRect(r,s,t,u,k.getTintFromFloats(v/255,x/255,z/255,1),q),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),N.projOrtho(0,N.width,N.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.context.fillStyle="rgba("+v+","+x+","+z+","+q+")",this.context.fillRect(r+A.cutX,s+A.cutY,t,u),this.renderer.setContext();return this.dirty=!0,this},clear:function(){if(this.dirty){var p=this.gl;if(p){var q=this.renderer;q.setFramebuffer(this.framebuffer,!0),(this.frame.cutWidth!==this.canvas.width||this.frame.cutHeight!==this.canvas.height)&&p.scissor(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),q.setFramebuffer(null,!0)}else{var r=this.context;r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),r.restore()}this.dirty=!1}return this},erase:function(p,q,r){this._eraseMode=!0;var s=this.renderer.currentBlendMode;return this.renderer.setBlendMode(d.ERASE),this.draw(p,q,r,1,16777215),this.renderer.setBlendMode(s),this._eraseMode=!1,this},draw:function(p,q,r,s,t){s===void 0&&(s=this.globalAlpha),t===void 0?t=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):t=(t>>16)+(t&65280)+((t&255)<<16),Array.isArray(p)||(p=[p]);var u=this.gl;this.camera.preRender(1,1);if(u){var v=this.camera._cx,x=this.camera._cy,z=this.camera._cw,y=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(v,x,z,y,y);var A=this.pipeline;A.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),this.batchList(p,q,r,s,t),A.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),A.projOrtho(0,A.width,A.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(p,q,r,s,t),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(p,q,r,s,t,u){r===void 0&&(r=0),s===void 0&&(s=0),t===void 0&&(t=this.globalAlpha),u===void 0?u=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):u=(u>>16)+(u&65280)+((u&255)<<16);var v=this.gl,x=this.textureManager.getFrame(p,q);if(x){this.camera.preRender(1,1);if(v){var z=this.camera._cx,y=this.camera._cy,A=this.camera._cw,D=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(z,y,A,D,D);var F=this.pipeline;F.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),F.batchTextureFrame(x,r+this.frame.cutX,s+this.frame.cutY,u,t,this.camera.matrix,null),F.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),F.projOrtho(0,F.width,F.height,0,-1e3,1e3)}else this.batchTextureFrame(x,r+this.frame.cutX,s+this.frame.cutY,t,u);this.dirty=!0}return this},batchList:function(p,q,r,s,t){for(var u=0;u<p.length;u++){var v=p[u];if(!v||v===this)continue;v.renderWebGL||v.renderCanvas?this.drawGameObject(v,q,r):v.isParent||v.list?this.batchGroup(v.getChildren(),q,r):typeof v==="string"?this.batchTextureFrameKey(v,null,q,r,s,t):v instanceof c?this.batchTextureFrame(v,q,r,s,t):Array.isArray(v)&&this.batchList(v,q,r,s,t)}},batchGroup:function(p,q,r){q===void 0&&(q=0),r===void 0&&(r=0),q+=this.frame.cutX,r+=this.frame.cutY;for(var s=0;s<p.length;s++){var t=p[s];if(t.willRender()){var u=t.x+q,v=t.y+r;this.drawGameObject(t,u,v)}}},batchGameObjectWebGL:function(p,q,r){q===void 0&&(q=p.x),r===void 0&&(r=p.y);var s=p.x,t=p.y;this._eraseMode||this.renderer.setBlendMode(p.blendMode),p.setPosition(q+this.frame.cutX,r+this.frame.cutY),p.renderWebGL(this.renderer,p,0,this.camera,null),p.setPosition(s,t)},batchGameObjectCanvas:function(p,q,r){q===void 0&&(q=p.x),r===void 0&&(r=p.y);var s=p.x,t=p.y;if(this._eraseMode){var u=p.blendMode;p.blendMode=d.ERASE}p.setPosition(q+this.frame.cutX,r+this.frame.cutY),p.renderCanvas(this.renderer,p,0,this.camera,null),p.setPosition(s,t),this._eraseMode&&(p.blendMode=u)},batchTextureFrameKey:function(p,q,r,s,t,u){var v=this.textureManager.getFrame(p,q);v&&this.batchTextureFrame(v,r,s,t,u)},batchTextureFrame:function(p,q,r,s,t){q===void 0&&(q=0),r===void 0&&(r=0),q+=this.frame.cutX,r+=this.frame.cutY;if(this.gl)this.pipeline.batchTextureFrame(p,q,r,t,s,this.camera.matrix,null);else{var u=this.context,v=p.canvasData,x=p.source.image,z=this.camera.matrix;u.globalAlpha=this.globalAlpha,u.setTransform(z[0],z[1],z[2],z[3],z[4],z[5]),u.drawImage(x,v.x,v.y,v.width,v.height,q,r,v.width,v.height)}},snapshotArea:function(p,q,r,s,t,u,v){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,t,!1,p,q,r,s,u,v):this.renderer.snapshotCanvas(this.canvas,t,!1,p,q,r,s,u,v),this},snapshot:function(p,q,r){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,p,!1,0,0,this.width,this.height,q,r):this.renderer.snapshotCanvas(this.canvas,p,!1,0,0,this.width,this.height,q,r),this},snapshotPixel:function(p,q,r){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,r,!0,p,q):this.renderer.snapshotCanvas(this.canvas,r,!0,p,q),this},preDestroy:function(){this._saved||(i.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null,this.glTexture=null)}});o.exports=n},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var l=Math.random()*16|0,i=d==="x"?l:l&3|8;return i.toString(16)})};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(985),f=a(3),e=new d({Extends:i,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,b],initialize:function c(j,g,h,k,m,n,p,q,r){k===void 0&&(k="__DEFAULT"),n===void 0&&(n=2),p===void 0&&(p=!0),i.call(this,j,"Rope"),this.anims=new l.Animation(this),this.points=n,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=k==="__DEFAULT"?2:0,this.dirty=!1,this.horizontal=p,this._flipX=!1,this._flipY=!1,this._perp=new f(),this.debugCallback=null,this.debugGraphic=null,this.setTexture(k,m),this.setPosition(g,h),this.setSizeToFrame(),this.initPipeline("TextureTintStripPipeline"),Array.isArray(n)&&this.resizeArrays(n.length),this.setPoints(n,q,r),this.updateVertices()},preUpdate:function(c,j){var g=this.anims.currentFrame;this.anims.update(c,j),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},play:function(c,j,g){return this.anims.play(c,j,g),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(c,j,g){return c===void 0&&(c=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(c,j,g))},setVertical:function(c,j,g){return c===void 0&&(c=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(c,j,g)):this},setTintFill:function(c){return c===void 0&&(c=0),this.tintFill=c,this},setAlphas:function(c,j){var g=this.points.length;if(g<1)return this;var h=this.alphas;c===void 0?c=[1]:!Array.isArray(c)&&j===void 0&&(c=[c]);var k,m=0;if(j!==void 0)for(k=0;k<g;k++)m=k*2,h[m]=c,h[m+1]=j;else if(c.length===g)for(k=0;k<g;k++)m=k*2,h[m]=c[k],h[m+1]=c[k];else{var n=c[0];for(k=0;k<g;k++)m=k*2,c.length>m&&(n=c[m]),h[m]=n,c.length>m+1&&(n=c[m+1]),h[m+1]=n}return this},setColors:function(c){var j=this.points.length;if(j<1)return this;var g=this.colors;c===void 0?c=[16777215]:Array.isArray(c)||(c=[c]);var h,k=0;if(c.length===j)for(h=0;h<j;h++)k=h*2,g[k]=c[h],g[k+1]=c[h];else{var m=c[0];for(h=0;h<j;h++)k=h*2,c.length>k&&(m=c[k]),g[k]=m,c.length>k+1&&(m=c[k+1]),g[k+1]=m}return this},setPoints:function(c,j,g){c===void 0&&(c=2);if(typeof c==="number"){var h=c;h<2&&(h=2),c=[];var k,m,n;if(this.horizontal)for(n=-this.frame.halfWidth,m=this.frame.width/(h-1),k=0;k<h;k++)c.push({x:n+k*m,y:0});else for(n=-this.frame.halfHeight,m=this.frame.height/(h-1),k=0;k<h;k++)c.push({x:0,y:n+k*m})}var p=c.length,q=this.points.length;return p<1?(console.warn("Rope: Not enough points given"),this):(p===1&&(c.unshift({x:0,y:0}),p++),q!==p&&this.resizeArrays(p),this.points=c,this.updateUVs(),j!==void 0&&j!==null&&this.setColors(j),g!==void 0&&g!==null&&this.setAlphas(g),this)},updateUVs:function(){for(var c=this.uv,j=this.points.length,g=this.frame.u0,h=this.frame.v0,k=this.frame.u1,m=this.frame.v1,n=(k-g)/(j-1),p=(m-h)/(j-1),q=0;q<j;q++){var r=q*4,s,t,u,v;this.horizontal?(this._flipX?(s=k-q*n,u=k-q*n):(s=g+q*n,u=g+q*n),this._flipY?(t=m,v=h):(t=h,v=m)):(this._flipX?(s=g,u=k):(s=k,u=g),this._flipY?(t=m-q*p,v=m-q*p):(t=h+q*p,v=h+q*p)),c[r+0]=s,c[r+1]=t,c[r+2]=u,c[r+3]=v}return this},resizeArrays:function(c){var j=this.colors,g=this.alphas;this.vertices=new Float32Array(c*4),this.uv=new Float32Array(c*4),j=new Uint32Array(c*2),g=new Float32Array(c*2);for(var h=0;h<c*2;h++)j[h]=16777215,g[h]=1;return this.colors=j,this.alphas=g,this.dirty=!0,this},updateVertices:function(){var c=this._perp,j=this.points,g=this.vertices,h=j.length;this.dirty=!1;if(h<1)return;for(var k,m=j[0],n=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,p=0;p<h;p++){var q=j[p],r=p*4;p<h-1?k=j[p+1]:k=q,c.x=k.y-m.y,c.y=-(k.x-m.x);var s=c.length();c.x/=s,c.y/=s,c.x*=n,c.y*=n,g[r]=q.x+c.x,g[r+1]=q.y+c.y,g[r+2]=q.x-c.x,g[r+3]=q.y-c.y,m=q}return this},setDebug:function(c,j){return this.debugGraphic=c,!c&&!j?this.debugCallback=null:j?this.debugCallback=j:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(c,j,g){var h=c.debugGraphic,k=g[0],m=g[1],n=g[2],p=g[3];h.lineBetween(k,m,n,p);for(var q=4;q<j;q+=4){var r=g[q+0],s=g[q+1],t=g[q+2],u=g[q+3];h.lineBetween(k,m,r,s),h.lineBetween(n,p,t,u),h.lineBetween(n,p,r,s),h.lineBetween(r,s,t,u),k=r,m=s,n=t,p=u}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(c){return this._flipX=c,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(c){return this._flipY=c,this.updateUVs()}}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(122),l=a(26),i=a(0),b=a(12),f=a(20),e=a(14),c=a(988),j=a(6),g=a(178),h=a(989),k=a(992),m=new i({Extends:e,Mixins:[b.Alpha,b.BlendMode,b.ComputedSize,b.Crop,b.Depth,b.Flip,b.GetBounds,b.Mask,b.Origin,b.Pipeline,b.ScrollFactor,b.Tint,b.Transform,b.Visible,h],initialize:function n(p,q,r,s,t){q===void 0&&(q=0),r===void 0&&(r=0),e.call(this,p,"Text"),this.renderer=p.sys.game.renderer,this.setPosition(q,r),this.setOrigin(0,0),this.initPipeline(),this.canvas=l.create(this),this.context=this.canvas.getContext("2d"),this.style=new k(this,t),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=p.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=p.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(s),t&&t.padding&&this.setPadding(t.padding),t&&t.lineSpacing&&this.setLineSpacing(t.lineSpacing),p.sys.game.events.on(f.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){if(!this.style.rtl)return;this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(n){var p=this.style;if(p.wordWrapCallback){var q=p.wordWrapCallback.call(p.wordWrapCallbackScope,n,this);return Array.isArray(q)&&(q=q.join(`
`)),q}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(n,this.context,this.style.wordWrapWidth):this.basicWordWrap(n,this.context,this.style.wordWrapWidth):n},advancedWordWrap:function(n,p,q){for(var r="",s=n.replace(/ +/gi," ").split(this.splitRegExp),t=s.length,u=0;u<t;u++){var v=s[u],x="";v=v.replace(/^ *|\s*$/gi,"");var z=p.measureText(v).width;if(z<q){r+=v+`
`;continue}for(var y=q,A=v.split(" "),D=0;D<A.length;D++){var F=A[D],H=F+" ",I=p.measureText(H).width;if(I>y){if(D===0){for(var N=H;N.length;){N=N.slice(0,-1),I=p.measureText(N).width;if(I<=y)break}if(!N.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var J=F.substr(N.length);A[D]=J,x+=N}var C=A[D].length?D:D+1,B=A.slice(C).join(" ").replace(/[ \n]*$/gi,"");s[u+1]=B+" "+(s[u+1]||""),t=s.length;break}else x+=H,y-=I}r+=x.replace(/[ \n]*$/gi,"")+`
`}return r=r.replace(/[\s|\n]*$/gi,""),r},basicWordWrap:function(n,p,q){for(var r="",s=n.split(this.splitRegExp),t=s.length-1,u=p.measureText(" ").width,v=0;v<=t;v++){for(var x=q,z=s[v].split(" "),y=z.length-1,A=0;A<=y;A++){var D=z[A],F=p.measureText(D).width,H=F+u;H>x&&(A>0&&(r+=`
`,x=q)),r+=D,A<y?(r+=" ",x-=H):x-=F}v<t&&(r+=`
`)}return r},getWrappedText:function(n){n===void 0&&(n=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(n);return p.split(this.splitRegExp)},setText:function(n){return!n&&n!==0&&(n=""),Array.isArray(n)&&(n=n.join(`
`)),n!==this._text&&(this._text=n.toString(),this.updateText()),this},setStyle:function(n){return this.style.setStyle(n)},setFont:function(n){return this.style.setFont(n)},setFontFamily:function(n){return this.style.setFontFamily(n)},setFontSize:function(n){return this.style.setFontSize(n)},setFontStyle:function(n){return this.style.setFontStyle(n)},setFixedSize:function(n,p){return this.style.setFixedSize(n,p)},setBackgroundColor:function(n){return this.style.setBackgroundColor(n)},setFill:function(n){return this.style.setFill(n)},setColor:function(n){return this.style.setColor(n)},setStroke:function(n,p){return this.style.setStroke(n,p)},setShadow:function(n,p,q,r,s,t){return this.style.setShadow(n,p,q,r,s,t)},setShadowOffset:function(n,p){return this.style.setShadowOffset(n,p)},setShadowColor:function(n){return this.style.setShadowColor(n)},setShadowBlur:function(n){return this.style.setShadowBlur(n)},setShadowStroke:function(n){return this.style.setShadowStroke(n)},setShadowFill:function(n){return this.style.setShadowFill(n)},setWordWrapWidth:function(n,p){return this.style.setWordWrapWidth(n,p)},setWordWrapCallback:function(n,p){return this.style.setWordWrapCallback(n,p)},setAlign:function(n){return this.style.setAlign(n)},setResolution:function(n){return this.style.setResolution(n)},setLineSpacing:function(n){return this.lineSpacing=n,this.updateText()},setPadding:function(n,p,q,r){if(typeof n==="object"){var s=n,t=j(s,"x",null);t!==null?(n=t,q=t):(n=j(s,"left",0),q=j(s,"right",n));var u=j(s,"y",null);u!==null?(p=u,r=u):(p=j(s,"top",0),r=j(s,"bottom",p))}else n===void 0&&(n=0),p===void 0&&(p=n),q===void 0&&(q=n),r===void 0&&(r=p);return this.padding.left=n,this.padding.top=p,this.padding.right=q,this.padding.bottom=r,this.updateText()},setMaxLines:function(n){return this.style.setMaxLines(n)},updateText:function(){var n=this.canvas,p=this.context,q=this.style,r=q.resolution,s=q.metrics;q.syncFont(n,p);var t=this._text;(q.wordWrapWidth||q.wordWrapCallback)&&(t=this.runWordWrap(this._text));var u=t.split(this.splitRegExp),v=c(this,s,u),x=this.padding,z;q.fixedWidth===0?(this.width=v.width+x.left+x.right,z=v.width):(this.width=q.fixedWidth,z=this.width-x.left-x.right,z<v.width&&(z=v.width)),q.fixedHeight===0?this.height=v.height+x.top+x.bottom:this.height=q.fixedHeight;var y=this.width,A=this.height;this.updateDisplayOrigin(),y*=r,A*=r,y=Math.max(y,1),A=Math.max(A,1),n.width!==y||n.height!==A?(n.width=y,n.height=A,this.frame.setSize(y,A),q.syncFont(n,p)):p.clearRect(0,0,y,A),p.save(),p.scale(r,r),q.backgroundColor&&(p.fillStyle=q.backgroundColor,p.fillRect(0,0,y,A)),q.syncStyle(n,p),p.textBaseline="alphabetic",p.translate(x.left,x.top);for(var D,F,H=0;H<v.lines;H++){D=q.strokeThickness/2,F=q.strokeThickness/2+H*v.lineHeight+s.ascent,H>0&&(F+=v.lineSpacing*H);if(q.rtl)D=y-D;else if(q.align==="right")D+=z-v.lineWidths[H];else if(q.align==="center")D+=(z-v.lineWidths[H])/2;else if(q.align==="justify"){var I=.85;if(v.lineWidths[H]/v.width>=I){var N=v.width-v.lineWidths[H],J=p.measureText(" ").width,C=u[H].trim(),B=C.split(" ");N+=(u[H].length-C.length)*J;for(var E=Math.floor(N/J),K=0;E>0;)B[K]+=" ",K=(K+1)%(B.length-1||1),--E;u[H]=B.join(" ")}}this.autoRound&&(D=Math.round(D),F=Math.round(F)),q.strokeThickness&&(this.style.syncShadow(p,q.shadowStroke),p.strokeText(u[H],D,F)),q.color&&(this.style.syncShadow(p,q.shadowFill),p.fillText(u[H],D,F))}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(n,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(n){this.setText(n)}},toJSON:function(){var n=b.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return n.data=p,n},preDestroy:function(){this.style.rtl&&g(this.canvas),l.remove(this.canvas),this.texture.destroy()}});o.exports=m},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l=a(0),i=a(12),b=a(20),f=a(14),e=a(329),c=a(167),j=a(994),g=a(3),h=8,k=new l({Extends:f,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,j],initialize:function m(n,p,q,r,s,t,u){var v=n.sys.game.renderer;f.call(this,n,"TileSprite");var x=n.sys.textures.get(t),z=x.get(u);!r||!s?(r=z.width,s=z.height):(r=Math.floor(r),s=Math.floor(s)),this._tilePosition=new g(),this._tileScale=new g(1,1),this.dirty=!1,this.renderer=v,this.canvas=d.create(this,r,s),this.context=this.canvas.getContext("2d"),this.displayTexture=x,this.displayFrame=z,this._crop=this.resetCropObject(),this.texture=n.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=e(z.width),this.potHeight=e(z.height),this.fillCanvas=d.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(p,q),this.setSize(r,s),this.setFrame(u),this.setOriginFromFrame(),this.initPipeline(),n.sys.game.events.on(b.CONTEXT_RESTORED,function(y){var A=y.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=y.createTexture2D(0,A.LINEAR,A.LINEAR,A.REPEAT,A.REPEAT,A.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(m,n){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(n)},setFrame:function(m){var n=this.displayTexture.get(m);return this.potWidth=e(n.width),this.potHeight=e(n.height),this.canvas.width=0,!n.cutWidth||!n.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=n,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,n){return m!==void 0&&(this.tilePositionX=m),n!==void 0&&(this.tilePositionY=n),this},setTileScale:function(m,n){return m===void 0&&(m=this.tileScaleX),n===void 0&&(n=m),this.tileScaleX=m,this.tileScaleY=n,this},updateTileTexture:function(){if(!this.dirty||!this.renderer)return;var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var n=this.fillContext,p=this.fillCanvas,q=this.potWidth,r=this.potHeight;this.renderer.gl||(q=m.cutWidth,r=m.cutHeight),n.clearRect(0,0,q,r),p.width=q,p.height=r,n.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,q,r),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=n.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1},updateCanvas:function(){var m=this.canvas;(m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0);if(!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var n=this.context;this.scene.sys.game.config.antialias||c.disable(n);var p=this._tileScale.x,q=this._tileScale.y,r=this._tilePosition.x,s=this._tilePosition.y;n.clearRect(0,0,this.width,this.height),n.save(),n.scale(p,q),n.translate(-r,-s),n.fillStyle=this.fillPattern,n.fillRect(r,s,this.width/p,this.height/q),n.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),d.remove(this.canvas),d.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(19),i=a(12),b=a(90),f=a(20),e=a(14),c=a(59),j=a(196),g=a(997),h=a(13),k=new d({Extends:e,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,g],initialize:function m(n,p,q,r){e.call(this,n,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=j(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=h.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(p,q),this.initPipeline(),r&&this.changeSource(r,!1);var s=n.sys.game.events;s.on(f.PAUSE,this.globalPause,this),s.on(f.RESUME,this.globalResume,this);var t=n.sys.sound;t&&t.on(c.GLOBAL_MUTE,this.globalMute,this)},play:function(m,n,p){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var q=this.video;if(!q)return console.warn("Video not loaded"),this;m===void 0&&(m=q.loop);var r=this.scene.sys.sound;r&&r.mute&&this.setMute(!0),isNaN(n)||(this._markerIn=n),!isNaN(p)&&p>n&&(this._markerOut=p),q.loop=m;var s=this._callbacks,t=q.play();return t!==void 0?t.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(q.addEventListener("playing",s.play,!0),q.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),q.addEventListener("ended",s.end,!0),q.addEventListener("timeupdate",s.time,!0),q.addEventListener("seeking",s.seeking,!0),q.addEventListener("seeked",s.seeked,!0),this},changeSource:function(m,n,p,q,r){n===void 0&&(n=!0);var s=this.video;s&&this.stop();var t=this.scene.sys.cache.video.get(m);return t?(this.video=t,this._cacheKey=m,this._codePaused=t.paused,this._codeMuted=t.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,t,t.videoWidth,t.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,t.videoWidth,t.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(b.VIDEO_CREATED,this,t.videoWidth,t.videoHeight)):this.updateTexture(),t.currentTime=0,this._lastUpdate=0,n&&this.play(p,q,r)):this.video=null,this},addMarker:function(m,n,p){return!isNaN(n)&&n>=0&&!isNaN(p)&&(this.markers[m]=[n,p]),this},playMarker:function(m,n){var p=this.markers[m];return p&&this.play(n,p[0],p[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,n){return m===void 0&&(m=this.width),n===void 0&&(n=this.height),this.snapshotArea(0,0,this.width,this.height,m,n)},snapshotArea:function(m,n,p,q,r,s){m===void 0&&(m=0),n===void 0&&(n=0),p===void 0&&(p=this.width),q===void 0&&(q=this.height),r===void 0&&(r=p),s===void 0&&(s=q);var t=this.video,u=this.snapshotTexture;return u?(u.setSize(r,s),t&&u.context.drawImage(t,m,n,p,q,0,0,r,s)):(u=this.scene.sys.textures.createCanvas(j(),r,s),this.snapshotTexture=u,t&&u.context.drawImage(t,m,n,p,q,0,0,r,s)),u.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},loadURL:function(m,n,p){p===void 0&&(p=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var q=document.createElement("video");return q.controls=!1,p&&(q.muted=!0,q.defaultMuted=!0,q.setAttribute("autoplay","autoplay")),q.setAttribute("playsinline","playsinline"),q.setAttribute("preload","auto"),q.addEventListener("error",this._callbacks.error,!0),q.src=m,q.load(),this.video=q,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(b.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(m){this.scene.sys.input.once("pointerdown",this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(b.VIDEO_ERROR,this,m)},playHandler:function(){this.touchLocked=!1,this.emit(b.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(m){this.stop(),this.emit(b.VIDEO_ERROR,this,m)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(b.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(b.VIDEO_PLAY,this)},completeHandler:function(){this.emit(b.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(b.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var m=this.video;if(m){var n=m.currentTime;n!==this._lastUpdate&&(this._lastUpdate=n,this.updateTexture(),n>=this._markerOut&&(m.loop?(m.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=n,this.emit(b.VIDEO_LOOP,this)):(this.emit(b.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(b.VIDEO_TIMEOUT,this))},updateTexture:function(){var m=this.video,n=m.videoWidth,p=m.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,m,n,p),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,n,p),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(b.VIDEO_CREATED,this,n,p);else{var q=this.videoTextureSource;q.source!==m&&(q.source=m,q.width=n,q.height=p),q.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(m){var n=this.video;if(n){var p=n.duration;if(p!==Infinity&&!isNaN(p)){var q=p*m;this.setCurrentTime(q)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var n=this.video;if(n){if(typeof m==="string"){var p=m[0],q=parseFloat(m.substr(1));p==="+"?m=n.currentTime+q:p==="-"&&(m=n.currentTime-q)}n.currentTime=m,this._lastUpdate=m}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(b.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(b.VIDEO_SEEKED,this);var m=this.video;m&&this.updateTexture()},getProgress:function(){var m=this.video;if(m){var n=m.currentTime,p=m.duration;if(p!==Infinity&&!isNaN(p))return n/p}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var n=this.video;return n&&(n.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,n){this._systemMuted=n;var p=this.video;p&&(p.muted=this._codeMuted?!0:n)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(m){m===void 0&&(m=!0);var n=this.video;return this._codePaused=m,n&&(m?n.paused||n.pause():m||n.paused&&!this._systemPaused&&n.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=l(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,n){return n===void 0&&(n=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,m),this._key=m,this.flipY=n,this.videoTextureSource&&this.videoTextureSource.setFlipY(n),this.videoTexture},stop:function(){var m=this.video;if(m){var n=this._callbacks;for(var p in n)m.removeEventListener(p,n[p],!0);m.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(b.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(!m)return;for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var m=this.scene.sys.game.events;m.off(f.PAUSE,this.globalPause,this),m.off(f.RESUME,this.globalResume,this);var n=this.scene.sys.sound;n&&n.off(c.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(202),i=a(419),b=a(47),f=new d({initialize:function e(c){this.type=b.POLYGON,this.area=0,this.points=[],c&&this.setTo(c)},contains:function(e,c){return l(this,e,c)},setTo:function(e){this.area=0,this.points=[],typeof e==="string"&&(e=e.split(" "));if(!Array.isArray(e))return this;for(var c,j=Number.MAX_VALUE,g=0;g<e.length;g++)c={x:0,y:0},typeof e[g]==="number"||typeof e[g]==="string"?(c.x=parseFloat(e[g]),c.y=parseFloat(e[g+1]),g++):Array.isArray(e[g])?(c.x=e[g][0],c.y=e[g][1]):(c.x=e[g].x,c.y=e[g].y),this.points.push(c),c.y<j&&(j=c.y);return this.calculateArea(j),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,c,j,g=0;g<this.points.length-1;g++)c=this.points[g],j=this.points[g+1],e+=(j.x-c.x)*(c.y+j.y);return c=this.points[0],j=this.points[this.points.length-1],e+=(c.x-j.x)*(j.y+c.y),this.area=-e*.5,this.area},getPoints:function(e,c,j){return i(this,e,c,j)}});o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){for(var b=!1,f=-1,e=d.points.length-1;++f<d.points.length;e=f){var c=d.points[f].x,j=d.points[f].y,g=d.points[e].x,h=d.points[e].y;(j<=i&&i<h||h<=i&&i<j)&&l<(g-c)*(i-j)/(h-j)+c&&(b=!b)}return b};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(134),i=new d({Extends:l,initialize:function b(f,e,c,j,g){var h=[0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,1,1,1,0,0,1,1,1,0],m=[16777215,16777215,16777215,16777215,16777215,16777215],n=[1,1,1,1,1,1];l.call(this,f,e,c,h,k,m,n,j,g),this.resetPosition()},setFrame:function(b){return this.frame=this.texture.get(b),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~8:this.renderFlags|=8,b=this.frame,this.uv[0]=b.u0,this.uv[1]=b.v0,this.uv[2]=b.u0,this.uv[3]=b.v1,this.uv[4]=b.u1,this.uv[5]=b.v1,this.uv[6]=b.u0,this.uv[7]=b.v0,this.uv[8]=b.u1,this.uv[9]=b.v1,this.uv[10]=b.u1,this.uv[11]=b.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(b){this.vertices[0]=b-this.x,this.vertices[6]=b-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(b){this.vertices[1]=b-this.y,this.vertices[7]=b-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(b){this.vertices[10]=b-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(b){this.vertices[11]=b-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(b){this.vertices[2]=b-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(b){this.vertices[3]=b-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(b){this.vertices[4]=b-this.x,this.vertices[8]=b-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(b){this.vertices[5]=b-this.y,this.vertices[9]=b-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(b){this.alphas[0]=b,this.alphas[3]=b}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(b){this.alphas[5]=b}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(b){this.alphas[1]=b}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(b){this.alphas[2]=b,this.alphas[4]=b}},topLeftColor:{get:function(){return this.colors[0]},set:function(b){this.colors[0]=b,this.colors[3]=b}},topRightColor:{get:function(){return this.colors[5]},set:function(b){this.colors[5]=b}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(b){this.colors[1]=b}},bottomRightColor:{get:function(){return this.colors[2]},set:function(b){this.colors[2]=b,this.colors[4]=b}},setTopLeft:function(b,f){return this.topLeftX=b,this.topLeftY=f,this},setTopRight:function(b,f){return this.topRightX=b,this.topRightY=f,this},setBottomLeft:function(b,f){return this.bottomLeftX=b,this.bottomLeftY=f,this},setBottomRight:function(b,f){return this.bottomRightX=b,this.bottomRightY=f,this},resetPosition:function(){var b=this.x,f=this.y,e=Math.floor(this.width/2),c=Math.floor(this.height/2);return this.setTopLeft(b-e,f-c),this.setTopRight(b+e,f-c),this.setBottomLeft(b-e,f+c),this.setBottomRight(b+e,f+c),this},resetAlpha:function(){var b=this.alphas;return b[0]=1,b[1]=1,b[2]=1,b[3]=1,b[4]=1,b[5]=1,this},resetColors:function(){var b=this.colors;return b[0]=16777215,b[1]=16777215,b[2]=16777215,b[3]=16777215,b[4]=16777215,b[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(2),f=a(18),e=a(427),c=a(1080),j=a(29),g=new d({Extends:i,Mixins:[l.ComputedSize,l.Depth,l.GetBounds,l.Mask,l.Origin,l.ScrollFactor,l.Transform,l.Visible,c],initialize:function h(k,m,n,p,q,r,s,t){n===void 0&&(n=0),p===void 0&&(p=0),q===void 0&&(q=128),r===void 0&&(r=128),i.call(this,k,"Shader"),this.blendMode=-1,this.shader;var u=k.sys.renderer;this.renderer=u,this.gl=u.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=u.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new j(),this._tempMatrix2=new j(),this._tempMatrix3=new j(),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=u.width,this._rendererHeight=u.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(n,p),this.setSize(q,r),this.setOrigin(.5,.5),this.setShader(m,s,t)},willRender:function(h){return this.renderToTexture?!0:!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setRenderToTexture:function(h,k){k===void 0&&(k=!1);if(!this.renderToTexture){var m=this.width,n=this.height,p=this.renderer;this.glTexture=p.createTextureFromSource(null,m,n,0),this.glTexture.flipY=k,this.framebuffer=p.createFramebuffer(m,n,this.glTexture,!1),this._rendererWidth=m,this._rendererHeight=n,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),h&&(this.texture=this.scene.sys.textures.addGLTexture(h,this.glTexture,m,n))}if(this.shader){var q=p.currentPipeline;p.clearPipeline(),this.load(),this.flush(),p.rebindPipeline(q)}return this},setShader:function(h,k,m){k===void 0&&(k=[]);if(typeof h==="string"){var n=this.scene.sys.cache.shader;if(!n.has(h))return console.warn("Shader missing: "+h),this;this.shader=n.get(h)}else this.shader=h;var p=this.gl,q=this.renderer;this.program&&p.deleteProgram(this.program);var r=q.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);q.setMatrix4(r,"uViewMatrix",!1,this.viewMatrix),q.setMatrix4(r,"uProjectionMatrix",!1,this.projectionMatrix),q.setFloat2(r,"uResolution",this.width,this.height),this.program=r;var s=new Date(),t={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[s.getFullYear(),s.getMonth(),s.getDate(),s.getHours()*60*60+s.getMinutes()*60+s.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=f(!0,{},this.shader.uniforms,t):this.uniforms=t;for(var u=0;u<4;u++)k[u]&&this.setSampler2D("iChannel"+u,k[u],u,m);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(h){return this.pointer=h,this},projOrtho:function(h,k,m,n){var p=-1e3,q=1e3,r=1/(h-k),s=1/(m-n),t=1/(p-q),u=this.projectionMatrix;u[0]=-2*r,u[5]=-2*s,u[10]=2*t,u[12]=(h+k)*r,u[13]=(n+m)*s,u[14]=(q+p)*t;var v=this.program;this.renderer.setMatrix4(v,"uProjectionMatrix",!1,this.projectionMatrix),this._rendererWidth=k,this._rendererHeight=m},initUniforms:function(){var h=this.gl,k=this.renderer.glFuncMap,m=this.program;this._textureCount=0;for(var n in this.uniforms){var p=this.uniforms[n],q=p.type,r=k[q];p.uniformLocation=h.getUniformLocation(m,n),q!=="sampler2D"&&(p.glMatrix=r.matrix,p.glValueLength=r.length,p.glFunc=r.func)}},setSampler2DBuffer:function(h,k,m,n,p,q){p===void 0&&(p=0),q===void 0&&(q={});var r=this.uniforms[h];return r.value=k,q.width=m,q.height=n,r.textureData=q,this._textureCount=p,this.initSampler2D(r),this},setSampler2D:function(h,k,m,n){m===void 0&&(m=0);var p=this.scene.sys.textures;if(p.exists(k)){var q=p.getFrame(k),r=this.uniforms[h],s=q.source;r.textureKey=k,r.source=s.image,r.value=q.glTexture,s.isGLTexture&&(n||(n={}),n.width=s.width,n.height=s.height),n&&(r.textureData=n),this._textureCount=m,this.initSampler2D(r)}return this},setUniform:function(h,k){return e(this.uniforms,h,k),this},getUniform:function(h){return b(this.uniforms,h,null)},setChannel0:function(h,k){return this.setSampler2D("iChannel0",h,0,k)},setChannel1:function(h,k){return this.setSampler2D("iChannel1",h,1,k)},setChannel2:function(h,k){return this.setSampler2D("iChannel2",h,2,k)},setChannel3:function(h,k){return this.setSampler2D("iChannel3",h,3,k)},initSampler2D:function(h){if(!h.value)return;var k=this.gl;k.activeTexture(k.TEXTURE0+this._textureCount),k.bindTexture(k.TEXTURE_2D,h.value);var m=h.textureData;if(m){var n=k[b(m,"magFilter","linear").toUpperCase()],p=k[b(m,"minFilter","linear").toUpperCase()],q=k[b(m,"wrapS","repeat").toUpperCase()],r=k[b(m,"wrapT","repeat").toUpperCase()],s=k[b(m,"format","rgba").toUpperCase()];m.repeat&&(q=k.REPEAT,r=k.REPEAT),k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!!m.flipY);if(m.width){var t=b(m,"width",512),u=b(m,"height",2),v=b(m,"border",0);k.texImage2D(k.TEXTURE_2D,0,s,t,u,v,s,k.UNSIGNED_BYTE,null)}else k.texImage2D(k.TEXTURE_2D,0,s,k.RGBA,k.UNSIGNED_BYTE,h.source);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,n),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,q),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,r)}this.renderer.setProgram(this.program),k.uniform1i(h.uniformLocation,this._textureCount),this._textureCount++},syncUniforms:function(){var h=this.gl,k=this.uniforms,m,n,p,q,r,s=0;for(var t in k){m=k[t],p=m.glFunc,n=m.glValueLength,q=m.uniformLocation,r=m.value;if(r===null)continue;n===1?m.glMatrix?p.call(h,q,m.transpose,r):p.call(h,q,r):n===2?p.call(h,q,r.x,r.y):n===3?p.call(h,q,r.x,r.y,r.z):n===4?p.call(h,q,r.x,r.y,r.z,r.w):m.type==="sampler2D"&&(h.activeTexture(h["TEXTURE"+s]),h.bindTexture(h.TEXTURE_2D,r),h.uniform1i(q,s),s++)}},load:function(h){var k=this.gl,m=this.width,n=this.height,p=this.renderer,q=this.program,r=this.viewMatrix;if(!this.renderToTexture){var s=-this._displayOriginX,t=-this._displayOriginY;r[0]=h[0],r[1]=h[1],r[4]=h[2],r[5]=h[3],r[8]=h[4],r[9]=h[5],r[12]=r[0]*s+r[4]*t,r[13]=r[1]*s+r[5]*t}k.useProgram(q),k.uniformMatrix4fv(k.getUniformLocation(q,"uViewMatrix"),!1,r),k.uniform2f(k.getUniformLocation(q,"uResolution"),this.width,this.height);var u=this.uniforms,v=u.resolution;v.value.x=m,v.value.y=n,u.time.value=p.game.loop.getDuration();var x=this.pointer;if(x){var z=u.mouse,y=x.x/m,A=1-x.y/n;z.value.x=y.toFixed(2),z.value.y=A.toFixed(2)}this.syncUniforms()},flush:function(){var h=this.width,k=this.height,m=this.program,n=this.gl,p=this.vertexBuffer,q=this.renderer,r=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(q.setFramebuffer(this.framebuffer),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT)),n.bindBuffer(n.ARRAY_BUFFER,p);var s=n.getAttribLocation(m,"inPosition");s!==-1&&(n.enableVertexAttribArray(s),n.vertexAttribPointer(s,2,n.FLOAT,!1,r,0));var t=this.vertexViewF32;t[3]=k,t[4]=h,t[5]=k,t[8]=h,t[9]=k,t[10]=h;var u=6;n.bufferSubData(n.ARRAY_BUFFER,0,this.bytes.subarray(0,u*r)),n.drawArrays(n.TRIANGLES,0,u),this.renderToTexture&&q.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var h=this.gl;h.deleteProgram(this.program),h.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(53),l=function(i,b){return d(i.x,i.y,b.x,b.y)<=i.radius+b.radius};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=l.width/2,b=l.height/2,f=Math.abs(d.x-l.x-i),e=Math.abs(d.y-l.y-b),c=i+d.radius,j=b+d.radius;if(f>c||e>j)return!1;{if(f<=i||e<=b)return!0;{var g=f-i,h=e-b,k=g*g,m=h*h,n=d.radius*d.radius;return k+m<=n}}};o.exports=a},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(208),i=function(b,f,e){e===void 0&&(e=[]);if(l(b,f)){var c=b.x1,j=b.y1,g=b.x2,h=b.y2,k=f.x,m=f.y,n=f.radius,p=g-c,q=h-j,r=c-k,s=j-m,t=p*p+q*q,u=2*(p*r+q*s),v=r*r+s*s-n*n,x=u*u-4*t*v,z,y;if(x===0){var A=-u/(2*t);z=c+A*p,y=j+A*q,A>=0&&A<=1&&e.push(new d(z,y))}else if(x>0){var D=(-u-Math.sqrt(x))/(2*t);z=c+D*p,y=j+D*q,D>=0&&D<=1&&e.push(new d(z,y));var F=(-u+Math.sqrt(x))/(2*t);z=c+F*p,y=j+F*q,F>=0&&F<=1&&e.push(new d(z,y))}}return e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(55),l=a(4),i=new l(),b=function(f,e,c){c===void 0&&(c=i);if(d(e,f.x1,f.y1))return c.x=f.x1,c.y=f.y1,!0;if(d(e,f.x2,f.y2))return c.x=f.x2,c.y=f.y2,!0;var j=f.x2-f.x1,g=f.y2-f.y1,h=e.x-f.x1,k=e.y-f.y1,m=j*j+g*g,n=j,p=g;if(m>0){var q=(h*j+k*g)/m;n*=q,p*=q}c.x=f.x1+n,c.y=f.y1+p;var r=n*n+p*p;return r<=m&&n*j+p*g>=0&&d(e,c.x,c.y)};o.exports=b},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(84),i=a(432),b=function(f,e,c){c===void 0&&(c=[]);if(i(f,e))for(var j=e.getLineA(),g=e.getLineB(),h=e.getLineC(),k=e.getLineD(),m=[new d(),new d(),new d(),new d()],n=[l(j,f,m[0]),l(g,f,m[1]),l(h,f,m[2]),l(k,f,m[3])],p=0;p<4;p++)n[p]&&c.push(m[p]);return c};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){i===void 0&&(i=!1),b===void 0&&(b=[]);for(var f=d.x3-d.x1,e=d.y3-d.y1,c=d.x2-d.x1,j=d.y2-d.y1,g=f*f+e*e,h=f*c+e*j,k=c*c+j*j,m=g*k-h*h,n=m===0?0:1/m,p,q,r,s,t,u,v=d.x1,x=d.y1,z=0;z<l.length;z++){r=l[z].x-v,s=l[z].y-x,t=f*r+e*s,u=c*r+j*s,p=(k*t-h*u)*n,q=(g*u-h*t)*n;if(p>=0&&q>=0&&p+q<1){b.push({x:l[z].x,y:l[z].y});if(i)break}}return b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=Math.cos(b),e=Math.sin(b),c=d.x1-l,j=d.y1-i;return d.x1=c*f-j*e+l,d.y1=c*e+j*f+i,c=d.x2-l,j=d.y2-i,d.x2=c*f-j*e+l,d.y2=c*e+j*f+i,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.height===0?NaN:d.width/d.height};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=Math.cos(b),e=Math.sin(b),c=d.x1-l,j=d.y1-i;return d.x1=c*f-j*e+l,d.y1=c*e+j*f+i,c=d.x2-l,j=d.y2-i,d.x2=c*f-j*e+l,d.y2=c*e+j*f+i,c=d.x3-l,j=d.y3-i,d.x3=c*f-j*e+l,d.y3=c*e+j*f+i,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BUTTON_DOWN:a(1203),BUTTON_UP:a(1204),CONNECTED:a(1205),DISCONNECTED:a(1206),GAMEPAD_BUTTON_DOWN:a(1207),GAMEPAD_BUTTON_UP:a(1208)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(18),l=a(139),i=function(b,f){var e=b===void 0?l():d({},b);if(f)for(var c in f)f[c]!==void 0&&(e[c]=f[c]);return e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=a(364),j=new d({Extends:i,initialize:function g(h,k,m,n){var p="xml";if(e(k)){var q=k;k=f(q,"key"),m=f(q,"url"),n=f(q,"xhrSettings"),p=f(q,"extension",p)}var r={type:"xml",cache:h.cacheManager.xml,extension:p,responseType:"text",key:k,url:m,xhrSettings:n};i.call(this,h,r)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=c(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});b.register("xml",function(g,h,k){if(Array.isArray(g))for(var m=0;m<g.length;m++)this.addFile(new j(this,g[m]));else this.addFile(new j(this,g,h,k));return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Acceleration:a(1263),Angular:a(1264),Bounce:a(1265),Debug:a(1266),Drag:a(1267),Enable:a(1268),Friction:a(1269),Gravity:a(1270),Immovable:a(1271),Mass:a(1272),Size:a(1273),Velocity:a(1274)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COLLIDE:a(1276),OVERLAP:a(1277),PAUSE:a(1278),RESUME:a(1279),TILE_COLLIDE:a(1280),TILE_OVERLAP:a(1281),WORLD_BOUNDS:a(1282),WORLD_STEP:a(1283)}},function(o,w,a){var d={};o.exports=d;var l=a(86),i=a(99),b=a(239),f=a(100),e=a(513),c=a(42);(function(){d._warming=.4,d._torqueDampen=1,d._minLength=1e-6,d.create=function(j){var g=j;g.bodyA&&!g.pointA&&(g.pointA={x:0,y:0}),g.bodyB&&!g.pointB&&(g.pointB={x:0,y:0});var h=g.bodyA?i.add(g.bodyA.position,g.pointA):g.pointA,k=g.bodyB?i.add(g.bodyB.position,g.pointB):g.pointB,m=i.magnitude(i.sub(h,k));g.length=typeof g.length!=="undefined"?g.length:m,g.id=g.id||c.nextId(),g.label=g.label||"Constraint",g.type="constraint",g.stiffness=g.stiffness||(g.length>0?1:.7),g.damping=g.damping||0,g.angularStiffness=g.angularStiffness||0,g.angleA=g.bodyA?g.bodyA.angle:g.angleA,g.angleB=g.bodyB?g.bodyB.angle:g.angleB,g.plugin={};var n={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return g.length===0&&g.stiffness>.1?(n.type="pin",n.anchors=!1):g.stiffness<.9&&(n.type="spring"),g.render=c.extend(n,g.render),g},d.preSolveAll=function(j){for(var g=0;g<j.length;g+=1){var h=j[g],k=h.constraintImpulse;if(h.isStatic||k.x===0&&k.y===0&&k.angle===0)continue;h.position.x+=k.x,h.position.y+=k.y,h.angle+=k.angle}},d.solveAll=function(j,g){for(var h=0;h<j.length;h+=1){var k=j[h],m=!k.bodyA||k.bodyA&&k.bodyA.isStatic,n=!k.bodyB||k.bodyB&&k.bodyB.isStatic;(m||n)&&d.solve(j[h],g)}for(h=0;h<j.length;h+=1)k=j[h],m=!k.bodyA||k.bodyA&&k.bodyA.isStatic,n=!k.bodyB||k.bodyB&&k.bodyB.isStatic,!m&&!n&&d.solve(j[h],g)},d.solve=function(j,g){var h=j.bodyA,k=j.bodyB,m=j.pointA,n=j.pointB;if(!h&&!k)return;h&&!h.isStatic&&(i.rotate(m,h.angle-j.angleA,m),j.angleA=h.angle),k&&!k.isStatic&&(i.rotate(n,k.angle-j.angleB,n),j.angleB=k.angle);var p=m,q=n;h&&(p=i.add(h.position,m)),k&&(q=i.add(k.position,n));if(!p||!q)return;var r=i.sub(p,q),s=i.magnitude(r);s<d._minLength&&(s=d._minLength);var t=(s-j.length)/s,u=j.stiffness<1?j.stiffness*g:j.stiffness,v=i.mult(r,t*u),x=(h?h.inverseMass:0)+(k?k.inverseMass:0),z=(h?h.inverseInertia:0)+(k?k.inverseInertia:0),y=x+z,A,D,F,H,I;if(j.damping){var N=i.create();F=i.div(r,s),I=i.sub(k&&i.sub(k.position,k.positionPrev)||N,h&&i.sub(h.position,h.positionPrev)||N),H=i.dot(F,I)}h&&!h.isStatic&&(D=h.inverseMass/x,h.constraintImpulse.x-=v.x*D,h.constraintImpulse.y-=v.y*D,h.position.x-=v.x*D,h.position.y-=v.y*D,j.damping&&(h.positionPrev.x-=j.damping*F.x*H*D,h.positionPrev.y-=j.damping*F.y*H*D),A=i.cross(m,v)/y*d._torqueDampen*h.inverseInertia*(1-j.angularStiffness),h.constraintImpulse.angle-=A,h.angle-=A),k&&!k.isStatic&&(D=k.inverseMass/x,k.constraintImpulse.x+=v.x*D,k.constraintImpulse.y+=v.y*D,k.position.x+=v.x*D,k.position.y+=v.y*D,j.damping&&(k.positionPrev.x+=j.damping*F.x*H*D,k.positionPrev.y+=j.damping*F.y*H*D),A=i.cross(n,v)/y*d._torqueDampen*k.inverseInertia*(1-j.angularStiffness),k.constraintImpulse.angle+=A,k.angle+=A)},d.postSolveAll=function(j){for(var g=0;g<j.length;g++){var h=j[g],k=h.constraintImpulse;if(h.isStatic||k.x===0&&k.y===0&&k.angle===0)continue;b.set(h,!1);for(var m=0;m<h.parts.length;m++){var n=h.parts[m];l.translate(n.vertices,k),m>0&&(n.position.x+=k.x,n.position.y+=k.y),k.angle!==0&&(l.rotate(n.vertices,k.angle,h.position),e.rotate(n.axes,k.angle),m>0&&i.rotateAbout(n.position,k.angle,h.position,n.position)),f.update(n.bounds,n.vertices,h.velocity)}k.angle*=d._warming,k.x*=d._warming,k.y*=d._warming}},d.pointAWorld=function(j){return{x:(j.bodyA?j.bodyA.position.x:0)+j.pointA.x,y:(j.bodyA?j.bodyA.position.y:0)+j.pointA.y}},d.pointBWorld=function(j){return{x:(j.bodyB?j.bodyB.position.x:0)+j.pointB.x,y:(j.bodyB?j.bodyB.position.y:0)+j.pointB.y}}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(142),l=function(i,b,f){var e=d(i,b,!0,f),c=d(i,b-1,!0,f),j=d(i,b+1,!0,f),g=d(i-1,b,!0,f),h=d(i+1,b,!0,f),k=e&&e.collides;return k&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),c&&c.collides&&(k&&(e.faceTop=!1),c.faceBottom=!k),j&&j.collides&&(k&&(e.faceBottom=!1),j.faceTop=!k),g&&g.collides&&(k&&(e.faceLeft=!1),g.faceRight=!k),h&&h.collides&&(k&&(e.faceRight=!1),h.faceLeft=!k),e&&!e.collides&&e.resetFaces(),e};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(74),l=a(101),i=a(220),b=a(73),f=function(e,c,j,g,h){if(!l(c,j,h))return null;g===void 0&&(g=!0);var k=h.data[j][c],m=k&&k.collides;if(e instanceof d)h.data[j][c]===null&&(h.data[j][c]=new d(h,e.index,c,j,e.width,e.height)),h.data[j][c].copy(e);else{var n=e;h.data[j][c]===null?h.data[j][c]=new d(h,n,c,j,h.tileWidth,h.tileHeight):h.data[j][c].index=n}var p=h.data[j][c],q=h.collideIndexes.indexOf(p.index)!==-1;return b(p,q),g&&m!==p.collides&&i(c,j,h),p};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=i.collideIndexes.indexOf(d);l&&b===-1?i.collideIndexes.push(d):!l&&b!==-1&&i.collideIndexes.splice(b,1)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(32),l=a(102),i=a(103),b=a(74),f=function(e,c,j,g,h){for(var k=new l({tileWidth:j,tileHeight:g}),m=new i({name:e,tileWidth:j,tileHeight:g,format:d.ARRAY_2D,layers:[k]}),n=[],p=c.length,q=0,r=0;r<c.length;r++){n[r]=[];for(var s=c[r],t=0;t<s.length;t++){var u=parseInt(s[t],10);isNaN(u)||u===-1?n[r][t]=h?null:new b(k,-1,t,r,j,g):n[r][t]=new b(k,u,t,r,j,g)}q===0&&(q=s.length)}return m.width=k.width=q,m.height=k.height=p,m.widthInPixels=k.widthInPixels=q*j,m.heightInPixels=k.heightInPixels=p*g,k.data=n,m};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=2147483648,d=1073741824,l=536870912,i=function(b){var f=Boolean(b&a),e=Boolean(b&d),c=Boolean(b&l);b=b&~(a|d|l);var j=0,g=!1;return f&&e&&c?(j=Math.PI/2,g=!0):f&&e&&!c?(j=Math.PI,g=!1):f&&!e&&c?(j=Math.PI/2,g=!1):f&&!e&&!c?(j=0,g=!0):!f&&e&&c?(j=3*Math.PI/2,g=!1):!f&&e&&!c?(j=Math.PI,g=!0):!f&&!e&&c?(j=3*Math.PI/2,g=!0):!f&&!e&&!c&&(j=0,g=!1),{gid:b,flippedHorizontal:f,flippedVertical:e,flippedAntiDiagonal:c,rotation:j,flipped:g}};o.exports=i},function(o,w,a){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=function(i,b,f){if(!b)return{i:0,layers:i.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=b.x+d(b,"startx",0)*i.tilewidth+d(b,"offsetx",0),c=b.y+d(b,"starty",0)*i.tileheight+d(b,"offsety",0);return{i:0,layers:b.layers,name:f.name+b.name+"/",opacity:f.opacity*b.opacity,visible:f.visible&&b.visible,x:f.x+e,y:f.y+c}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(486),l=a(224),i=function(e){return{x:e.x,y:e.y}},b=["id","name","type","rotation","properties","visible","x","y","width","height"],f=function(e,c,j){c===void 0&&(c=0),j===void 0&&(j=0);var g=d(e,b);g.x+=c,g.y+=j;if(e.gid){var h=l(e.gid);g.gid=h.gid,g.flippedHorizontal=h.flippedHorizontal,g.flippedVertical=h.flippedVertical,g.flippedAntiDiagonal=h.flippedAntiDiagonal}else e.polyline?g.polyline=e.polyline.map(i):e.polygon?g.polygon=e.polygon.map(i):e.ellipse?g.ellipse=e.ellipse:e.text?g.text=e.text:e.point?g.point=!0:g.rectangle=!0;return g};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(32),l=a(103),i=a(478),b=a(494),f=function(e,c,j,g,h,k,m,n){j===void 0&&(j=32),g===void 0&&(g=32),h===void 0&&(h=10),k===void 0&&(k=10),n===void 0&&(n=!1);var p=null;if(Array.isArray(m)){var q=c!==void 0?c:"map";p=i(q,d.ARRAY_2D,m,j,g,n)}else if(c!==void 0){var r=e.cache.tilemap.get(c);r?p=i(c,r.format,r.data,j,g,n):console.warn("No map data found for key "+c)}return p===null&&(p=new l({tileWidth:j,tileHeight:g,width:h,height:k})),new b(e,p)};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(6),l=function(i){var b=d(i,"targets",null);return b===null?b:(typeof b==="function"&&(b=b.call()),Array.isArray(b)||(b=[b]),b)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(f){return!!f.getActive&&typeof f.getActive==="function"}function d(f){return!!f.getStart&&typeof f.getStart==="function"}function l(f){return!!f.getEnd&&typeof f.getEnd==="function"}function i(f){return d(f)||l(f)||a(f)}var b=function(f,e){var c,j=function(u,v,x){return x},g=function(u,v,x){return x},h=null,k=typeof e;if(k==="number")j=function(){return e};else if(k==="string"){var m=e[0],n=parseFloat(e.substr(2));switch(m){case"+":j=function(u,v,x){return x+n};break;case"-":j=function(u,v,x){return x-n};break;case"*":j=function(u,v,x){return x*n};break;case"/":j=function(u,v,x){return x/n};break;default:j=function(){return parseFloat(e)}}}else if(k==="function")j=e;else if(k==="object")if(i(e))a(e)&&(h=e.getActive),l(e)&&(j=e.getEnd),d(e)&&(g=e.getStart);else if(e.hasOwnProperty("value"))c=b(f,e.value);else{var p=e.hasOwnProperty("to"),q=e.hasOwnProperty("from"),r=e.hasOwnProperty("start");if(p&&(q||r)){c=b(f,e.to);if(r){var s=b(f,e.start);c.getActive=s.getEnd}if(q){var t=b(f,e.from);c.getStart=t.getEnd}}}return c||(c={getActive:h,getEnd:j,getStart:g}),c};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(232),b=a(16),f=a(5),e=a(89),c=a(13),j=new d({Extends:l,initialize:function g(h,k,m){l.call(this),this.parent=h,this.parentIsTimeline=h.hasOwnProperty("isTimeline"),this.data=k,this.totalData=k.length,this.targets=m,this.totalTargets=m.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=e.PENDING_ADD,this._pausedState=e.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(g){return g===void 0&&(g=0),this.data[g].current},setTimeScale:function(g){return this.timeScale=g,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===e.ACTIVE},isPaused:function(){return this.state===e.PAUSED},hasTarget:function(g){return this.targets.indexOf(g)!==-1},updateTo:function(g,h,k){k===void 0&&(k=!1);for(var m=0;m<this.totalData;m++){var n=this.data[m];n.key===g&&(n.end=h,k&&(n.start=n.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===e.ACTIVE?this.seek(0):this.state===e.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===e.PENDING_ADD?this:this.play()},calcDuration:function(){for(var g=0,h=c.MAX_SAFE_INTEGER,k=this.data,m=0;m<this.totalData;m++){var n=k[m];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,n.repeat===-1?n.totalDuration+=n.t2*999999999999:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>g&&(g=n.totalDuration),n.delay<h&&(h=n.delay)}this.duration=Math.max(g,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=h},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=e.PENDING_ADD,this._pausedState=e.INIT,!1;for(var g=this.data,h=this.totalTargets,k=0;k<this.totalData;k++){var m=g[k],n=m.target,p=m.gen,q=m.key,r=m.index;m.delay=p.delay(n,q,0,r,h,this),m.duration=Math.max(p.duration(n,q,0,r,h,this),.001),m.hold=p.hold(n,q,0,r,h,this),m.repeat=p.repeat(n,q,0,r,h,this),m.repeatDelay=p.repeatDelay(n,q,0,r,h,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=e.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(i.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=e.LOOP_DELAY):(this.state=e.ACTIVE,this.dispatchTweenEvent(i.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=e.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=e.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===e.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=e.PAUSED,this)},play:function(g){g===void 0&&(g=!1);var h=this.state;if(h===e.INIT&&!this.parentIsTimeline)return this.resetTweenData(!1),this.state=e.ACTIVE,this;{if(h===e.ACTIVE||h===e.PENDING_ADD&&this._pausedState===e.PENDING_ADD)return this;if(!this.parentIsTimeline&&(h===e.PENDING_REMOVE||h===e.REMOVED))return this.seek(0),this.parent.makeActive(this),this}return this.parentIsTimeline?(this.resetTweenData(g),this.calculatedOffset===0?this.state=e.ACTIVE:(this.countdown=this.calculatedOffset,this.state=e.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(g),this.state=e.ACTIVE,this.makeActive()),this},resetTweenData:function(g){for(var h=this.data,k=this.totalData,m=this.totalTargets,n=0;n<k;n++){var p=h[n],q=p.target,r=p.key,s=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,g?(p.start=p.getStartValue(q,r,p.start,s,m,this),p.end=p.getEndValue(q,r,p.end,s,m,this),p.current=p.start,p.state=e.PLAYING_FORWARD):p.state=e.PENDING_RENDER,p.delay>0&&(p.elapsed=p.delay,p.state=e.DELAY),p.getActiveValue&&(q[r]=p.getActiveValue(p.target,p.key,p.start))}},resume:function(){return this.state===e.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(g,h){h===void 0&&(h=16.6);if(this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===e.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var k=this.data,m=this.totalTargets,n=0;n<this.totalData;n++){var p=k[n],q=p.target,r=p.gen,s=p.key,t=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,p.delay=r.delay(q,s,0,t,m,this),p.duration=Math.max(r.duration(q,s,0,t,m,this),.001),p.hold=r.hold(q,s,0,t,m,this),p.repeat=r.repeat(q,s,0,t,m,this),p.repeatDelay=r.repeatDelay(q,s,0,t,m,this),p.current=p.start,p.state=e.PLAYING_FORWARD,this.updateTweenData(this,p,0,t,m),p.delay>0&&(p.elapsed=p.delay,p.state=e.DELAY)}this.calcDuration();var u=!1;this.state===e.PAUSED&&(u=!0,this.state=e.ACTIVE),this.isSeeking=!0;do this.update(0,h);while(this.totalProgress<g);return this.isSeeking=!1,u&&(this.state=e.PAUSED),this},setCallback:function(g,h,k,m){return this.callbacks[g]={func:h,scope:m,params:k},this},complete:function(g){return g===void 0&&(g=0),g?(this.state=e.COMPLETE_DELAY,this.countdown=g):(this.state=e.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(g){return this.state===e.ACTIVE&&(g!==void 0&&this.seek(g)),this.state!==e.REMOVED&&((this.state===e.PAUSED||this.state===e.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(i.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=e.PENDING_REMOVE),this},update:function(g,h){if(this.state===e.PAUSED)return!1;this.useFrames&&(h=1*this.parent.timeScale),h*=this.timeScale,this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);switch(this.state){case e.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(i.TWEEN_START,this.callbacks.onStart)));for(var k=!1,m=0;m<this.totalData;m++){var n=this.data[m];this.updateTweenData(this,n,h)&&(k=!0)}k||this.nextState();break;case e.LOOP_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=e.ACTIVE,this.dispatchTweenEvent(i.TWEEN_LOOP,this.callbacks.onLoop));break;case e.OFFSET_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=e.ACTIVE);break;case e.COMPLETE_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=e.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===e.PENDING_REMOVE},dispatchTweenDataEvent:function(g,h,k){this.isSeeking||(this.emit(g,this,k.key,k.target,k.current,k.previous),h&&(h.params[1]=k.target,h.func.apply(h.scope,h.params)))},dispatchTweenEvent:function(g,h){this.isSeeking||(this.emit(g,this,this.targets),h&&(h.params[1]=this.targets,h.func.apply(h.scope,h.params)))},setStateFromEnd:function(g,h,k){return h.yoyo?(h.elapsed=k,h.progress=k/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),this.dispatchTweenDataEvent(i.TWEEN_YOYO,g.callbacks.onYoyo,h),h.start=h.getStartValue(h.target,h.key,h.start,h.index,g.totalTargets,g),e.PLAYING_BACKWARD):h.repeatCounter>0?(h.repeatCounter--,h.elapsed=k,h.progress=k/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.start=h.getStartValue(h.target,h.key,h.start,h.index,g.totalTargets,g),h.end=h.getEndValue(h.target,h.key,h.start,h.index,g.totalTargets,g),h.repeatDelay>0?(h.elapsed=h.repeatDelay-k,h.current=h.start,h.target[h.key]=h.current,e.REPEAT_DELAY):(this.dispatchTweenDataEvent(i.TWEEN_REPEAT,g.callbacks.onRepeat,h),e.PLAYING_FORWARD)):e.COMPLETE},setStateFromStart:function(g,h,k){return h.repeatCounter>0?(h.repeatCounter--,h.elapsed=k,h.progress=k/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.end=h.getEndValue(h.target,h.key,h.start,h.index,g.totalTargets,g),h.repeatDelay>0?(h.elapsed=h.repeatDelay-k,h.current=h.start,h.target[h.key]=h.current,e.REPEAT_DELAY):(this.dispatchTweenDataEvent(i.TWEEN_REPEAT,g.callbacks.onRepeat,h),e.PLAYING_FORWARD)):e.COMPLETE},updateTweenData:function(g,h,k){var m=h.target;switch(h.state){case e.PLAYING_FORWARD:case e.PLAYING_BACKWARD:if(!m){h.state=e.COMPLETE;break}var n=h.elapsed,p=h.duration,q=0;n+=k,n>p&&(q=n-p,n=p);var r=h.state===e.PLAYING_FORWARD,s=n/p;h.elapsed=n,h.progress=s,h.previous=h.current;if(s===1)r?(h.current=h.end,m[h.key]=h.end,h.hold>0?(h.elapsed=h.hold-q,h.state=e.HOLD_DELAY):h.state=this.setStateFromEnd(g,h,q)):(h.current=h.start,m[h.key]=h.start,h.state=this.setStateFromStart(g,h,q));else{var t=r?h.ease(s):h.ease(1-s);h.current=h.start+(h.end-h.start)*t,m[h.key]=h.current}this.dispatchTweenDataEvent(i.TWEEN_UPDATE,g.callbacks.onUpdate,h);break;case e.DELAY:h.elapsed-=k,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=e.PENDING_RENDER);break;case e.REPEAT_DELAY:h.elapsed-=k,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=e.PLAYING_FORWARD,this.dispatchTweenDataEvent(i.TWEEN_REPEAT,g.callbacks.onRepeat,h));break;case e.HOLD_DELAY:h.elapsed-=k,h.elapsed<=0&&(h.state=this.setStateFromEnd(g,h,Math.abs(h.elapsed)));break;case e.PENDING_RENDER:m?(h.start=h.getStartValue(m,h.key,m[h.key],h.index,g.totalTargets,g),h.end=h.getEndValue(m,h.key,h.start,h.index,g.totalTargets,g),h.current=h.start,m[h.key]=h.start,h.state=e.PLAYING_FORWARD):h.state=e.COMPLETE;break}return h.state!==e.COMPLETE}});j.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],f.register("tween",function(g){return this.scene.sys.tweens.add(g)}),b.register("tween",function(g){return this.scene.sys.tweens.create(g)}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={TIMELINE_COMPLETE:a(1358),TIMELINE_LOOP:a(1359),TIMELINE_PAUSE:a(1360),TIMELINE_RESUME:a(1361),TIMELINE_START:a(1362),TIMELINE_UPDATE:a(1363),TWEEN_ACTIVE:a(1364),TWEEN_COMPLETE:a(1365),TWEEN_LOOP:a(1366),TWEEN_REPEAT:a(1367),TWEEN_START:a(1368),TWEEN_STOP:a(1369),TWEEN_UPDATE:a(1370),TWEEN_YOYO:a(1371)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f,e,c,j,g,h,k,m,n,p,q){return{target:d,index:l,key:i,getActiveValue:e,getEndValue:b,getStartValue:f,ease:c,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:q,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:j,duration:g,hold:k,repeat:m,repeatDelay:n},state:0}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={DEFAULT:0,LINEAR:0,NEAREST:1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(58),l=function(i){return d(i,-Math.PI,Math.PI)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(58),l=function(i){return d(i,-180,180)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(66),i=a(2),b=a(238),f=a(340),e=a(341),c=a(29),j=a(9),g=a(147),h=new d({Extends:g,Mixins:[b],initialize:function k(m){var n=m.renderer.config;g.call(this,{game:m.game,renderer:m.renderer,gl:m.renderer.gl,topology:i(m,"topology",m.renderer.gl.TRIANGLES),vertShader:i(m,"vertShader",e),fragShader:i(m,"fragShader",f),vertexCapacity:i(m,"vertexCapacity",6*n.batchSize),vertexSize:i(m,"vertexSize",Float32Array.BYTES_PER_ELEMENT*5+Uint8Array.BYTES_PER_ELEMENT*4),attributes:[{name:"inPosition",size:2,type:m.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:m.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*2},{name:"inTintEffect",size:1,type:m.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*4},{name:"inTint",size:4,type:m.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:Float32Array.BYTES_PER_ELEMENT*5}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=n.batchSize,this.batches=[],this._tempMatrix1=new c(),this._tempMatrix2=new c(),this._tempMatrix3=new c(),this._tempMatrix4=new c(),this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return g.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(k,m,n){return g.prototype.resize.call(this,k,m,n),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(k,m){return k===void 0&&(k=this.renderer.blankTexture.glTexture),m===void 0&&(m=0),this.requireTextureBatch(k,m)&&this.pushBatch(k,m),this},requireTextureBatch:function(k,m){var n=this.batches,p=n.length;if(p>0){var q=m>0?n[p-1].textures[m-1]:n[p-1].texture;return!(q===k)}return!0},pushBatch:function(k,m){if(m===0)this.batches.push({first:this.vertexCount,texture:k,textures:[]});else{var n=[];n[m-1]=k,this.batches.push({first:this.vertexCount,texture:null,textures:n})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var k=this.gl,m=this.vertexCount,n=this.topology,p=this.vertexSize,q=this.renderer,r=this.batches,s=r.length,t=0,u=null,v,x,z;if(s===0||m===0)return this.flushLocked=!1,this;k.bufferSubData(k.ARRAY_BUFFER,0,this.bytes.subarray(0,m*p));for(var y=0;y<s-1;y++){u=r[y],v=r[y+1];if(u.textures.length>0){for(x=0;x<u.textures.length;++x)z=u.textures[x],z&&q.setTexture2D(z,1+x,!1);k.activeTexture(k.TEXTURE0)}t=v.first-u.first;if(u.texture===null||t<=0)continue;q.setTexture2D(u.texture,0,!1),k.drawArrays(n,u.first,t)}u=r[s-1];if(u.textures.length>0){for(x=0;x<u.textures.length;++x)z=u.textures[x],z&&q.setTexture2D(z,1+x,!1);k.activeTexture(k.TEXTURE0)}return t=m-u.first,u.texture&&t>0&&(q.setTexture2D(u.texture,0,!1),k.drawArrays(n,u.first,t)),this.vertexCount=0,r.length=0,this.flushLocked=!1,this},batchSprite:function(k,m,n){this.renderer.setPipeline(this);var p=this._tempMatrix1,q=this._tempMatrix2,r=this._tempMatrix3,s=k.frame,t=s.glTexture,u=s.u0,v=s.v0,x=s.u1,z=s.v1,y=s.x,A=s.y,D=s.cutWidth,F=s.cutHeight,H=s.customPivot,I=k.displayOriginX,N=k.displayOriginY,J=-I+y,C=-N+A;if(k.isCropped){var B=k._crop;(B.flipX!==k.flipX||B.flipY!==k.flipY)&&s.updateCropUVs(B,k.flipX,k.flipY),u=B.u0,v=B.v0,x=B.u1,z=B.v1,D=B.width,F=B.height,y=B.x,A=B.y,J=-I+y,C=-N+A}var E=1,K=1;k.flipX&&(H||(J+=-s.realWidth+I*2),E=-1),(k.flipY||s.source.isGLTexture&&!t.flipY)&&(H||(C+=-s.realHeight+N*2),K=-1),q.applyITRS(k.x,k.y,k.rotation,k.scaleX*E,k.scaleY*K),p.copyFrom(m.matrix),n?(p.multiplyWithOffset(n,-m.scrollX*k.scrollFactorX,-m.scrollY*k.scrollFactorY),q.e=k.x,q.f=k.y,p.multiply(q,r)):(q.e-=m.scrollX*k.scrollFactorX,q.f-=m.scrollY*k.scrollFactorY,p.multiply(q,r));var G=J+D,L=C+F,M=r.getX(J,C),O=r.getY(J,C),P=r.getX(J,L),Q=r.getY(J,L),R=r.getX(G,L),S=r.getY(G,L),T=r.getX(G,C),U=r.getY(G,C),_=j.getTintAppendFloatAlpha(k._tintTL,m.alpha*k._alphaTL),Z=j.getTintAppendFloatAlpha(k._tintTR,m.alpha*k._alphaTR),X=j.getTintAppendFloatAlpha(k._tintBL,m.alpha*k._alphaBL),Y=j.getTintAppendFloatAlpha(k._tintBR,m.alpha*k._alphaBR);m.roundPixels&&(M=Math.round(M),O=Math.round(O),P=Math.round(P),Q=Math.round(Q),R=Math.round(R),S=Math.round(S),T=Math.round(T),U=Math.round(U)),this.setTexture2D(t,0);var $=k._isTinted&&k.tintFill;this.batchQuad(M,O,P,Q,R,S,T,U,u,v,x,z,_,Z,X,Y,$,t,0)},batchQuad:function(k,m,n,p,q,r,s,t,u,v,x,z,y,A,D,F,H,I,N){var J=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),J=!0,this.setTexture2D(I,N));var C=this.vertexViewF32,B=this.vertexViewU32,E=this.vertexCount*this.vertexComponentCount-1;return C[++E]=k,C[++E]=m,C[++E]=u,C[++E]=v,C[++E]=H,B[++E]=y,C[++E]=n,C[++E]=p,C[++E]=u,C[++E]=z,C[++E]=H,B[++E]=D,C[++E]=q,C[++E]=r,C[++E]=x,C[++E]=z,C[++E]=H,B[++E]=F,C[++E]=k,C[++E]=m,C[++E]=u,C[++E]=v,C[++E]=H,B[++E]=y,C[++E]=q,C[++E]=r,C[++E]=x,C[++E]=z,C[++E]=H,B[++E]=F,C[++E]=s,C[++E]=t,C[++E]=x,C[++E]=v,C[++E]=H,B[++E]=A,this.vertexCount+=6,J},batchTri:function(k,m,n,p,q,r,s,t,u,v,x,z,y,A,D,F){var H=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(D,F),H=!0);var I=this.vertexViewF32,N=this.vertexViewU32,J=this.vertexCount*this.vertexComponentCount-1;return I[++J]=k,I[++J]=m,I[++J]=s,I[++J]=t,I[++J]=A,N[++J]=x,I[++J]=n,I[++J]=p,I[++J]=s,I[++J]=v,I[++J]=A,N[++J]=z,I[++J]=q,I[++J]=r,I[++J]=u,I[++J]=v,I[++J]=A,N[++J]=y,this.vertexCount+=3,H},batchTexture:function(k,m,n,p,q,r,s,t,u,v,x,z,y,A,D,F,H,I,N,J,C,B,E,K,G,L,M,O,P,Q,R){this.renderer.setPipeline(this,k);var S=this._tempMatrix1,T=this._tempMatrix2,U=this._tempMatrix3,_=I/n+M,Z=N/p+O,X=(I+J)/n+M,Y=(N+C)/p+O,$=s,ba=t,V=-F,ca=-H;if(k.isCropped){var W=k._crop;$=W.width,ba=W.height,s=W.width,t=W.height,I=W.x,N=W.y;var aa=I,ga=N;z&&(aa=J-W.x-W.width),y&&!m.isRenderTexture&&(ga=C-W.y-W.height),_=aa/n+M,Z=ga/p+O,X=(aa+W.width)/n+M,Y=(ga+W.height)/p+O,V=-F+I,ca=-H+N}y=y^(!R&&m.isRenderTexture?1:0),z&&($*=-1,V+=s),y&&(ba*=-1,ca+=t);var da=V+$,ea=ca+ba;T.applyITRS(q,r,x,u,v),S.copyFrom(P.matrix),Q?(S.multiplyWithOffset(Q,-P.scrollX*A,-P.scrollY*D),T.e=q,T.f=r,S.multiply(T,U)):(T.e-=P.scrollX*A,T.f-=P.scrollY*D,S.multiply(T,U));var fa=U.getX(V,ca),ha=U.getY(V,ca),ia=U.getX(V,ea),ja=U.getY(V,ea),ka=U.getX(da,ea),la=U.getY(da,ea),ma=U.getX(da,ca),na=U.getY(da,ca);P.roundPixels&&(fa=Math.round(fa),ha=Math.round(ha),ia=Math.round(ia),ja=Math.round(ja),ka=Math.round(ka),la=Math.round(la),ma=Math.round(ma),na=Math.round(na)),this.setTexture2D(m,0),this.batchQuad(fa,ha,ia,ja,ka,la,ma,na,_,Z,X,Y,B,E,K,G,L,m,0)},batchTextureFrame:function(k,m,n,p,q,r,s){this.renderer.setPipeline(this);var t=this._tempMatrix1.copyFrom(r),u=this._tempMatrix2,v=m+k.width,x=n+k.height;s?t.multiply(s,u):u=t;var z=u.getX(m,n),y=u.getY(m,n),A=u.getX(m,x),D=u.getY(m,x),F=u.getX(v,x),H=u.getY(v,x),I=u.getX(v,n),N=u.getY(v,n);this.setTexture2D(k.glTexture,0),p=j.getTintAppendFloatAlpha(p,q),this.batchQuad(z,y,A,D,F,H,I,N,k.u0,k.v0,k.u1,k.v1,p,p,p,p,0,k.glTexture,0)},drawFillRect:function(k,m,n,p,q,r){var s=k+n,t=m+p;this.setTexture2D();var u=j.getTintAppendFloatAlphaAndSwap(q,r);this.batchQuad(k,m,k,t,s,t,s,m,0,0,1,1,u,u,u,u,2)},batchFillRect:function(k,m,n,p,q,r){this.renderer.setPipeline(this);var s=this._tempMatrix3;r&&r.multiply(q,s);var t=k+n,u=m+p,v=s.getX(k,m),x=s.getY(k,m),z=s.getX(k,u),y=s.getY(k,u),A=s.getX(t,u),D=s.getY(t,u),F=s.getX(t,m),H=s.getY(t,m),I=this.currentFrame,N=I.u0,J=I.v0,C=I.u1,B=I.v1;this.batchQuad(v,x,z,y,A,D,F,H,N,J,C,B,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(k,m,n,p,q,r,s,t){this.renderer.setPipeline(this);var u=this._tempMatrix3;t&&t.multiply(s,u);var v=u.getX(k,m),x=u.getY(k,m),z=u.getX(n,p),y=u.getY(n,p),A=u.getX(q,r),D=u.getY(q,r),F=this.currentFrame,H=F.u0,I=F.v0,N=F.u1,J=F.v1;this.batchTri(v,x,z,y,A,D,H,I,N,J,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(k,m,n,p,q,r,s,t,u){var v=this.tempTriangle;v[0].x=k,v[0].y=m,v[0].width=s,v[1].x=n,v[1].y=p,v[1].width=s,v[2].x=q,v[2].y=r,v[2].width=s,v[3].x=k,v[3].y=m,v[3].width=s,this.batchStrokePath(v,s,!1,t,u)},batchFillPath:function(k,m,n){this.renderer.setPipeline(this);var p=this._tempMatrix3;n&&n.multiply(m,p);for(var q=k.length,r=this.polygonCache,s,t,u=this.fillTint.TL,v=this.fillTint.TR,x=this.fillTint.BL,z=this.tintEffect,y=0;y<q;++y)t=k[y],r.push(t.x,t.y);s=l(r),q=s.length;for(var A=this.currentFrame,D=0;D<q;D+=3){var F=s[D+0]*2,H=s[D+1]*2,I=s[D+2]*2,N=r[F+0],J=r[F+1],C=r[H+0],B=r[H+1],E=r[I+0],K=r[I+1],G=p.getX(N,J),L=p.getY(N,J),M=p.getX(C,B),O=p.getY(C,B),P=p.getX(E,K),Q=p.getY(E,K),R=A.u0,S=A.v0,T=A.u1,U=A.v1;this.batchTri(G,L,M,O,P,Q,R,S,T,U,u,v,x,z)}r.length=0},batchStrokePath:function(k,m,n,p,q){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var r=k.length-1,s=0;s<r;s++){var t=k[s],u=k[s+1];this.batchLine(t.x,t.y,u.x,u.y,t.width/2,u.width/2,m,s,!n&&s===r-1,p,q)}},batchLine:function(k,m,n,p,q,r,s,t,u,v,x){this.renderer.setPipeline(this);var z=this._tempMatrix3;x&&x.multiply(v,z);var y=n-k,A=p-m,D=Math.sqrt(y*y+A*A),F=q*(p-m)/D,H=q*(k-n)/D,I=r*(p-m)/D,N=r*(k-n)/D,J=n-I,C=p-N,B=k-F,E=m-H,K=n+I,G=p+N,L=k+F,M=m+H,O=z.getX(J,C),P=z.getY(J,C),Q=z.getX(B,E),R=z.getY(B,E),S=z.getX(K,G),T=z.getY(K,G),U=z.getX(L,M),_=z.getY(L,M),Z=this.strokeTint,X=this.tintEffect,Y=Z.TL,$=Z.TR,ba=Z.BL,V=Z.BR,ca=this.currentFrame,W=ca.u0,aa=ca.v0,ga=ca.u1,da=ca.v1;this.batchQuad(U,_,Q,R,O,P,S,T,W,aa,ga,da,Y,$,ba,V,X);if(s<=2)return;var ea=this.prevQuad,fa=this.firstQuad;t>0&&ea[4]?this.batchQuad(U,_,Q,R,ea[0],ea[1],ea[2],ea[3],W,aa,ga,da,Y,$,ba,V,X):(fa[0]=U,fa[1]=_,fa[2]=Q,fa[3]=R,fa[4]=1),u&&fa[4]?this.batchQuad(O,P,S,T,fa[0],fa[1],fa[2],fa[3],W,aa,ga,da,Y,$,ba,V,X):(ea[0]=O,ea[1]=P,ea[2]=S,ea[3]=T,ea[4]=1)}});o.exports=h},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var d=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(d,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(d,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(d,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var d=this.modelMatrix;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(d,l,i){var b=this.modelMatrix;return b[0]=b[0]*d,b[1]=b[1]*d,b[2]=b[2]*d,b[3]=b[3]*d,b[4]=b[4]*l,b[5]=b[5]*l,b[6]=b[6]*l,b[7]=b[7]*l,b[8]=b[8]*i,b[9]=b[9]*i,b[10]=b[10]*i,b[11]=b[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(d,l,i){var b=this.modelMatrix;return b[12]=b[0]*d+b[4]*l+b[8]*i+b[12],b[13]=b[1]*d+b[5]*l+b[9]*i+b[13],b[14]=b[2]*d+b[6]*l+b[10]*i+b[14],b[15]=b[3]*d+b[7]*l+b[11]*i+b[15],this.modelMatrixDirty=!0,this},modelRotateX:function(d){var l=this.modelMatrix,i=Math.sin(d),b=Math.cos(d),f=l[4],e=l[5],c=l[6],j=l[7],g=l[8],h=l[9],k=l[10],m=l[11];return l[4]=f*b+g*i,l[5]=e*b+h*i,l[6]=c*b+k*i,l[7]=j*b+m*i,l[8]=g*b-f*i,l[9]=h*b-e*i,l[10]=k*b-c*i,l[11]=m*b-j*i,this.modelMatrixDirty=!0,this},modelRotateY:function(d){var l=this.modelMatrix,i=Math.sin(d),b=Math.cos(d),f=l[0],e=l[1],c=l[2],j=l[3],g=l[8],h=l[9],k=l[10],m=l[11];return l[0]=f*b-g*i,l[1]=e*b-h*i,l[2]=c*b-k*i,l[3]=j*b-m*i,l[8]=f*i+g*b,l[9]=e*i+h*b,l[10]=c*i+k*b,l[11]=j*i+m*b,this.modelMatrixDirty=!0,this},modelRotateZ:function(d){var l=this.modelMatrix,i=Math.sin(d),b=Math.cos(d),f=l[0],e=l[1],c=l[2],j=l[3],g=l[4],h=l[5],k=l[6],m=l[7];return l[0]=f*b+g*i,l[1]=e*b+h*i,l[2]=c*b+k*i,l[3]=j*b+m*i,l[4]=g*b-f*i,l[5]=h*b-e*i,l[6]=k*b-c*i,l[7]=m*b-j*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var d=this.viewMatrix;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(d,l,i){var b=this.viewMatrix;return b[0]=b[0]*d,b[1]=b[1]*d,b[2]=b[2]*d,b[3]=b[3]*d,b[4]=b[4]*l,b[5]=b[5]*l,b[6]=b[6]*l,b[7]=b[7]*l,b[8]=b[8]*i,b[9]=b[9]*i,b[10]=b[10]*i,b[11]=b[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(d,l,i){var b=this.viewMatrix;return b[12]=b[0]*d+b[4]*l+b[8]*i+b[12],b[13]=b[1]*d+b[5]*l+b[9]*i+b[13],b[14]=b[2]*d+b[6]*l+b[10]*i+b[14],b[15]=b[3]*d+b[7]*l+b[11]*i+b[15],this.viewMatrixDirty=!0,this},viewRotateX:function(d){var l=this.viewMatrix,i=Math.sin(d),b=Math.cos(d),f=l[4],e=l[5],c=l[6],j=l[7],g=l[8],h=l[9],k=l[10],m=l[11];return l[4]=f*b+g*i,l[5]=e*b+h*i,l[6]=c*b+k*i,l[7]=j*b+m*i,l[8]=g*b-f*i,l[9]=h*b-e*i,l[10]=k*b-c*i,l[11]=m*b-j*i,this.viewMatrixDirty=!0,this},viewRotateY:function(d){var l=this.viewMatrix,i=Math.sin(d),b=Math.cos(d),f=l[0],e=l[1],c=l[2],j=l[3],g=l[8],h=l[9],k=l[10],m=l[11];return l[0]=f*b-g*i,l[1]=e*b-h*i,l[2]=c*b-k*i,l[3]=j*b-m*i,l[8]=f*i+g*b,l[9]=e*i+h*b,l[10]=c*i+k*b,l[11]=j*i+m*b,this.viewMatrixDirty=!0,this},viewRotateZ:function(d){var l=this.viewMatrix,i=Math.sin(d),b=Math.cos(d),f=l[0],e=l[1],c=l[2],j=l[3],g=l[4],h=l[5],k=l[6],m=l[7];return l[0]=f*b+g*i,l[1]=e*b+h*i,l[2]=c*b+k*i,l[3]=j*b+m*i,l[4]=g*b-f*i,l[5]=h*b-e*i,l[6]=k*b-c*i,l[7]=m*b-j*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(d){var l=this.viewMatrix;return l[0]=d[0],l[1]=d[1],l[2]=0,l[3]=0,l[4]=d[2],l[5]=d[3],l[6]=0,l[7]=0,l[8]=d[4],l[9]=d[5],l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(d){var l=this.viewMatrix;return l[0]=d[0],l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=d[6],l[7]=d[7],l[8]=d[8],l[9]=d[9],l[10]=d[10],l[11]=d[11],l[12]=d[12],l[13]=d[13],l[14]=d[14],l[15]=d[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var d=this.projectionMatrix;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(d,l,i,b,f,e){var c=this.projectionMatrix,j=1/(d-l),g=1/(i-b),h=1/(f-e);return c[0]=-2*j,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*g,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*h,c[11]=0,c[12]=(d+l)*j,c[13]=(b+i)*g,c[14]=(e+f)*h,c[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(d,l,i,b){var f=this.projectionMatrix,e=1/Math.tan(d/2),c=1/(i-b);return f[0]=e/l,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=e,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=(b+i)*c,f[11]=-1,f[12]=0,f[13]=0,f[14]=2*b*i*c,f[15]=0,this.projectionMatrixDirty=!0,this}};o.exports=a},function(o,w,a){var d={};o.exports=d;var l=a(240);(function(){d._motionWakeThreshold=.18,d._motionSleepThreshold=.08,d._minBias=.9,d.update=function(i,b){for(var f=b*b*b,e=0;e<i.length;e++){var c=i[e],j=c.speed*c.speed+c.angularSpeed*c.angularSpeed;if(c.force.x!==0||c.force.y!==0){d.set(c,!1);continue}var g=Math.min(c.motion,j),h=Math.max(c.motion,j);c.motion=d._minBias*g+(1-d._minBias)*h,c.sleepThreshold>0&&c.motion<d._motionSleepThreshold*f?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold&&d.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},d.afterCollisions=function(i,b){for(var f=b*b*b,e=0;e<i.length;e++){var c=i[e];if(!c.isActive)continue;var j=c.collision,g=j.bodyA.parent,h=j.bodyB.parent;if(g.isSleeping&&h.isSleeping||g.isStatic||h.isStatic)continue;if(g.isSleeping||h.isSleeping){var k=g.isSleeping&&!g.isStatic?g:h,m=k===g?h:g;!k.isStatic&&m.motion>d._motionWakeThreshold*f&&d.set(k,!1)}}},d.set=function(i,b){var f=i.isSleeping;b?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,f||l.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,f&&l.trigger(i,"sleepEnd"))}})()},function(o,w,a){var d={};o.exports=d;var l=a(42);(function(){d.on=function(i,b,f){for(var e=b.split(" "),c,j=0;j<e.length;j++)c=e[j],i.events=i.events||{},i.events[c]=i.events[c]||[],i.events[c].push(f);return f},d.off=function(i,b,f){if(!b){i.events={};return}typeof b==="function"&&(f=b,b=l.keys(i.events).join(" "));for(var e=b.split(" "),c=0;c<e.length;c++){var j=i.events[e[c]],g=[];if(f&&j)for(var h=0;h<j.length;h++)j[h]!==f&&g.push(j[h]);i.events[e[c]]=g}},d.trigger=function(i,b,f){var e,c,j,g,h=i.events;if(h&&l.keys(h).length>0){f||(f={}),e=b.split(" ");for(var k=0;k<e.length;k++){c=e[k],j=h[c];if(j){g=l.clone(f,!1),g.name=c,g.source=i;for(var m=0;m<j.length;m++)j[m].apply(i,[g])}}}}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AlignTo:a(527),Angle:a(528),Call:a(529),GetFirst:a(530),GetLast:a(531),GridAlign:a(532),IncAlpha:a(593),IncX:a(594),IncXY:a(595),IncY:a(596),PlaceOnCircle:a(597),PlaceOnEllipse:a(598),PlaceOnLine:a(599),PlaceOnRectangle:a(600),PlaceOnTriangle:a(601),PlayAnimation:a(602),PropertyValueInc:a(38),PropertyValueSet:a(25),RandomCircle:a(603),RandomEllipse:a(604),RandomLine:a(605),RandomRectangle:a(606),RandomTriangle:a(607),Rotate:a(608),RotateAround:a(609),RotateAroundDistance:a(610),ScaleX:a(611),ScaleXY:a(612),ScaleY:a(613),SetAlpha:a(614),SetBlendMode:a(615),SetDepth:a(616),SetHitArea:a(617),SetOrigin:a(618),SetRotation:a(619),SetScale:a(620),SetScaleX:a(621),SetScaleY:a(622),SetScrollFactor:a(623),SetScrollFactorX:a(624),SetScrollFactorY:a(625),SetTint:a(626),SetVisible:a(627),SetX:a(628),SetXY:a(629),SetY:a(630),ShiftPosition:a(631),Shuffle:a(632),SmootherStep:a(633),SmoothStep:a(634),Spread:a(635),ToggleVisible:a(636),WrapInRectangle:a(637)}},function(o,w,a){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(105),l=[];l[d.BOTTOM_CENTER]=a(243),l[d.BOTTOM_LEFT]=a(244),l[d.BOTTOM_RIGHT]=a(245),l[d.LEFT_BOTTOM]=a(246),l[d.LEFT_CENTER]=a(247),l[d.LEFT_TOP]=a(248),l[d.RIGHT_BOTTOM]=a(249),l[d.RIGHT_CENTER]=a(250),l[d.RIGHT_TOP]=a(251),l[d.TOP_CENTER]=a(252),l[d.TOP_LEFT]=a(253),l[d.TOP_RIGHT]=a(254);var i=function(b,f,e,c,j){return l[e](b,f,c,j)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(76),i=a(77),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,l(c)+j),b(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(35),i=a(44),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,l(c)-j),b(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(36),i=a(45),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,l(c)+j),b(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(35),i=a(46),b=a(45),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)-j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(78),l=a(35),i=a(79),b=a(45),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)-j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(35),l=a(37),i=a(45),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,d(c)-j),b(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(36),i=a(46),b=a(44),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)+j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(78),l=a(36),i=a(79),b=a(44),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)+j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(36),l=a(37),i=a(44),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,d(c)+j),b(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(76),l=a(37),i=a(46),b=a(77),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,d(c)+j),i(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(35),l=a(37),i=a(46),b=a(44),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,d(c)-j),i(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(36),l=a(37),i=a(46),b=a(45),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,d(c)+j),i(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(105),l=[];l[d.BOTTOM_CENTER]=a(256),l[d.BOTTOM_LEFT]=a(257),l[d.BOTTOM_RIGHT]=a(258),l[d.CENTER]=a(259),l[d.LEFT_CENTER]=a(261),l[d.RIGHT_CENTER]=a(262),l[d.TOP_CENTER]=a(263),l[d.TOP_LEFT]=a(264),l[d.TOP_RIGHT]=a(265),l[d.LEFT_BOTTOM]=l[d.BOTTOM_LEFT],l[d.LEFT_TOP]=l[d.TOP_LEFT],l[d.RIGHT_BOTTOM]=l[d.BOTTOM_RIGHT],l[d.RIGHT_TOP]=l[d.TOP_RIGHT];var i=function(b,f,e,c,j){return l[e](b,f,c,j)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(76),i=a(46),b=a(77),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)+j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(35),i=a(46),b=a(44),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)-j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(36),i=a(46),b=a(45),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)+j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(260),l=a(76),i=a(78),b=function(f,e,c,j){return c===void 0&&(c=0),j===void 0&&(j=0),d(f,l(e)+c,i(e)+j),f};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(77),l=a(79),i=function(b,f,e){return d(b,f),l(b,e)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(78),l=a(35),i=a(79),b=a(44),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)-j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(78),l=a(36),i=a(79),b=a(45),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),b(e,l(c)+j),i(e,d(c)+g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(76),l=a(37),i=a(77),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,d(c)+j),b(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(35),l=a(37),i=a(44),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,d(c)-j),b(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(36),l=a(37),i=a(45),b=a(43),f=function(e,c,j,g){return j===void 0&&(j=0),g===void 0&&(g=0),i(e,d(c)+j),b(e,l(c)-g),e};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(149),l=a(87),i=a(13),b=a(4),f=function(e,c,j){j===void 0&&(j=new b());var g=l(c,0,i.PI2);return d(e,g,j)};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(268),l=a(149),i=a(87),b=a(13),f=function(e,c,j,g){g===void 0&&(g=[]),!c&&j>0&&(c=d(e)/j);for(var h=0;h<c;h++){var k=i(h/c,0,b.PI2);g.push(l(e,k))}return g};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return 2*(Math.PI*d.radius)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=2,i={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(b){return b===void 0&&(b=1),this.alpha=b,this},alpha:{get:function(){return this._alpha},set:function(b){var f=d(b,0,1);this._alpha=f,f===0?this.renderFlags&=~l:this.renderFlags|=l}}};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(l.length){if(l.length===1)return l[0]}else return NaN;var b=1,f,e;if(i){if(d<l[0][i])return l[0];for(;l[b][i]<d;)b++}else for(;l[b]<d;)b++;return b>l.length&&(b=l.length),i?(f=l[b-1][i],e=l[b][i],e-d<=d-f?l[b]:l[b-1]):(f=l[b-1],e=l[b],e-d<=d-f?e:f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c){this.textureKey=b,this.textureFrame=f,this.index=e,this.frame=c,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(52),l={_blendMode:d.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(i){typeof i==="string"&&(i=d[i]),i|=0,i>=-1&&(this._blendMode=i)}},setBlendMode:function(i){return this.blendMode=i,this}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={_depth:0,depth:{get:function(){return this._depth},set:function(d){this.scene.sys.queueDepthSort(),this._depth=d}},setDepth:function(d){return d===void 0&&(d=0),this.depth=d,this}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(152),l=a(112),i=function(b,f,e,c){c===void 0&&(c=[]),!f&&e>0&&(f=l(b)/e);for(var j=0;j<f;j++){var g=j/f;c.push(d(b,g))}return c};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f){return f===void 0&&(f=new d()),f.x=i.x1+(i.x2-i.x1)*b,f.y=i.y1+(i.y2-i.y1)*b,f};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=Math.cos(b),e=Math.sin(b),c=d.x-l,j=d.y-i;return d.x=c*f-j*e+l,d.y=c*e+j*f+i,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(278),l=a(279),i={mask:null,setMask:function(b){return this.mask=b,this},clearMask:function(b){return b===void 0&&(b=!1),b&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(b){return b===void 0&&(this.texture||this.shader)&&(b=this),new d(this.scene,b)},createGeometryMask:function(b){return b===void 0&&this.type==="Graphics"&&(b=this),new l(this.scene,b)}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(20),i=new d({initialize:function b(f,e){var c=f.sys.game.renderer;this.renderer=c,this.bitmapMask=e,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1;if(c&&c.gl){var j=c.width,g=c.height,h=(j&j-1)===0&&(g&g-1)===0,k=c.gl,m=h?k.REPEAT:k.CLAMP_TO_EDGE,n=k.LINEAR;this.mainTexture=c.createTexture2D(0,n,n,m,m,k.RGBA,null,j,g),this.maskTexture=c.createTexture2D(0,n,n,m,m,k.RGBA,null,j,g),this.mainFramebuffer=c.createFramebuffer(j,g,this.mainTexture,!0),this.maskFramebuffer=c.createFramebuffer(j,g,this.maskTexture,!0),f.sys.game.events.on(l.CONTEXT_RESTORED,function(p){var q=p.width,r=p.height,s=(q&q-1)===0&&(r&r-1)===0,t=p.gl,u=s?t.REPEAT:t.CLAMP_TO_EDGE,v=t.LINEAR;this.mainTexture=p.createTexture2D(0,v,v,u,u,t.RGBA,null,q,r),this.maskTexture=p.createTexture2D(0,v,v,u,u,t.RGBA,null,q,r),this.mainFramebuffer=p.createFramebuffer(q,r,this.mainTexture,!0),this.maskFramebuffer=p.createFramebuffer(q,r,this.maskTexture,!0)},this)}},setBitmap:function(b){this.bitmapMask=b},preRenderWebGL:function(b,f,e){b.pipelines.BitmapMaskPipeline.beginMask(this,f,e)},postRenderWebGL:function(b,f){b.pipelines.BitmapMaskPipeline.endMask(this,f)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var b=this.renderer;b&&b.gl&&(b.deleteTexture(this.mainTexture),b.deleteTexture(this.maskTexture),b.deleteFramebuffer(this.mainFramebuffer),b.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.renderer=null}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f){this.geometryMask=f,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(i){return this.geometryMask=i,this},setInvertAlpha:function(i){return i===void 0&&(i=!0),this.invertAlpha=i,this},preRenderWebGL:function(i,b,f){var e=i.gl;i.flush(),i.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),i.maskCount=0),i.currentCameraMask.mask!==this&&(i.currentMask.mask=this),i.maskStack.push({mask:this,camera:f}),this.applyStencil(i,f,!0),i.maskCount++},applyStencil:function(i,b,f){var e=i.gl,c=this.geometryMask,j=i.maskCount;e.colorMask(!1,!1,!1,!1),f?(e.stencilFunc(e.EQUAL,j,255),e.stencilOp(e.KEEP,e.KEEP,e.INCR)):(e.stencilFunc(e.EQUAL,j+1,255),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),c.renderWebGL(i,c,0,b),i.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),f?this.invertAlpha?e.stencilFunc(e.NOTEQUAL,j+1,255):e.stencilFunc(e.EQUAL,j+1,255):this.invertAlpha?e.stencilFunc(e.NOTEQUAL,j,255):e.stencilFunc(e.EQUAL,j,255)},postRenderWebGL:function(i){var b=i.gl;i.maskStack.pop(),i.maskCount--;if(i.maskStack.length===0)i.flush(),i.currentMask.mask=null,b.disable(b.STENCIL_TEST);else{i.flush();var f=i.maskStack[i.maskStack.length-1];f.mask.applyStencil(i,f.camera,!1),i.currentCameraMask.mask!==f.mask?(i.currentMask.mask=f.mask,i.currentMask.camera=f.camera):i.currentMask.mask=null}},preRenderCanvas:function(i,b,f){var e=this.geometryMask;i.currentContext.save(),e.renderCanvas(i,e,0,f,null,null,!0),i.currentContext.clip()},postRenderCanvas:function(i){i.currentContext.restore()},destroy:function(){this.geometryMask=null}});o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(d,l){return l===void 0&&(l=d),this.scrollFactorX=d,this.scrollFactorY=l,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l={name:d.name,type:d.type,x:d.x,y:d.y,depth:d.depth,scale:{x:d.scaleX,y:d.scaleY},origin:{x:d.originX,y:d.originY},flipX:d.flipX,flipY:d.flipY,rotation:d.rotation,alpha:d.alpha,visible:d.visible,blendMode:d.blendMode,textureKey:"",frameKey:"",data:{}};return d.texture&&(l.textureKey=d.texture.key,l.frameKey=d.frame.name),l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=a(29),i=a(235),b=a(236),f=4,e={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(c){this._scaleX=c,this._scaleY=c,c===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(c){this._scaleX=c,c===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleY:{get:function(){return this._scaleY},set:function(c){this._scaleY=c,c===0?this.renderFlags&=~f:this.renderFlags|=f}},angle:{get:function(){return b(this._rotation*d.RAD_TO_DEG)},set:function(c){this.rotation=b(c)*d.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=i(c)}},setPosition:function(c,j,g,h){return c===void 0&&(c=0),j===void 0&&(j=c),g===void 0&&(g=0),h===void 0&&(h=0),this.x=c,this.y=j,this.z=g,this.w=h,this},setRandomPosition:function(c,j,g,h){return c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),this.x=c+Math.random()*g,this.y=j+Math.random()*h,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setAngle:function(c){return c===void 0&&(c=0),this.angle=c,this},setScale:function(c,j){return c===void 0&&(c=1),j===void 0&&(j=c),this.scaleX=c,this.scaleY=j,this},setX:function(c){return c===void 0&&(c=0),this.x=c,this},setY:function(c){return c===void 0&&(c=0),this.y=c,this},setZ:function(c){return c===void 0&&(c=0),this.z=c,this},setW:function(c){return c===void 0&&(c=0),this.w=c,this},getLocalTransformMatrix:function(c){return c===void 0&&(c=new l()),c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(c,j){c===void 0&&(c=new l()),j===void 0&&(j=new l());var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(c);for(c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)j.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),j.multiply(c,c),g=g.parentContainer;return c},getParentRotation:function(){for(var c=0,j=this.parentContainer;j;)c+=j.rotation,j=j.parentContainer;return c}};o.exports=e},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=1,d={_visible:!0,visible:{get:function(){return this._visible},set:function(l){l?(this._visible=!0,this.renderFlags|=a):(this._visible=!1,this.renderFlags&=~a)}},setVisible:function(l){return this.visible=l,this}};o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CHANGE_DATA:a(578),CHANGE_DATA_KEY:a(579),REMOVE_DATA:a(580),SET_DATA:a(581)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(112),l=a(4),i=function(b,f,e,c){c===void 0&&(c=[]);if(!f&&!e)return c;f?e=Math.round(d(b)/f):f=d(b)/e;for(var j=b.x,g=b.y,h=0,k=0;k<e;k++){c.push(new l(j,g));switch(h){case 0:j+=f,j>=b.right&&(h=1,g+=j-b.right,j=b.right);break;case 1:g+=f,g>=b.bottom&&(h=2,j-=g-b.bottom,g=b.bottom);break;case 2:j-=f,j<=b.left&&(h=3,g-=b.left-j,j=b.left);break;case 3:g-=f,g<=b.top&&(h=0,g=b.top);break}}return c};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=1);for(var i=null,b=0;b<l;b++)i=d.shift(),d.push(i);return i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=1);for(var i=null,b=0;b<l;b++)i=d.pop(),d.unshift(i);return i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=1),i===void 0&&(i=[]);var b=Math.round(d.x1),f=Math.round(d.y1),e=Math.round(d.x2),c=Math.round(d.y2),j=Math.abs(e-b),g=Math.abs(c-f),h=b<e?1:-1,k=f<c?1:-1,m=j-g;i.push({x:b,y:f});for(var n=1;!(b===e&&f===c);){var p=m<<1;p>-g&&(m-=g,b+=h),p<j&&(m+=j,f+=k),n%l===0&&i.push({x:b,y:f}),n++}return i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(151),l=a(0),i=a(162),b=a(10),f=a(111),e=a(20),c=a(6),j=a(163),g=new l({Extends:b,initialize:function h(k){b.call(this),this.game=k,this.textureManager=null,this.globalTimeScale=1,this.anims=new i(),this.paused=!1,this.name="AnimationManager",k.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},add:function(h,k){return this.anims.has(h)?(console.warn("Animation key exists: "+h),this):(k.key=h,this.anims.set(h,k),this.emit(f.ADD_ANIMATION,h,k),this)},exists:function(h){return this.anims.has(h)},create:function(h){var k=h.key,m=!1;return k&&(m=this.get(k),m||(m=new d(this,k,h),this.anims.set(k,m),this.emit(f.ADD_ANIMATION,k,m))),m},fromJSON:function(h,k){k===void 0&&(k=!1),k&&this.anims.clear(),typeof h==="string"&&(h=JSON.parse(h));var m=[];if(h.hasOwnProperty("anims")&&Array.isArray(h.anims)){for(var n=0;n<h.anims.length;n++)m.push(this.create(h.anims[n]));h.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=h.globalTimeScale)}else h.hasOwnProperty("key")&&h.type==="frame"&&m.push(this.create(h));return m},generateFrameNames:function(h,k){var m=c(k,"prefix",""),n=c(k,"start",0),p=c(k,"end",0),q=c(k,"suffix",""),r=c(k,"zeroPad",0),s=c(k,"outputArray",[]),t=c(k,"frames",!1),u=this.textureManager.get(h);if(!u)return s;var v=n<p?1:-1;p+=v;var x,z;if(k)if(Array.isArray(t))for(x=0;x<t.length;x++)z=m+j(t[x],r,"0",1)+q,u.has(z)&&s.push({key:h,frame:z});else for(x=n;x!==p;x+=v)z=m+j(x,r,"0",1)+q,u.has(z)&&s.push({key:h,frame:z});else for(t=u.getFrameNames(),x=0;x<t.length;x++)s.push({key:h,frame:t[x]});return s},generateFrameNumbers:function(h,k){var m=c(k,"start",0),n=c(k,"end",-1),p=c(k,"first",!1),q=c(k,"outputArray",[]),r=c(k,"frames",!1),s=this.textureManager.get(h);if(!s)return q;p&&s.has(p)&&q.push({key:h,frame:p});var t;if(Array.isArray(r))for(t=0;t<r.length;t++)s.has(r[t])&&q.push({key:h,frame:r[t]});else{n===-1&&(n=s.frameTotal);var u=m<n?1:-1;for(n+=u,t=m;t!==n;t+=u)s.has(t)&&q.push({key:h,frame:t})}return q},get:function(h){return this.anims.get(h)},load:function(h,k,m){var n=this.get(k);return n?n.load(h,m):console.warn("Missing animation: "+k),h},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(f.PAUSE_ALL)),this},play:function(h,k){Array.isArray(k)||(k=[k]);var m=this.get(h);if(!m)return this;for(var n=0;n<k.length;n++)k[n].anims.play(h);return this},remove:function(h){var k=this.get(h);return k&&(this.emit(f.REMOVE_ANIMATION,h,k),this.anims.delete(h)),k},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(f.RESUME_ALL)),this},staggerPlay:function(h,k,m){m===void 0&&(m=0),Array.isArray(k)||(k=[k]);var n=this.get(h);if(!n)return this;for(var p=0;p<k.length;p++)k[p].anims.delayedPlay(m*p,h);return this},toJSON:function(h){var k={anims:[],globalTimeScale:this.globalTimeScale};return h!==void 0&&h!==""?k.anims.push(this.anims.get(h).toJSON()):this.anims.each(function(m,n){k.anims.push(n.toJSON())}),k},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(162),i=a(10),b=a(291),f=new d({initialize:function e(){this.entries=new l(),this.events=new i()},add:function(e,c){return this.entries.set(e,c),this.events.emit(b.ADD,this,e,c),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var c=this.get(e);return c&&(this.entries.delete(e),this.events.emit(b.REMOVE,this,e,c.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:a(640),REMOVE:a(641)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(290),l=a(0),i=a(20),b=new l({initialize:function f(e){this.game=e,this.binary=new d(),this.bitmapFont=new d(),this.json=new d(),this.physics=new d(),this.shader=new d(),this.audio=new d(),this.video=new d(),this.text=new d(),this.html=new d(),this.obj=new d(),this.tilemap=new d(),this.xml=new d(),this.custom={},this.game.events.once(i.DESTROY,this.destroy,this)},addCustom:function(f){return this.custom.hasOwnProperty(f)||(this.custom[f]=new d()),this.custom[f]},destroy:function(){for(var f=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<f.length;e++)this[f[e]].destroy(),this[f[e]]=null;for(var c in this.custom)this.custom[c].destroy();this.custom=null,this.game=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(91),l=a(26),i=a(168),b=a(19),f=a(0),e=a(12),c=a(301),j=a(116),g=a(11),h=a(3),k=new f({Extends:d,Mixins:[e.Flip,e.Tint],initialize:function m(n,p,q,r){d.call(this,n,p,q,r),this.inputEnabled=!0,this.fadeEffect=new c.Fade(this),this.flashEffect=new c.Flash(this),this.shakeEffect=new c.Shake(this),this.panEffect=new c.Pan(this),this.rotateToEffect=new c.RotateTo(this),this.zoomEffect=new c.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h(),this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.renderToGame=!0,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(m,n){n===void 0&&(n=!0);var p=this.scene.sys.game.renderer;return p.gl?(this.glTexture=p.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=p.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=l.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,this.renderToGame=n,m&&this.setPipeline(m),this},setPipeline:function(m){if(typeof m==="string"){var n=this.scene.sys.game.renderer;n.gl&&n.hasPipeline(m)&&(this.pipeline=n.getPipeline(m))}else this.pipeline=m;return this},clearRenderToTexture:function(){if(!this.scene)return;var m=this.scene.sys.game.renderer;return m?(m.gl?(this.framebuffer&&m.deleteFramebuffer(this.framebuffer),this.glTexture&&m.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(l.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this):void 0},setDeadzone:function(m,n){if(m===void 0)this.deadzone=null;else{this.deadzone?(this.deadzone.width=m,this.deadzone.height=n):this.deadzone=new g(0,0,m,n);if(this._follow){var p=this.width/2,q=this.height/2,r=this._follow.x-this.followOffset.x,s=this._follow.y-this.followOffset.y;this.midPoint.set(r,s),this.scrollX=r-p,this.scrollY=s-q}i(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,n,p,q,r,s){return this.fadeEffect.start(!1,m,n,p,q,!0,r,s)},fadeOut:function(m,n,p,q,r,s){return this.fadeEffect.start(!0,m,n,p,q,!0,r,s)},fadeFrom:function(m,n,p,q,r,s,t){return this.fadeEffect.start(!1,m,n,p,q,r,s,t)},fade:function(m,n,p,q,r,s,t){return this.fadeEffect.start(!0,m,n,p,q,r,s,t)},flash:function(m,n,p,q,r,s,t){return this.flashEffect.start(m,n,p,q,r,s,t)},shake:function(m,n,p,q,r){return this.shakeEffect.start(m,n,p,q,r)},pan:function(m,n,p,q,r,s,t){return this.panEffect.start(m,n,p,q,r,s,t)},rotateTo:function(m,n,p,q,r,s,t){return this.rotateToEffect.start(m,n,p,q,r,s,t)},zoomTo:function(m,n,p,q,r,s){return this.zoomEffect.start(m,n,p,q,r,s)},preRender:function(m){var n=this.width,p=this.height,q=n*.5,r=p*.5,s=this.zoom*m,t=this.matrix,u=n*this.originX,v=p*this.originY,x=this._follow,z=this.deadzone,y=this.scrollX,A=this.scrollY;z&&i(z,this.midPoint.x,this.midPoint.y);if(x&&!this.panEffect.isRunning){var D=x.x-this.followOffset.x,F=x.y-this.followOffset.y;z?(D<z.x?y=j(y,y-(z.x-D),this.lerp.x):D>z.right&&(y=j(y,y+(D-z.right),this.lerp.x)),F<z.y?A=j(A,A-(z.y-F),this.lerp.y):F>z.bottom&&(A=j(A,A+(F-z.bottom),this.lerp.y))):(y=j(y,D-u,this.lerp.x),A=j(A,F-v,this.lerp.y))}this.useBounds&&(y=this.clampX(y),A=this.clampY(A)),this.roundPixels&&(u=Math.round(u),v=Math.round(v)),this.scrollX=y,this.scrollY=A;var H=y+q,I=A+r;this.midPoint.set(H,I);var N=n/s,J=p/s;this.worldView.setTo(H-N/2,I-J/2,N,J),t.applyITRS(this.x+u,this.y+v,this.rotation,s,s),t.translate(-u,-v),this.shakeEffect.preRender()},setLerp:function(m,n){return m===void 0&&(m=1),n===void 0&&(n=m),this.lerp.set(m,n),this},setFollowOffset:function(m,n){return m===void 0&&(m=0),n===void 0&&(n=0),this.followOffset.set(m,n),this},startFollow:function(m,n,p,q,r,s){n===void 0&&(n=!1),p===void 0&&(p=1),q===void 0&&(q=p),r===void 0&&(r=0),s===void 0&&(s=r),this._follow=m,this.roundPixels=n,p=b(p,0,1),q=b(q,0,1),this.lerp.set(p,q),this.followOffset.set(r,s);var t=this.width/2,u=this.height/2,v=m.x-r,x=m.y-s;return this.midPoint.set(v,x),this.scrollX=v-t,this.scrollY=x-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,n){this.visible&&(this.rotateToEffect.update(m,n),this.panEffect.update(m,n),this.zoomEffect.update(m,n),this.shakeEffect.update(m,n),this.flashEffect.update(m,n),this.fadeEffect.update(m,n))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),d.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(31),l=function(i){var b=new d();i=i.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(g,h,k,m){return h+h+k+k+m+m});var f=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);if(f){var e=parseInt(f[1],16),c=parseInt(f[2],16),j=parseInt(f[3],16);b.setTo(e,c,j)}return b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return b<<24|d<<16|l<<8|i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){b===void 0&&(b={h:0,s:0,v:0}),d/=255,l/=255,i/=255;var f=Math.min(d,l,i),e=Math.max(d,l,i),c=e-f,j=0,g=e===0?0:c/e,h=e;return e!==f&&(e===d?j=(l-i)/c+(l<i?6:0):e===l?j=(i-d)/c+2:e===i&&(j=(d-l)/c+4),j/=6),b.hasOwnProperty("_h")?(b._h=j,b._s=g,b._v=h):(b.h=j,b.s=g,b.v=h),b};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(31),l=a(298),i=function(b){var f=l(b);return new d(f.r,f.g,f.b,f.a)};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d>16777215?{a:d>>>24,r:d>>16&255,g:d>>8&255,b:d&255}:{a:255,r:d>>16&255,g:d>>8&255,b:d&255}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(31),l=function(i){return new d(i.r,i.g,i.b,i.a)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(31),l=function(i){var b=new d(),f=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(i.toLowerCase());if(f){var e=parseInt(f[1],10),c=parseInt(f[2],10),j=parseInt(f[3],10),g=f[4]!==void 0?parseFloat(f[4]):1;b.setTo(e,c,j,g*255)}return b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Fade:a(664),Flash:a(665),Pan:a(666),Shake:a(699),RotateTo:a(700),Zoom:a(701)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(667),Out:a(668),InOut:a(669)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(670),Out:a(671),InOut:a(672)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(673),Out:a(674),InOut:a(675)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(676),Out:a(677),InOut:a(678)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(679),Out:a(680),InOut:a(681)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(682),Out:a(683),InOut:a(684)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=a(685)},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(686),Out:a(687),InOut:a(688)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(689),Out:a(690),InOut:a(691)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(692),Out:a(693),InOut:a(694)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:a(695),Out:a(696),InOut:a(697)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=a(698)},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(33),i=a(315),b=a(2),f=a(6),e=a(7),c=a(170),j=a(1),g=a(175),h=a(164),k=new d({initialize:function m(n){n===void 0&&(n={});var p=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],q="#ffffff";this.width=f(n,"width",1024),this.height=f(n,"height",768),this.zoom=f(n,"zoom",1),this.resolution=f(n,"resolution",1),this.parent=f(n,"parent",void 0),this.scaleMode=f(n,"scaleMode",0),this.expandParent=f(n,"expandParent",!0),this.autoRound=f(n,"autoRound",!1),this.autoCenter=f(n,"autoCenter",0),this.resizeInterval=f(n,"resizeInterval",500),this.fullscreenTarget=f(n,"fullscreenTarget",null),this.minWidth=f(n,"minWidth",0),this.maxWidth=f(n,"maxWidth",0),this.minHeight=f(n,"minHeight",0),this.maxHeight=f(n,"maxHeight",0);var r=f(n,"scale",null);r&&(this.width=f(r,"width",this.width),this.height=f(r,"height",this.height),this.zoom=f(r,"zoom",this.zoom),this.resolution=f(r,"resolution",this.resolution),this.parent=f(r,"parent",this.parent),this.scaleMode=f(r,"mode",this.scaleMode),this.expandParent=f(r,"expandParent",this.expandParent),this.autoRound=f(r,"autoRound",this.autoRound),this.autoCenter=f(r,"autoCenter",this.autoCenter),this.resizeInterval=f(r,"resizeInterval",this.resizeInterval),this.fullscreenTarget=f(r,"fullscreenTarget",this.fullscreenTarget),this.minWidth=f(r,"min.width",this.minWidth),this.maxWidth=f(r,"max.width",this.maxWidth),this.minHeight=f(r,"min.height",this.minHeight),this.maxHeight=f(r,"max.height",this.maxHeight)),this.renderType=f(n,"type",l.AUTO),this.canvas=f(n,"canvas",null),this.context=f(n,"context",null),this.canvasStyle=f(n,"canvasStyle",null),this.customEnvironment=f(n,"customEnvironment",!1),this.sceneConfig=f(n,"scene",null),this.seed=f(n,"seed",[(Date.now()*Math.random()).toString()]),c.RND=new c.RandomDataGenerator(this.seed),this.gameTitle=f(n,"title",""),this.gameURL=f(n,"url","https://phaser.io"),this.gameVersion=f(n,"version",""),this.autoFocus=f(n,"autoFocus",!0),this.domCreateContainer=f(n,"dom.createContainer",!1),this.domBehindCanvas=f(n,"dom.behindCanvas",!1),this.inputKeyboard=f(n,"input.keyboard",!0),this.inputKeyboardEventTarget=f(n,"input.keyboard.target",window),this.inputKeyboardCapture=f(n,"input.keyboard.capture",[]),this.inputMouse=f(n,"input.mouse",!0),this.inputMouseEventTarget=f(n,"input.mouse.target",null),this.inputMouseCapture=f(n,"input.mouse.capture",!0),this.inputTouch=f(n,"input.touch",i.input.touch),this.inputTouchEventTarget=f(n,"input.touch.target",null),this.inputTouchCapture=f(n,"input.touch.capture",!0),this.inputActivePointers=f(n,"input.activePointers",1),this.inputSmoothFactor=f(n,"input.smoothFactor",0),this.inputWindowEvents=f(n,"input.windowEvents",!0),this.inputGamepad=f(n,"input.gamepad",!1),this.inputGamepadEventTarget=f(n,"input.gamepad.target",window),this.disableContextMenu=f(n,"disableContextMenu",!1),this.audio=f(n,"audio"),this.hideBanner=f(n,"banner",null)===!1,this.hidePhaser=f(n,"banner.hidePhaser",!1),this.bannerTextColor=f(n,"banner.text",q),this.bannerBackgroundColor=f(n,"banner.background",p),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=f(n,"fps",null);var s=f(n,"render",n);this.antialias=f(s,"antialias",!0),this.antialiasGL=f(s,"antialiasGL",!0),this.mipmapFilter=f(s,"mipmapFilter","LINEAR"),this.desynchronized=f(s,"desynchronized",!1),this.roundPixels=f(s,"roundPixels",!1),this.pixelArt=f(s,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=f(s,"transparent",!1),this.clearBeforeRender=f(s,"clearBeforeRender",!0),this.premultipliedAlpha=f(s,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=f(s,"failIfMajorPerformanceCaveat",!1),this.powerPreference=f(s,"powerPreference","default"),this.batchSize=f(s,"batchSize",2e3),this.maxLights=f(s,"maxLights",10);var t=f(n,"backgroundColor",0);this.backgroundColor=h(t),t===0&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=f(n,"callbacks.preBoot",j),this.postBoot=f(n,"callbacks.postBoot",j),this.physics=f(n,"physics",{}),this.defaultPhysicsSystem=f(this.physics,"default",!1),this.loaderBaseURL=f(n,"loader.baseURL",""),this.loaderPath=f(n,"loader.path",""),this.loaderMaxParallelDownloads=f(n,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=f(n,"loader.crossOrigin",void 0),this.loaderResponseType=f(n,"loader.responseType",""),this.loaderAsync=f(n,"loader.async",!0),this.loaderUser=f(n,"loader.user",""),this.loaderPassword=f(n,"loader.password",""),this.loaderTimeout=f(n,"loader.timeout",0),this.loaderWithCredentials=f(n,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var u=f(n,"plugins",null),v=g.DefaultScene;u&&(Array.isArray(u)?this.defaultPlugins=u:e(u)&&(this.installGlobalPlugins=b(u,"global",[]),this.installScenePlugins=b(u,"scene",[]),Array.isArray(u.default)?v=u.default:Array.isArray(u.defaultMerge)&&(v=v.concat(u.defaultMerge)))),this.defaultPlugins=v;var x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=f(n,"images.default",x+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=f(n,"images.missing",x+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=l.WEBGL:window.FORCE_CANVAS&&(this.renderType=l.CANVAS))}});o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={os:a(117),browser:a(118),features:a(169),input:a(730),audio:a(731),video:a(732),fullscreen:a(733),canvasFeatures:a(316)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l={supportInverseAlpha:!1,supportNewBlendModes:!1};function i(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",c="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",j=new Image();return j.onload=function(){var g=new Image();g.onload=function(){var h=d.create(g,6,1),k=h.getContext("2d");k.globalCompositeOperation="multiply",k.drawImage(j,0,0),k.drawImage(g,2,0);if(!k.getImageData(2,0,1,1))return!1;var m=k.getImageData(2,0,1,1).data;d.remove(g),l.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},g.src=e+"/wCKxvRF"+c},j.src=e+"AP804Oa6"+c,!1}function b(){var e=d.create(this,2,1),c=e.getContext("2d");c.fillStyle="rgba(10, 20, 30, 0.5)",c.fillRect(0,0,1,1);var j=c.getImageData(0,0,1,1);if(j===null)return!1;c.putImageData(j,1,0);var g=c.getImageData(1,0,1,1);return g.data[0]===j.data[0]&&g.data[1]===j.data[1]&&g.data[2]===j.data[2]&&g.data[3]===j.data[3]}function f(){return document!==void 0&&(l.supportNewBlendModes=i(),l.supportInverseAlpha=b()),l}o.exports=f()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return Math.atan2(b-l,i-d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return Math.atan2(l.y-d.y,l.x-d.x)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d=d%(2*Math.PI),d>=0?d:d+2*Math.PI};o.exports=a},function(o,w){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.x-l.x,b=d.y-l.y;return Math.sqrt(i*i+b*b)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=d-i,e=l-b;return f*f+e*e};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return i===void 0&&(i=1e-4),d>l-i};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return i===void 0&&(i=1e-4),d<l+i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(325),l=function(i,b){return d(i)/d(b)/d(i-b)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){if(d===0)return 1;for(var l=d;--d;)l*=d;return l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(f,e){var c=1-f;return c*c*c*e}function d(f,e){var c=1-f;return 3*c*c*f*e}function l(f,e){return 3*(1-f)*f*f*e}function i(f,e){return f*f*f*e}var b=function(f,e,c,j,g){return a(f,e)+d(f,c)+l(f,j)+i(f,g)};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(b,f){var e=1-b;return e*e*f}function d(b,f){return 2*(1-b)*b*f}function l(b,f){return b*b*f}var i=function(b,f,e,c){return a(b,f)+d(b,e)+l(b,c)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(161),l=function(i,b,f){return b+(f-b)*d(i,0,1)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l=Math.log(d)/.6931471805599453;return 1<<Math.ceil(l)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return i===void 0&&(i=0),l===0?d:(d-=i,d=l*Math.ceil(d/l),b?(i+d)/l:i+d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.x,b=d.y;return d.x=i*Math.cos(l)-b*Math.sin(l),d.y=i*Math.sin(l)+b*Math.cos(l),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d>0?Math.ceil(d):Math.floor(d)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(3),l=function(i,b,f,e,c,j,g,h){h===void 0&&(h=new d());var k=Math.sin(c),m=Math.cos(c),n=m*j,p=k*j,q=-k*g,r=m*g,s=1/(n*r+q*-p);return h.x=r*s*i+-q*s*b+(e*q-f*r)*s,h.y=n*s*b+-p*s*i+(-e*n+f*p)*s,h};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c){this.x=0,this.y=0,this.z=0,this.w=0,typeof b==="object"?(this.x=b.x||0,this.y=b.y||0,this.z=b.z||0,this.w=b.w||0):(this.x=b||0,this.y=f||0,this.z=e||0,this.w=c||0)},clone:function(){return new l(this.x,this.y,this.z,this.w)},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this.w=i.w||0,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z&&this.w===i.w},set:function(i,b,f,e){return typeof i==="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=b||0,this.z=f||0,this.w=e||0),this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this.w+=i.w||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this.w-=i.w||0,this},scale:function(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this},length:function(){var i=this.x,b=this.y,f=this.z,e=this.w;return Math.sqrt(i*i+b*b+f*f+e*e)},lengthSq:function(){var i=this.x,b=this.y,f=this.z,e=this.w;return i*i+b*b+f*f+e*e},normalize:function(){var i=this.x,b=this.y,f=this.z,e=this.w,c=i*i+b*b+f*f+e*e;return c>0&&(c=1/Math.sqrt(c),this.x=i*c,this.y=b*c,this.z=f*c,this.w=e*c),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w},lerp:function(i,b){b===void 0&&(b=0);var f=this.x,e=this.y,c=this.z,j=this.w;return this.x=f+b*(i.x-f),this.y=e+b*(i.y-e),this.z=c+b*(i.z-c),this.w=j+b*(i.w-j),this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this.w*=i.w||1,this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this.w/=i.w||1,this},distance:function(i){var b=i.x-this.x,f=i.y-this.y,e=i.z-this.z||0,c=i.w-this.w||0;return Math.sqrt(b*b+f*f+e*e+c*c)},distanceSq:function(i){var b=i.x-this.x,f=i.y-this.y,e=i.z-this.z||0,c=i.w-this.w||0;return b*b+f*f+e*e+c*c},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(i){var b=this.x,f=this.y,e=this.z,c=this.w,j=i.val;return this.x=j[0]*b+j[4]*f+j[8]*e+j[12]*c,this.y=j[1]*b+j[5]*f+j[9]*e+j[13]*c,this.z=j[2]*b+j[6]*f+j[10]*e+j[14]*c,this.w=j[3]*b+j[7]*f+j[11]*e+j[15]*c,this},transformQuat:function(i){var b=this.x,f=this.y,e=this.z,c=i.x,j=i.y,g=i.z,h=i.w,k=h*b+j*e-g*f,m=h*f+g*b-c*e,n=h*e+c*f-j*b,p=-c*b-j*f-g*e;return this.x=k*h+p*-c+m*-g-n*-j,this.y=m*h+p*-j+n*-c-k*-g,this.z=n*h+p*-g+k*-j-m*-c,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});l.prototype.sub=l.prototype.subtract,l.prototype.mul=l.prototype.multiply,l.prototype.div=l.prototype.divide,l.prototype.dist=l.prototype.distance,l.prototype.distSq=l.prototype.distanceSq,l.prototype.len=l.prototype.length,l.prototype.lenSq=l.prototype.lengthSq,o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b){this.val=new Float32Array(9),b?this.copy(b):this.identity()},clone:function(){return new l(this)},set:function(i){return this.copy(i)},copy:function(i){var b=this.val,f=i.val;return b[0]=f[0],b[1]=f[1],b[2]=f[2],b[3]=f[3],b[4]=f[4],b[5]=f[5],b[6]=f[6],b[7]=f[7],b[8]=f[8],this},fromMat4:function(i){var b=i.val,f=this.val;return f[0]=b[0],f[1]=b[1],f[2]=b[2],f[3]=b[4],f[4]=b[5],f[5]=b[6],f[6]=b[8],f[7]=b[9],f[8]=b[10],this},fromArray:function(i){var b=this.val;return b[0]=i[0],b[1]=i[1],b[2]=i[2],b[3]=i[3],b[4]=i[4],b[5]=i[5],b[6]=i[6],b[7]=i[7],b[8]=i[8],this},identity:function(){var i=this.val;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,this},transpose:function(){var i=this.val,b=i[1],f=i[2],e=i[5];return i[1]=i[3],i[2]=i[6],i[3]=b,i[5]=i[7],i[6]=f,i[7]=e,this},invert:function(){var i=this.val,b=i[0],f=i[1],e=i[2],c=i[3],j=i[4],g=i[5],h=i[6],k=i[7],m=i[8],n=m*j-g*k,p=-m*c+g*h,q=k*c-j*h,r=b*n+f*p+e*q;return r?(r=1/r,i[0]=n*r,i[1]=(-m*f+e*k)*r,i[2]=(g*f-e*j)*r,i[3]=p*r,i[4]=(m*b-e*h)*r,i[5]=(-g*b+e*c)*r,i[6]=q*r,i[7]=(-k*b+f*h)*r,i[8]=(j*b-f*c)*r,this):null},adjoint:function(){var i=this.val,b=i[0],f=i[1],e=i[2],c=i[3],j=i[4],g=i[5],h=i[6],k=i[7],m=i[8];return i[0]=j*m-g*k,i[1]=e*k-f*m,i[2]=f*g-e*j,i[3]=g*h-c*m,i[4]=b*m-e*h,i[5]=e*c-b*g,i[6]=c*k-j*h,i[7]=f*h-b*k,i[8]=b*j-f*c,this},determinant:function(){var i=this.val,b=i[0],f=i[1],e=i[2],c=i[3],j=i[4],g=i[5],h=i[6],k=i[7],m=i[8];return b*(m*j-g*k)+f*(-m*c+g*h)+e*(k*c-j*h)},multiply:function(i){var b=this.val,f=b[0],e=b[1],c=b[2],j=b[3],g=b[4],h=b[5],k=b[6],m=b[7],n=b[8],p=i.val,q=p[0],r=p[1],s=p[2],t=p[3],u=p[4],v=p[5],x=p[6],z=p[7],y=p[8];return b[0]=q*f+r*j+s*k,b[1]=q*e+r*g+s*m,b[2]=q*c+r*h+s*n,b[3]=t*f+u*j+v*k,b[4]=t*e+u*g+v*m,b[5]=t*c+u*h+v*n,b[6]=x*f+z*j+y*k,b[7]=x*e+z*g+y*m,b[8]=x*c+z*h+y*n,this},translate:function(i){var b=this.val,f=i.x,e=i.y;return b[6]=f*b[0]+e*b[3]+b[6],b[7]=f*b[1]+e*b[4]+b[7],b[8]=f*b[2]+e*b[5]+b[8],this},rotate:function(i){var b=this.val,f=b[0],e=b[1],c=b[2],j=b[3],g=b[4],h=b[5],k=Math.sin(i),m=Math.cos(i);return b[0]=m*f+k*j,b[1]=m*e+k*g,b[2]=m*c+k*h,b[3]=m*j-k*f,b[4]=m*g-k*e,b[5]=m*h-k*c,this},scale:function(i){var b=this.val,f=i.x,e=i.y;return b[0]=f*b[0],b[1]=f*b[1],b[2]=f*b[2],b[3]=e*b[3],b[4]=e*b[4],b[5]=e*b[5],this},fromQuat:function(i){var b=i.x,f=i.y,e=i.z,c=i.w,j=b+b,g=f+f,h=e+e,k=b*j,m=b*g,n=b*h,p=f*g,q=f*h,r=e*h,s=c*j,t=c*g,u=c*h,v=this.val;return v[0]=1-(p+r),v[3]=m+u,v[6]=n-t,v[1]=m-u,v[4]=1-(k+r),v[7]=q+s,v[2]=n+t,v[5]=q-s,v[8]=1-(k+p),this},normalFromMat4:function(i){var b=i.val,f=this.val,e=b[0],c=b[1],j=b[2],g=b[3],h=b[4],k=b[5],m=b[6],n=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14],x=b[15],z=e*k-c*h,y=e*m-j*h,A=e*n-g*h,D=c*m-j*k,F=c*n-g*k,H=j*n-g*m,I=p*u-q*t,N=p*v-r*t,J=p*x-s*t,C=q*v-r*u,B=q*x-s*u,E=r*x-s*v,K=z*E-y*B+A*C+D*J-F*N+H*I;return K?(K=1/K,f[0]=(k*E-m*B+n*C)*K,f[1]=(m*J-h*E-n*N)*K,f[2]=(h*B-k*J+n*I)*K,f[3]=(j*B-c*E-g*C)*K,f[4]=(e*E-j*J+g*N)*K,f[5]=(c*J-e*B-g*I)*K,f[6]=(u*H-v*F+x*D)*K,f[7]=(v*A-t*H-x*y)*K,f[8]=(t*F-u*A+x*z)*K,this):null}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=1e-6,i=new d({initialize:function e(c){this.val=new Float32Array(16),c?this.copy(c):this.identity()},clone:function(){return new i(this)},set:function(e){return this.copy(e)},copy:function(e){var c=this.val,j=e.val;return c[0]=j[0],c[1]=j[1],c[2]=j[2],c[3]=j[3],c[4]=j[4],c[5]=j[5],c[6]=j[6],c[7]=j[7],c[8]=j[8],c[9]=j[9],c[10]=j[10],c[11]=j[11],c[12]=j[12],c[13]=j[13],c[14]=j[14],c[15]=j[15],this},fromArray:function(e){var c=this.val;return c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],c[9]=e[9],c[10]=e[10],c[11]=e[11],c[12]=e[12],c[13]=e[13],c[14]=e[14],c[15]=e[15],this},zero:function(){var e=this.val;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=0,this},xyz:function(e,c,j){this.identity();var g=this.val;return g[12]=e,g[13]=c,g[14]=j,this},scaling:function(e,c,j){this.zero();var g=this.val;return g[0]=e,g[5]=c,g[10]=j,g[15]=1,this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},transpose:function(){var e=this.val,c=e[1],j=e[2],g=e[3],h=e[6],k=e[7],m=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=c,e[6]=e[9],e[7]=e[13],e[8]=j,e[9]=h,e[11]=e[14],e[12]=g,e[13]=k,e[14]=m,this},invert:function(){var e=this.val,c=e[0],j=e[1],g=e[2],h=e[3],k=e[4],m=e[5],n=e[6],p=e[7],q=e[8],r=e[9],s=e[10],t=e[11],u=e[12],v=e[13],x=e[14],z=e[15],y=c*m-j*k,A=c*n-g*k,D=c*p-h*k,F=j*n-g*m,H=j*p-h*m,I=g*p-h*n,N=q*v-r*u,J=q*x-s*u,C=q*z-t*u,B=r*x-s*v,E=r*z-t*v,K=s*z-t*x,G=y*K-A*E+D*B+F*C-H*J+I*N;return G?(G=1/G,e[0]=(m*K-n*E+p*B)*G,e[1]=(g*E-j*K-h*B)*G,e[2]=(v*I-x*H+z*F)*G,e[3]=(s*H-r*I-t*F)*G,e[4]=(n*C-k*K-p*J)*G,e[5]=(c*K-g*C+h*J)*G,e[6]=(x*D-u*I-z*A)*G,e[7]=(q*I-s*D+t*A)*G,e[8]=(k*E-m*C+p*N)*G,e[9]=(j*C-c*E-h*N)*G,e[10]=(u*H-v*D+z*y)*G,e[11]=(r*D-q*H-t*y)*G,e[12]=(m*J-k*B-n*N)*G,e[13]=(c*B-j*J+g*N)*G,e[14]=(v*A-u*F-x*y)*G,e[15]=(q*F-r*A+s*y)*G,this):null},adjoint:function(){var e=this.val,c=e[0],j=e[1],g=e[2],h=e[3],k=e[4],m=e[5],n=e[6],p=e[7],q=e[8],r=e[9],s=e[10],t=e[11],u=e[12],v=e[13],x=e[14],z=e[15];return e[0]=m*(s*z-t*x)-r*(n*z-p*x)+v*(n*t-p*s),e[1]=-(j*(s*z-t*x)-r*(g*z-h*x)+v*(g*t-h*s)),e[2]=j*(n*z-p*x)-m*(g*z-h*x)+v*(g*p-h*n),e[3]=-(j*(n*t-p*s)-m*(g*t-h*s)+r*(g*p-h*n)),e[4]=-(k*(s*z-t*x)-q*(n*z-p*x)+u*(n*t-p*s)),e[5]=c*(s*z-t*x)-q*(g*z-h*x)+u*(g*t-h*s),e[6]=-(c*(n*z-p*x)-k*(g*z-h*x)+u*(g*p-h*n)),e[7]=c*(n*t-p*s)-k*(g*t-h*s)+q*(g*p-h*n),e[8]=k*(r*z-t*v)-q*(m*z-p*v)+u*(m*t-p*r),e[9]=-(c*(r*z-t*v)-q*(j*z-h*v)+u*(j*t-h*r)),e[10]=c*(m*z-p*v)-k*(j*z-h*v)+u*(j*p-h*m),e[11]=-(c*(m*t-p*r)-k*(j*t-h*r)+q*(j*p-h*m)),e[12]=-(k*(r*x-s*v)-q*(m*x-n*v)+u*(m*s-n*r)),e[13]=c*(r*x-s*v)-q*(j*x-g*v)+u*(j*s-g*r),e[14]=-(c*(m*x-n*v)-k*(j*x-g*v)+u*(j*n-g*m)),e[15]=c*(m*s-n*r)-k*(j*s-g*r)+q*(j*n-g*m),this},determinant:function(){var e=this.val,c=e[0],j=e[1],g=e[2],h=e[3],k=e[4],m=e[5],n=e[6],p=e[7],q=e[8],r=e[9],s=e[10],t=e[11],u=e[12],v=e[13],x=e[14],z=e[15],y=c*m-j*k,A=c*n-g*k,D=c*p-h*k,F=j*n-g*m,H=j*p-h*m,I=g*p-h*n,N=q*v-r*u,J=q*x-s*u,C=q*z-t*u,B=r*x-s*v,E=r*z-t*v,K=s*z-t*x;return y*K-A*E+D*B+F*C-H*J+I*N},multiply:function(e){var c=this.val,j=c[0],g=c[1],h=c[2],k=c[3],m=c[4],n=c[5],p=c[6],q=c[7],r=c[8],s=c[9],t=c[10],u=c[11],v=c[12],x=c[13],z=c[14],y=c[15],A=e.val,D=A[0],F=A[1],H=A[2],I=A[3];return c[0]=D*j+F*m+H*r+I*v,c[1]=D*g+F*n+H*s+I*x,c[2]=D*h+F*p+H*t+I*z,c[3]=D*k+F*q+H*u+I*y,D=A[4],F=A[5],H=A[6],I=A[7],c[4]=D*j+F*m+H*r+I*v,c[5]=D*g+F*n+H*s+I*x,c[6]=D*h+F*p+H*t+I*z,c[7]=D*k+F*q+H*u+I*y,D=A[8],F=A[9],H=A[10],I=A[11],c[8]=D*j+F*m+H*r+I*v,c[9]=D*g+F*n+H*s+I*x,c[10]=D*h+F*p+H*t+I*z,c[11]=D*k+F*q+H*u+I*y,D=A[12],F=A[13],H=A[14],I=A[15],c[12]=D*j+F*m+H*r+I*v,c[13]=D*g+F*n+H*s+I*x,c[14]=D*h+F*p+H*t+I*z,c[15]=D*k+F*q+H*u+I*y,this},multiplyLocal:function(e){var c=[],j=this.val,g=e.val;return c[0]=j[0]*g[0]+j[1]*g[4]+j[2]*g[8]+j[3]*g[12],c[1]=j[0]*g[1]+j[1]*g[5]+j[2]*g[9]+j[3]*g[13],c[2]=j[0]*g[2]+j[1]*g[6]+j[2]*g[10]+j[3]*g[14],c[3]=j[0]*g[3]+j[1]*g[7]+j[2]*g[11]+j[3]*g[15],c[4]=j[4]*g[0]+j[5]*g[4]+j[6]*g[8]+j[7]*g[12],c[5]=j[4]*g[1]+j[5]*g[5]+j[6]*g[9]+j[7]*g[13],c[6]=j[4]*g[2]+j[5]*g[6]+j[6]*g[10]+j[7]*g[14],c[7]=j[4]*g[3]+j[5]*g[7]+j[6]*g[11]+j[7]*g[15],c[8]=j[8]*g[0]+j[9]*g[4]+j[10]*g[8]+j[11]*g[12],c[9]=j[8]*g[1]+j[9]*g[5]+j[10]*g[9]+j[11]*g[13],c[10]=j[8]*g[2]+j[9]*g[6]+j[10]*g[10]+j[11]*g[14],c[11]=j[8]*g[3]+j[9]*g[7]+j[10]*g[11]+j[11]*g[15],c[12]=j[12]*g[0]+j[13]*g[4]+j[14]*g[8]+j[15]*g[12],c[13]=j[12]*g[1]+j[13]*g[5]+j[14]*g[9]+j[15]*g[13],c[14]=j[12]*g[2]+j[13]*g[6]+j[14]*g[10]+j[15]*g[14],c[15]=j[12]*g[3]+j[13]*g[7]+j[14]*g[11]+j[15]*g[15],this.fromArray(c)},translate:function(e){var c=e.x,j=e.y,g=e.z,h=this.val;return h[12]=h[0]*c+h[4]*j+h[8]*g+h[12],h[13]=h[1]*c+h[5]*j+h[9]*g+h[13],h[14]=h[2]*c+h[6]*j+h[10]*g+h[14],h[15]=h[3]*c+h[7]*j+h[11]*g+h[15],this},translateXYZ:function(e,c,j){var g=this.val;return g[12]=g[0]*e+g[4]*c+g[8]*j+g[12],g[13]=g[1]*e+g[5]*c+g[9]*j+g[13],g[14]=g[2]*e+g[6]*c+g[10]*j+g[14],g[15]=g[3]*e+g[7]*c+g[11]*j+g[15],this},scale:function(e){var c=e.x,j=e.y,g=e.z,h=this.val;return h[0]=h[0]*c,h[1]=h[1]*c,h[2]=h[2]*c,h[3]=h[3]*c,h[4]=h[4]*j,h[5]=h[5]*j,h[6]=h[6]*j,h[7]=h[7]*j,h[8]=h[8]*g,h[9]=h[9]*g,h[10]=h[10]*g,h[11]=h[11]*g,this},scaleXYZ:function(e,c,j){var g=this.val;return g[0]=g[0]*e,g[1]=g[1]*e,g[2]=g[2]*e,g[3]=g[3]*e,g[4]=g[4]*c,g[5]=g[5]*c,g[6]=g[6]*c,g[7]=g[7]*c,g[8]=g[8]*j,g[9]=g[9]*j,g[10]=g[10]*j,g[11]=g[11]*j,this},makeRotationAxis:function(e,c){var j=Math.cos(c),g=Math.sin(c),h=1-j,k=e.x,m=e.y,n=e.z,p=h*k,q=h*m;return this.fromArray([p*k+j,p*m-g*n,p*n+g*m,0,p*m+g*n,q*m+j,q*n-g*k,0,p*n-g*m,q*n+g*k,h*n*n+j,0,0,0,0,1]),this},rotate:function(e,c){var j=this.val,g=c.x,h=c.y,k=c.z,m=Math.sqrt(g*g+h*h+k*k);if(Math.abs(m)<l)return null;m=1/m,g*=m,h*=m,k*=m;var n=Math.sin(e),p=Math.cos(e),q=1-p,r=j[0],s=j[1],t=j[2],u=j[3],v=j[4],x=j[5],z=j[6],y=j[7],A=j[8],D=j[9],F=j[10],H=j[11],I=g*g*q+p,N=h*g*q+k*n,J=k*g*q-h*n,C=g*h*q-k*n,B=h*h*q+p,E=k*h*q+g*n,K=g*k*q+h*n,G=h*k*q-g*n,L=k*k*q+p;return j[0]=r*I+v*N+A*J,j[1]=s*I+x*N+D*J,j[2]=t*I+z*N+F*J,j[3]=u*I+y*N+H*J,j[4]=r*C+v*B+A*E,j[5]=s*C+x*B+D*E,j[6]=t*C+z*B+F*E,j[7]=u*C+y*B+H*E,j[8]=r*K+v*G+A*L,j[9]=s*K+x*G+D*L,j[10]=t*K+z*G+F*L,j[11]=u*K+y*G+H*L,this},rotateX:function(e){var c=this.val,j=Math.sin(e),g=Math.cos(e),h=c[4],k=c[5],m=c[6],n=c[7],p=c[8],q=c[9],r=c[10],s=c[11];return c[4]=h*g+p*j,c[5]=k*g+q*j,c[6]=m*g+r*j,c[7]=n*g+s*j,c[8]=p*g-h*j,c[9]=q*g-k*j,c[10]=r*g-m*j,c[11]=s*g-n*j,this},rotateY:function(e){var c=this.val,j=Math.sin(e),g=Math.cos(e),h=c[0],k=c[1],m=c[2],n=c[3],p=c[8],q=c[9],r=c[10],s=c[11];return c[0]=h*g-p*j,c[1]=k*g-q*j,c[2]=m*g-r*j,c[3]=n*g-s*j,c[8]=h*j+p*g,c[9]=k*j+q*g,c[10]=m*j+r*g,c[11]=n*j+s*g,this},rotateZ:function(e){var c=this.val,j=Math.sin(e),g=Math.cos(e),h=c[0],k=c[1],m=c[2],n=c[3],p=c[4],q=c[5],r=c[6],s=c[7];return c[0]=h*g+p*j,c[1]=k*g+q*j,c[2]=m*g+r*j,c[3]=n*g+s*j,c[4]=p*g-h*j,c[5]=q*g-k*j,c[6]=r*g-m*j,c[7]=s*g-n*j,this},fromRotationTranslation:function(e,c){var j=this.val,g=e.x,h=e.y,k=e.z,m=e.w,n=g+g,p=h+h,q=k+k,r=g*n,s=g*p,t=g*q,u=h*p,v=h*q,x=k*q,z=m*n,y=m*p,A=m*q;return j[0]=1-(u+x),j[1]=s+A,j[2]=t-y,j[3]=0,j[4]=s-A,j[5]=1-(r+x),j[6]=v+z,j[7]=0,j[8]=t+y,j[9]=v-z,j[10]=1-(r+u),j[11]=0,j[12]=c.x,j[13]=c.y,j[14]=c.z,j[15]=1,this},fromQuat:function(e){var c=this.val,j=e.x,g=e.y,h=e.z,k=e.w,m=j+j,n=g+g,p=h+h,q=j*m,r=j*n,s=j*p,t=g*n,u=g*p,v=h*p,x=k*m,z=k*n,y=k*p;return c[0]=1-(t+v),c[1]=r+y,c[2]=s-z,c[3]=0,c[4]=r-y,c[5]=1-(q+v),c[6]=u+x,c[7]=0,c[8]=s+z,c[9]=u-x,c[10]=1-(q+t),c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this},frustum:function(e,c,j,g,h,k){var m=this.val,n=1/(c-e),p=1/(g-j),q=1/(h-k);return m[0]=h*2*n,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=h*2*p,m[6]=0,m[7]=0,m[8]=(c+e)*n,m[9]=(g+j)*p,m[10]=(k+h)*q,m[11]=-1,m[12]=0,m[13]=0,m[14]=k*h*2*q,m[15]=0,this},perspective:function(e,c,j,g){var h=this.val,k=1/Math.tan(e/2),m=1/(j-g);return h[0]=k/c,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=k,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=(g+j)*m,h[11]=-1,h[12]=0,h[13]=0,h[14]=2*g*j*m,h[15]=0,this},perspectiveLH:function(e,c,j,g){var h=this.val;return h[0]=2*j/e,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*j/c,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=-g/(j-g),h[11]=1,h[12]=0,h[13]=0,h[14]=j*g/(j-g),h[15]=0,this},ortho:function(e,c,j,g,h,k){var m=this.val,n=e-c,p=j-g,q=h-k;return n=n===0?n:1/n,p=p===0?p:1/p,q=q===0?q:1/q,m[0]=-2*n,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=-2*p,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=2*q,m[11]=0,m[12]=(e+c)*n,m[13]=(g+j)*p,m[14]=(k+h)*q,m[15]=1,this},lookAt:function(e,c,j){var g=this.val,h=e.x,k=e.y,m=e.z,n=j.x,p=j.y,q=j.z,r=c.x,s=c.y,t=c.z;if(Math.abs(h-r)<l&&Math.abs(k-s)<l&&Math.abs(m-t)<l)return this.identity();var u=h-r,v=k-s,x=m-t,z=1/Math.sqrt(u*u+v*v+x*x);u*=z,v*=z,x*=z;var y=p*x-q*v,A=q*u-n*x,D=n*v-p*u;z=Math.sqrt(y*y+A*A+D*D),z?(z=1/z,y*=z,A*=z,D*=z):(y=0,A=0,D=0);var F=v*D-x*A,H=x*y-u*D,I=u*A-v*y;return z=Math.sqrt(F*F+H*H+I*I),z?(z=1/z,F*=z,H*=z,I*=z):(F=0,H=0,I=0),g[0]=y,g[1]=F,g[2]=u,g[3]=0,g[4]=A,g[5]=H,g[6]=v,g[7]=0,g[8]=D,g[9]=I,g[10]=x,g[11]=0,g[12]=-(y*h+A*k+D*m),g[13]=-(F*h+H*k+I*m),g[14]=-(u*h+v*k+x*m),g[15]=1,this},yawPitchRoll:function(e,c,j){this.zero(),b.zero(),f.zero();var g=this.val,h=b.val,k=f.val,m=Math.sin(j),n=Math.cos(j);return g[10]=1,g[15]=1,g[0]=n,g[1]=m,g[4]=-m,g[5]=n,m=Math.sin(c),n=Math.cos(c),h[0]=1,h[15]=1,h[5]=n,h[10]=n,h[9]=-m,h[6]=m,m=Math.sin(e),n=Math.cos(e),k[5]=1,k[15]=1,k[0]=n,k[2]=-m,k[8]=m,k[10]=n,this.multiplyLocal(b),this.multiplyLocal(f),this},setWorldMatrix:function(e,c,j,g,h){return this.yawPitchRoll(e.y,e.x,e.z),b.scaling(j.x,j.y,j.z),f.xyz(c.x,c.y,c.z),this.multiplyLocal(b),this.multiplyLocal(f),g!==void 0&&this.multiplyLocal(g),h!==void 0&&this.multiplyLocal(h),this}}),b=new i(),f=new i();o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(174),i=a(335),b=1e-6,f=new Int8Array([1,2,0]),e=new Float32Array([0,0,0]),c=new l(1,0,0),j=new l(0,1,0),g=new l(),h=new i(),k=new d({initialize:function m(n,p,q,r){typeof n==="object"?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0,this.w=n.w||0):(this.x=n||0,this.y=p||0,this.z=q||0,this.w=r||0)},copy:function(m){return this.x=m.x,this.y=m.y,this.z=m.z,this.w=m.w,this},set:function(m,n,p,q){return typeof m==="object"?(this.x=m.x||0,this.y=m.y||0,this.z=m.z||0,this.w=m.w||0):(this.x=m||0,this.y=n||0,this.z=p||0,this.w=q||0),this},add:function(m){return this.x+=m.x,this.y+=m.y,this.z+=m.z,this.w+=m.w,this},subtract:function(m){return this.x-=m.x,this.y-=m.y,this.z-=m.z,this.w-=m.w,this},scale:function(m){return this.x*=m,this.y*=m,this.z*=m,this.w*=m,this},length:function(){var m=this.x,n=this.y,p=this.z,q=this.w;return Math.sqrt(m*m+n*n+p*p+q*q)},lengthSq:function(){var m=this.x,n=this.y,p=this.z,q=this.w;return m*m+n*n+p*p+q*q},normalize:function(){var m=this.x,n=this.y,p=this.z,q=this.w,r=m*m+n*n+p*p+q*q;return r>0&&(r=1/Math.sqrt(r),this.x=m*r,this.y=n*r,this.z=p*r,this.w=q*r),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,n){n===void 0&&(n=0);var p=this.x,q=this.y,r=this.z,s=this.w;return this.x=p+n*(m.x-p),this.y=q+n*(m.y-q),this.z=r+n*(m.z-r),this.w=s+n*(m.w-s),this},rotationTo:function(m,n){var p=m.x*n.x+m.y*n.y+m.z*n.z;return p<-.999999?(g.copy(c).cross(m).length()<b&&g.copy(j).cross(m),g.normalize(),this.setAxisAngle(g,Math.PI)):p>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(g.copy(m).cross(n),this.x=g.x,this.y=g.y,this.z=g.z,this.w=1+p,this.normalize())},setAxes:function(m,n,p){var q=h.val;return q[0]=n.x,q[3]=n.y,q[6]=n.z,q[1]=p.x,q[4]=p.y,q[7]=p.z,q[2]=-m.x,q[5]=-m.y,q[8]=-m.z,this.fromMat3(h).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(m,n){n=n*.5;var p=Math.sin(n);return this.x=p*m.x,this.y=p*m.y,this.z=p*m.z,this.w=Math.cos(n),this},multiply:function(m){var n=this.x,p=this.y,q=this.z,r=this.w,s=m.x,t=m.y,u=m.z,v=m.w;return this.x=n*v+r*s+p*u-q*t,this.y=p*v+r*t+q*s-n*u,this.z=q*v+r*u+n*t-p*s,this.w=r*v-n*s-p*t-q*u,this},slerp:function(m,n){var p=this.x,q=this.y,r=this.z,s=this.w,t=m.x,u=m.y,v=m.z,x=m.w,z=p*t+q*u+r*v+s*x;z<0&&(z=-z,t=-t,u=-u,v=-v,x=-x);var y=1-n,A=n;if(1-z>b){var D=Math.acos(z),F=Math.sin(D);y=Math.sin((1-n)*D)/F,A=Math.sin(n*D)/F}return this.x=y*p+A*t,this.y=y*q+A*u,this.z=y*r+A*v,this.w=y*s+A*x,this},invert:function(){var m=this.x,n=this.y,p=this.z,q=this.w,r=m*m+n*n+p*p+q*q,s=r?1/r:0;return this.x=-m*s,this.y=-n*s,this.z=-p*s,this.w=q*s,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(m){m*=.5;var n=this.x,p=this.y,q=this.z,r=this.w,s=Math.sin(m),t=Math.cos(m);return this.x=n*t+r*s,this.y=p*t+q*s,this.z=q*t-p*s,this.w=r*t-n*s,this},rotateY:function(m){m*=.5;var n=this.x,p=this.y,q=this.z,r=this.w,s=Math.sin(m),t=Math.cos(m);return this.x=n*t-q*s,this.y=p*t+r*s,this.z=q*t+n*s,this.w=r*t-p*s,this},rotateZ:function(m){m*=.5;var n=this.x,p=this.y,q=this.z,r=this.w,s=Math.sin(m),t=Math.cos(m);return this.x=n*t+p*s,this.y=p*t-n*s,this.z=q*t+r*s,this.w=r*t-q*s,this},calculateW:function(){var m=this.x,n=this.y,p=this.z;return this.w=-Math.sqrt(1-m*m-n*n-p*p),this},fromMat3:function(m){var n=m.val,p=n[0]+n[4]+n[8],q;if(p>0)q=Math.sqrt(p+1),this.w=.5*q,q=.5/q,this.x=(n[7]-n[5])*q,this.y=(n[2]-n[6])*q,this.z=(n[3]-n[1])*q;else{var r=0;n[4]>n[0]&&(r=1),n[8]>n[r*3+r]&&(r=2);var s=f[r],t=f[s];q=Math.sqrt(n[r*3+r]-n[s*3+s]-n[t*3+t]+1),e[r]=.5*q,q=.5/q,e[s]=(n[s*3+r]+n[r*3+s])*q,e[t]=(n[t*3+r]+n[r*3+t])*q,this.x=e[0],this.y=e[1],this.z=e[2],this.w=(n[t*3+s]-n[s*3+t])*q}return this}});o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(339),l=a(26),i=a(33),b=a(169),f=function(e){var c=e.config;if((c.customEnvironment||c.canvas)&&c.renderType===i.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!c.customEnvironment&&!c.canvas&&c.renderType!==i.HEADLESS)if(c.renderType===i.CANVAS||c.renderType!==i.CANVAS&&!b.webGL)if(b.canvas)c.renderType=i.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else c.renderType=i.WEBGL;c.antialias||l.disableSmoothing();var j=e.scale.baseSize,g=j.width,h=j.height;c.canvas?(e.canvas=c.canvas,e.canvas.width=g,e.canvas.height=h):e.canvas=l.create(e,g,h,c.renderType),c.canvasStyle&&(e.canvas.style=c.canvasStyle),c.antialias||d.setCrisp(e.canvas);if(c.renderType===i.HEADLESS)return;var k,m;k=a(505),m=a(508),c.renderType===i.WEBGL?e.renderer=new m(e):(e.renderer=new k(e),e.context=e.renderer.gameContext)};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setCrisp:function(d){var l=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return l.forEach(function(i){d.style["image-rendering"]=i}),d.style.msInterpolationMode="nearest-neighbor",d},setBicubic:function(d){return d.style["image-rendering"]="auto",d.style.msInterpolationMode="bicubic",d}};o.exports=a},function(o,w){o.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(o,w){o.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join(`
`)},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(33),l=function(i){var b=i.config;if(b.hideBanner)return;var f="WebGL";b.renderType===d.CANVAS?f="Canvas":b.renderType===d.HEADLESS&&(f="Headless");var e=b.audio,c=i.device.audio,j;c.webAudio&&!(e&&e.disableWebAudio)?j="Web Audio":e&&e.noAudio||!c.webAudio&&!c.audioData?j="No Audio":j="HTML5 Audio";if(i.device.browser.ie)window.console&&console.log("Phaser v"+d.VERSION+" / https://phaser.io");else{var g="",h=[g];if(Array.isArray(b.bannerBackgroundColor)){var k;b.bannerBackgroundColor.forEach(function(n){g=g.concat("%c "),h.push("background: "+n),k=n}),h[h.length-1]="color: "+b.bannerTextColor+"; background: "+k}else g=g.concat("%c "),h.push("color: "+b.bannerTextColor+"; background: "+b.bannerBackgroundColor);h.push("background: #fff"),b.gameTitle&&(g=g.concat(b.gameTitle),b.gameVersion&&(g=g.concat(" v"+b.gameVersion)),b.hidePhaser||(g=g.concat(" / ")));var m="";b.hidePhaser||(g=g.concat("Phaser v"+d.VERSION+m+" ("+f+" | "+j+")")),g=g.concat(" %c "+b.gameURL),h[0]=g,console.log.apply(console,h)}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(6),i=a(1),b=a(344),f=new d({initialize:function e(c,j){this.game=c,this.raf=new b(),this.started=!1,this.running=!1,this.minFps=l(j,"min",5),this.targetFps=l(j,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=i,this.forceSetTimeOut=l(j,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=l(j,"deltaHistory",10),this.panicMax=l(j,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=l(j,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var c=0;c<this.deltaSmoothingMax;c++)this.deltaHistory[c]=Math.min(this._target,this.deltaHistory[c]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var c=0;c<this.deltaSmoothingMax;c++)this.deltaHistory[c]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var e=window.performance.now();this.now=e;var c=e-this.lastTime;c<0&&(c=0),this.rawDelta=c;var j=this.deltaIndex,g=this.deltaHistory,h=this.deltaSmoothingMax,k=c,m=c;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,k=Math.min(k,this._target)),k>this._min&&(k=g[j],k=Math.min(k,this._min)),g[j]=k,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0),m=0;for(var n=0;n<h;n++)m+=g[n];m/=h}this.delta=m,this.time+=this.rawDelta,e>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0),this.framesThisSecond++;var p=m/this._target;this.callback(e,m,p),this.lastTime=e,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){if(this.running)return;e&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step()},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=i,this.raf=null,this.game=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(1),i=new d({initialize:function b(){this.isRunning=!1,this.callback=l,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var f=this;this.step=function e(){var c=window.performance.now();f.lastTime=f.tick,f.tick=c,f.callback(c),f.timeOutID=window.requestAnimationFrame(e)},this.stepTimeout=function e(){var c=Date.now(),j=Math.min(Math.max(f.target*2+f.tick-c,0),f.target);f.lastTime=f.tick,f.tick=c,f.callback(c),f.timeOutID=window.setTimeout(e,j)}},start:function(b,f,e){if(this.isRunning)return;this.callback=b,this.isSetTimeOut=f,this.target=e,this.isRunning=!0,this.timeOutID=f?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step)},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=l}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(20),l=function(i){var b,f=i.events;if(document.hidden!==void 0)b="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(j){document[j+"Hidden"]!==void 0&&(document.hidden=function(){return document[j+"Hidden"]},b=j+"visibilitychange")})}var c=function(j){document.hidden||j.type==="pause"?f.emit(d.HIDDEN):f.emit(d.VISIBLE)};b&&document.addEventListener(b,c,!1),window.onblur=function(){f.emit(d.BLUR)},window.onfocus=function(){f.emit(d.FOCUS)},window.focus&&i.config.autoFocus&&window.focus()};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(347),l=a(26),i=a(6),b=function(f){var e=i(f,"data",[]),c=i(f,"canvas",null),j=i(f,"palette",d),g=i(f,"pixelWidth",1),h=i(f,"pixelHeight",g),k=i(f,"resizeCanvas",!0),m=i(f,"clearCanvas",!0),n=i(f,"preRender",null),p=i(f,"postRender",null),q=Math.floor(Math.abs(e[0].length*g)),r=Math.floor(Math.abs(e.length*h));c||(c=l.create2D(this,q,r),k=!1,m=!1),k&&(c.width=q,c.height=r);var s=c.getContext("2d");m&&s.clearRect(0,0,q,r),n&&n(c,s);for(var t=0;t<e.length;t++)for(var u=e[t],v=0;v<u.length;v++){var x=u[v];x!=="."&&x!==" "&&(s.fillStyle=j[x],s.fillRect(v*g,t*h,g,h))}return p&&p(c,s),c};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(326),i=a(81),b=a(3),f=new d({Extends:i,initialize:function e(c,j,g,h){i.call(this,"CubicBezierCurve"),Array.isArray(c)&&(h=new b(c[6],c[7]),g=new b(c[4],c[5]),j=new b(c[2],c[3]),c=new b(c[0],c[1])),this.p0=c,this.p1=j,this.p2=g,this.p3=h},getStartPoint:function(e){return e===void 0&&(e=new b()),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,c){c===void 0&&(c=new b());var j=this.p0,g=this.p1,h=this.p2,k=this.p3;return c.set(l(e,j.x,g.x,h.x,k.x),l(e,j.y,g.y,h.y,k.y))},draw:function(e,c){c===void 0&&(c=32);var j=this.getPoints(c);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var g=1;g<j.length;g++)e.lineTo(j[g].x,j[g].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});f.fromJSON=function(e){var c=e.points,j=new b(c[0],c[1]),g=new b(c[2],c[3]),h=new b(c[4],c[5]),k=new b(c[6],c[7]);return new f(j,g,h,k)},o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(81),i=a(39),b=a(6),f=a(173),e=a(3),c=new d({Extends:l,initialize:function j(g,h,k,m,n,p,q,r){if(typeof g==="object"){var s=g;g=b(s,"x",0),h=b(s,"y",0),k=b(s,"xRadius",0),m=b(s,"yRadius",k),n=b(s,"startAngle",0),p=b(s,"endAngle",360),q=b(s,"clockwise",!1),r=b(s,"rotation",0)}else m===void 0&&(m=k),n===void 0&&(n=0),p===void 0&&(p=360),q===void 0&&(q=!1),r===void 0&&(r=0);l.call(this,"EllipseCurve"),this.p0=new e(g,h),this._xRadius=k,this._yRadius=m,this._startAngle=i(n),this._endAngle=i(p),this._clockwise=q,this._rotation=i(r)},getStartPoint:function(j){return j===void 0&&(j=new e()),this.getPoint(0,j)},getResolution:function(j){return j*2},getPoint:function(j,g){g===void 0&&(g=new e());for(var h=Math.PI*2,k=this._endAngle-this._startAngle,m=Math.abs(k)<Number.EPSILON;k<0;)k+=h;for(;k>h;)k-=h;k<Number.EPSILON&&(m?k=0:k=h),this._clockwise&&!m&&(k===h?k=-h:k=k-h);var n=this._startAngle+j*k,p=this.p0.x+this._xRadius*Math.cos(n),q=this.p0.y+this._yRadius*Math.sin(n);if(this._rotation!==0){var r=Math.cos(this._rotation),s=Math.sin(this._rotation),t=p-this.p0.x,u=q-this.p0.y;p=t*r-u*s+this.p0.x,q=t*s+u*r+this.p0.y}return g.set(p,q)},setXRadius:function(j){return this.xRadius=j,this},setYRadius:function(j){return this.yRadius=j,this},setWidth:function(j){return this.xRadius=j/2,this},setHeight:function(j){return this.yRadius=j/2,this},setStartAngle:function(j){return this.startAngle=j,this},setEndAngle:function(j){return this.endAngle=j,this},setClockwise:function(j){return this.clockwise=j,this},setRotation:function(j){return this.rotation=j,this},x:{get:function(){return this.p0.x},set:function(j){this.p0.x=j}},y:{get:function(){return this.p0.y},set:function(j){this.p0.y=j}},xRadius:{get:function(){return this._xRadius},set:function(j){this._xRadius=j}},yRadius:{get:function(){return this._yRadius},set:function(j){this._yRadius=j}},startAngle:{get:function(){return f(this._startAngle)},set:function(j){this._startAngle=i(j)}},endAngle:{get:function(){return f(this._endAngle)},set:function(j){this._endAngle=i(j)}},clockwise:{get:function(){return this._clockwise},set:function(j){this._clockwise=j}},angle:{get:function(){return f(this._rotation)},set:function(j){this._rotation=i(j)}},rotation:{get:function(){return this._rotation},set:function(j){this._rotation=j}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:f(this._startAngle),endAngle:f(this._endAngle),clockwise:this._clockwise,rotation:f(this._rotation)}}});c.fromJSON=function(j){return new c(j)},o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(81),i=a(176),b=a(11),f=a(3),e=new f(),c=new d({Extends:l,initialize:function j(g,h){l.call(this,"LineCurve"),Array.isArray(g)&&(h=new f(g[2],g[3]),g=new f(g[0],g[1])),this.p0=g,this.p1=h,this.arcLengthDivisions=1},getBounds:function(j){return j===void 0&&(j=new b()),i([this.p0,this.p1],j)},getStartPoint:function(j){return j===void 0&&(j=new f()),j.copy(this.p0)},getResolution:function(j){return j===void 0&&(j=1),j},getPoint:function(j,g){return g===void 0&&(g=new f()),j===1?g.copy(this.p1):(g.copy(this.p1).subtract(this.p0).scale(j).add(this.p0),g)},getPointAt:function(j,g){return this.getPoint(j,g)},getTangent:function(){var j=e.copy(this.p1).subtract(this.p0);return j.normalize()},getUtoTmapping:function(j,g,h){var k;if(g){var m=this.getLengths(h),n=m[m.length-1],p=Math.min(g,n);k=p/n}else k=j;return k},draw:function(j){return j.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),j},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});c.fromJSON=function(j){var g=j.points,h=new f(g[0],g[1]),k=new f(g[2],g[3]);return new c(h,k)},o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(81),i=a(327),b=a(3),f=new d({Extends:l,initialize:function e(c,j,g){l.call(this,"QuadraticBezier"),Array.isArray(c)&&(g=new b(c[4],c[5]),j=new b(c[2],c[3]),c=new b(c[0],c[1])),this.p0=c,this.p1=j,this.p2=g},getStartPoint:function(e){return e===void 0&&(e=new b()),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,c){c===void 0&&(c=new b());var j=this.p0,g=this.p1,h=this.p2;return c.set(i(e,j.x,g.x,h.x),i(e,j.y,g.y,h.y))},draw:function(e,c){c===void 0&&(c=32);var j=this.getPoints(c);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var g=1;g<j.length;g++)e.lineTo(j[g].x,j[g].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});f.fromJSON=function(e){var c=e.points,j=new b(c[0],c[1]),g=new b(c[2],c[3]),h=new b(c[4],c[5]);return new f(j,g,h)},o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(171),l=a(0),i=a(81),b=a(3),f=new l({Extends:i,initialize:function e(c){c===void 0&&(c=[]),i.call(this,"SplineCurve"),this.points=[],this.addPoints(c)},addPoints:function(e){for(var c=0;c<e.length;c++){var j=new b();typeof e[c]==="number"?(j.x=e[c],j.y=e[c+1],c++):Array.isArray(e[c])?(j.x=e[c][0],j.y=e[c][1]):(j.x=e[c].x,j.y=e[c].y),this.points.push(j)}return this},addPoint:function(e,c){var j=new b(e,c);return this.points.push(j),j},getStartPoint:function(e){return e===void 0&&(e=new b()),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,c){c===void 0&&(c=new b());var j=this.points,g=(j.length-1)*e,h=Math.floor(g),k=g-h,m=j[h===0?h:h-1],n=j[h],p=j[h>j.length-2?j.length-1:h+1],q=j[h>j.length-3?j.length-1:h+2];return c.set(d(k,m.x,n.x,p.x,q.x),d(k,m.y,n.y,p.y,q.y))},toJSON:function(){for(var e=[],c=0;c<this.points.length;c++)e.push(this.points[c].x),e.push(this.points[c].y);return{type:this.type,points:e}}});f.fromJSON=function(e){return new f(e.points)},o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c){(!f||f==="")&&(f=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","void main () {","gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","}"].join(`
`)),c===void 0&&(c=null),this.key=b,this.fragmentSrc=f,this.vertexSrc=e,this.uniforms=c}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(31);d.ColorToRGBA=a(811),d.ComponentToHex=a(355),d.GetColor=a(165),d.GetColor32=a(295),d.HexStringToColor=a(294),d.HSLToColor=a(812),d.HSVColorWheel=a(813),d.HSVToRGB=a(166),d.HueToComponent=a(356),d.IntegerToColor=a(297),d.IntegerToRGB=a(298),d.Interpolate=a(814),d.ObjectToColor=a(299),d.RandomRGB=a(815),d.RGBStringToColor=a(300),d.RGBToHSV=a(296),d.RGBToString=a(816),d.ValueToColor=a(164),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l=d.toString(16);return l.length===1?"0"+l:l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?d+(l-d)*6*i:i<1/2?l:i<2/3?d+(l-d)*(2/3-i)*6:d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(117),l=function(i){if(document.readyState==="complete"||document.readyState==="interactive"){i();return}var b=function(){document.removeEventListener("deviceready",b,!0),document.removeEventListener("DOMContentLoaded",b,!0),window.removeEventListener("load",b,!0),i()};document.body?d.cordova?document.addEventListener("deviceready",b,!1):(document.addEventListener("DOMContentLoaded",b,!0),window.addEventListener("load",b,!0)):window.setTimeout(b,20)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(177),l=function(i,b){var f=window.screen,e=f?f.orientation||f.mozOrientation||f.msOrientation:!1;if(e&&typeof e.type==="string")return e.type;if(typeof e==="string")return e;if(f)return f.height>f.width?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE;{if(typeof window.orientation==="number")return window.orientation===0||window.orientation===180?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return d.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return d.ORIENTATION.LANDSCAPE}}return b>i?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l;return d!==""&&(typeof d==="string"?l=document.getElementById(d):d&&d.nodeType===1&&(l=d)),l||(l=document.body),l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l="";try{if(window.DOMParser){var i=new DOMParser();l=i.parseFromString(d,"text/xml")}else l=new ActiveXObject("Microsoft.XMLDOM"),l.loadXML(d)}catch(b){l=null}return!l||!l.documentElement||l.getElementsByTagName("parsererror").length?null:l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(179),i=a(10),b=a(54),f=a(20),e=a(366),c=a(367),j=a(368),g=a(369),h=a(29),k=a(333),m=new d({initialize:function n(p,q){this.game=p,this.scaleManager,this.canvas,this.config=q,this.enabled=!0,this.events=new i(),this.isOver=!0,this.defaultCursor="",this.keyboard=q.inputKeyboard?new e(this):null,this.mouse=q.inputMouse?new c(this):null,this.touch=q.inputTouch?new g(this):null,this.pointers=[],this.pointersTotal=q.inputActivePointers,q.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var r=0;r<=this.pointersTotal;r++){var s=new j(this,r);s.smoothFactor=q.inputSmoothFactor,this.pointers.push(s)}this.mousePointer=q.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h(),this._tempMatrix2=new h(),this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(f.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(b.MANAGER_BOOT),this.game.events.on(f.PRE_RENDER,this.preRender,this),this.game.events.once(f.DESTROY,this.destroy,this)},setCanvasOver:function(n){this.isOver=!0,this.events.emit(b.GAME_OVER,n)},setCanvasOut:function(n){this.isOver=!1,this.events.emit(b.GAME_OUT,n)},preRender:function(){var n=this.game.loop.now,p=this.game.loop.delta,q=this.game.scene.getScenes(!0,!0);this.time=n,this.events.emit(b.MANAGER_UPDATE);for(var r=0;r<q.length;r++){var s=q[r];if(s.sys.input&&s.sys.input.updatePoll(n,p)&&this.globalTopOnly)return}},setDefaultCursor:function(n){this.defaultCursor=n,this.canvas.style.cursor!==n&&(this.canvas.style.cursor=n)},setCursor:function(n){n.cursor&&(this.canvas.style.cursor=n.cursor)},resetCursor:function(n){n.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(n){n===void 0&&(n=1);var p=[];this.pointersTotal+n>10&&(n=10-this.pointersTotal);for(var q=0;q<n;q++){var r=this.pointers.length,s=new j(this,r);s.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(s),this.pointersTotal++,p.push(s)}return p},updateInputPlugins:function(n,p){var q=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var r=0;r<q.length;r++){var s=q[r];if(s.sys.input){var t=s.sys.input.update(n,p);if(t&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(n){for(var p=this.pointers,q=[],r=0;r<n.changedTouches.length;r++)for(var s=n.changedTouches[r],t=1;t<this.pointersTotal;t++){var u=p[t];if(!u.active){u.touchstart(s,n),this.activePointer=u,q.push(u);break}}this.updateInputPlugins(l.TOUCH_START,q)},onTouchMove:function(n){for(var p=this.pointers,q=[],r=0;r<n.changedTouches.length;r++)for(var s=n.changedTouches[r],t=1;t<this.pointersTotal;t++){var u=p[t];if(u.active&&u.identifier===s.identifier){u.touchmove(s,n),this.activePointer=u,q.push(u);break}}this.updateInputPlugins(l.TOUCH_MOVE,q)},onTouchEnd:function(n){for(var p=this.pointers,q=[],r=0;r<n.changedTouches.length;r++)for(var s=n.changedTouches[r],t=1;t<this.pointersTotal;t++){var u=p[t];if(u.active&&u.identifier===s.identifier){u.touchend(s,n),q.push(u);break}}this.updateInputPlugins(l.TOUCH_END,q)},onTouchCancel:function(n){for(var p=this.pointers,q=[],r=0;r<n.changedTouches.length;r++)for(var s=n.changedTouches[r],t=1;t<this.pointersTotal;t++){var u=p[t];if(u.active&&u.identifier===s.identifier){u.touchcancel(s,n),q.push(u);break}}this.updateInputPlugins(l.TOUCH_CANCEL,q)},onMouseDown:function(n){this.mousePointer.down(n),this.mousePointer.updateMotion(),this.updateInputPlugins(l.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(n){this.mousePointer.move(n),this.mousePointer.updateMotion(),this.updateInputPlugins(l.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(n){this.mousePointer.up(n),this.mousePointer.updateMotion(),this.updateInputPlugins(l.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(n){this.mousePointer.wheel(n),this.updateInputPlugins(l.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(n){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(b.POINTERLOCK_CHANGE,n,p)},inputCandidate:function(n,p){var q=n.input;if(!q||!q.enabled||!q.alwaysEnabled&&!n.willRender(p))return!1;var r=!0,s=n.parentContainer;if(s)do{if(!s.willRender(p)){r=!1;break}s=s.parentContainer}while(s);return r},hitTest:function(n,p,q,r){r===void 0&&(r=this._tempHitTest);var s=this._tempPoint,t=q.scrollX,u=q.scrollY;r.length=0;var v=n.x,x=n.y;q.resolution!==1&&(v+=q._x,x+=q._y),q.getWorldPoint(v,x,s),n.worldX=s.x,n.worldY=s.y;for(var z={x:0,y:0},y=this._tempMatrix,A=this._tempMatrix2,D=0;D<p.length;D++){var F=p[D];if(!this.inputCandidate(F,q))continue;var H=s.x+t*F.scrollFactorX-t,I=s.y+u*F.scrollFactorY-u;F.parentContainer?(F.getWorldTransformMatrix(y,A),y.applyInverse(H,I,z)):k(H,I,F.x,F.y,F.rotation,F.scaleX,F.scaleY,z),this.pointWithinHitArea(F,z.x,z.y)&&r.push(F)}return r},pointWithinHitArea:function(n,p,q){p+=n.displayOriginX,q+=n.displayOriginY;var r=n.input;return r&&r.hitAreaCallback(r.hitArea,p,q,n)?(r.localX=p,r.localY=q,!0):!1},pointWithinInteractiveObject:function(n,p,q){return n.hitArea?(p+=n.gameObject.displayOriginX,q+=n.gameObject.displayOriginY,n.localX=p,n.localY=q,n.hitAreaCallback(n.hitArea,p,q,n)):!1},transformPointer:function(n,p,q,r){var s=n.position,t=n.prevPosition;t.x=s.x,t.y=s.y;var u=this.scaleManager.transformX(p),v=this.scaleManager.transformY(q),x=n.smoothFactor;!r||x===0?(s.x=u,s.y=v):(s.x=u*x+t.x*(1-x),s.y=v*x+t.y*(1-x))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(f.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var n=0;n<this.pointers.length;n++)this.pointers[n].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});o.exports=m},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(123),l=a(0),i=a(20),b=a(54),f=a(124),e=a(1),c=new l({initialize:function j(g){this.manager=g,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,g.events.once(b.MANAGER_BOOT,this.boot,this)},boot:function(){var j=this.manager.config;this.enabled=j.inputKeyboard,this.target=j.inputKeyboardEventTarget,this.addCapture(j.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(i.POST_STEP,this.postUpdate,this)},startListeners:function(){var j=this;this.onKeyDown=function(h){if(h.defaultPrevented||!j.enabled||!j.manager)return;j.queue.push(h),j.manager.useQueue||j.manager.events.emit(b.MANAGER_PROCESS);var k=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;j.preventDefault&&!k&&j.captures.indexOf(h.keyCode)>-1&&h.preventDefault()},this.onKeyUp=function(h){if(h.defaultPrevented||!j.enabled||!j.manager)return;j.queue.push(h),j.manager.useQueue||j.manager.events.emit(b.MANAGER_PROCESS);var k=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;j.preventDefault&&!k&&j.captures.indexOf(h.keyCode)>-1&&h.preventDefault()};var g=this.target;g&&(g.addEventListener("keydown",this.onKeyDown,!1),g.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var j=this.target;j.removeEventListener("keydown",this.onKeyDown,!1),j.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(j){typeof j==="string"&&(j=j.split(",")),Array.isArray(j)||(j=[j]);for(var g=this.captures,h=0;h<j.length;h++){var k=j[h];typeof k==="string"&&(k=f[k.trim().toUpperCase()]),g.indexOf(k)===-1&&g.push(k)}this.preventDefault=g.length>0},removeCapture:function(j){typeof j==="string"&&(j=j.split(",")),Array.isArray(j)||(j=[j]);for(var g=this.captures,h=0;h<j.length;h++){var k=j[h];typeof k==="string"&&(k=f[k.toUpperCase()]),d(g,k)}this.preventDefault=g.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(i.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(169),i=a(54),b=a(1),f=new d({initialize:function e(c){this.manager=c,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=b,this.onMouseDown=b,this.onMouseUp=b,this.onMouseDownWindow=b,this.onMouseUpWindow=b,this.onMouseOver=b,this.onMouseOut=b,this.onMouseWheel=b,this.pointerLockChange=b,c.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.capture=e.inputMouseCapture,this.target?typeof this.target==="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(l.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){l.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this,c=this.manager.canvas,j=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseMove(m),e.capture&&m.preventDefault())},this.onMouseDown=function(m){j&&window.focus(),!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseDown(m),e.capture&&m.target===c&&m.preventDefault())},this.onMouseDownWindow=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&m.target!==c&&e.manager.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onMouseUp(m),e.capture&&m.target===c&&m.preventDefault())},this.onMouseUpWindow=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&m.target!==c&&e.manager.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onMouseWheel(m)};var g=this.target;if(!g)return;var h={passive:!0},k={passive:!1};g.addEventListener("mousemove",this.onMouseMove,this.capture?k:h),g.addEventListener("mousedown",this.onMouseDown,this.capture?k:h),g.addEventListener("mouseup",this.onMouseUp,this.capture?k:h),g.addEventListener("mouseover",this.onMouseOver,this.capture?k:h),g.addEventListener("mouseout",this.onMouseOut,this.capture?k:h),g.addEventListener("wheel",this.onMouseWheel,this.capture?k:h),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("mousedown",this.onMouseDownWindow,k),window.addEventListener("mouseup",this.onMouseUpWindow,k)),l.pointerLock&&(this.pointerLockChange=function(m){var n=e.target;e.locked=document.pointerLockElement===n||document.mozPointerLockElement===n||document.webkitPointerLockElement===n?!0:!1,e.manager.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDownWindow),window.removeEventListener("mouseup",this.onMouseUpWindow)),l.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(317),l=a(0),i=a(53),b=a(106),f=a(328),e=a(3),c=new l({initialize:function j(g,h){this.manager=g,this.id=h,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e(),this.prevPosition=new e(),this.midPoint=new e(-1,-1),this.velocity=new e(),this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=h===0?!0:!1,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(j){var g=this.x,h=this.y;j.resolution!==1&&(g+=j._x,h+=j._y);var k=j.getWorldPoint(g,h);return this.worldX=k.x,this.worldY=k.y,this},positionToCamera:function(j,g){return j.getWorldPoint(this.x,this.y,g)},updateMotion:function(){var j=this.position.x,g=this.position.y,h=this.midPoint.x,k=this.midPoint.y;if(j===h&&g===k)return;var m=f(this.motionFactor,h,j),n=f(this.motionFactor,k,g);b(m,j,.1)&&(m=j),b(n,g,.1)&&(n=g),this.midPoint.set(m,n);var p=j-m,q=g-n;this.velocity.set(p,q),this.angle=d(m,n,j,g),this.distance=Math.sqrt(p*p+q*q)},up:function(j){"buttons"in j&&(this.buttons=j.buttons),this.event=j,this.button=j.button,this.upElement=j.target,this.manager.transformPointer(this,j.pageX,j.pageY,!1),j.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=j.timeStamp),this.isDown=!1,this.wasTouch=!1},down:function(j){"buttons"in j&&(this.buttons=j.buttons),this.event=j,this.button=j.button,this.downElement=j.target,this.manager.transformPointer(this,j.pageX,j.pageY,!1),j.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=j.timeStamp),this.isDown=!0,this.wasTouch=!1},move:function(j){"buttons"in j&&(this.buttons=j.buttons),this.event=j,this.manager.transformPointer(this,j.pageX,j.pageY,!0),this.locked&&(this.movementX=j.movementX||j.mozMovementX||j.webkitMovementX||0,this.movementY=j.movementY||j.mozMovementY||j.webkitMovementY||0),this.moveTime=j.timeStamp,this.wasTouch=!1},wheel:function(j){"buttons"in j&&(this.buttons=j.buttons),this.event=j,this.manager.transformPointer(this,j.pageX,j.pageY,!1),this.deltaX=j.deltaX,this.deltaY=j.deltaY,this.deltaZ=j.deltaZ,this.wasTouch=!1},touchstart:function(j,g){j.pointerId&&(this.pointerId=j.pointerId),this.identifier=j.identifier,this.target=j.target,this.active=!0,this.buttons=1,this.event=g,this.downElement=j.target,this.manager.transformPointer(this,j.pageX,j.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=g.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(j,g){this.event=g,this.manager.transformPointer(this,j.pageX,j.pageY,!0),this.moveTime=g.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(j,g){this.buttons=0,this.event=g,this.upElement=j.target,this.manager.transformPointer(this,j.pageX,j.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(j,g){this.buttons=0,this.event=g,this.upElement=j.target,this.manager.transformPointer(this,j.pageX,j.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return this.buttons&1?!0:!1},rightButtonDown:function(){return this.buttons&2?!0:!1},middleButtonDown:function(){return this.buttons&4?!0:!1},backButtonDown:function(){return this.buttons&8?!0:!1},forwardButtonDown:function(){return this.buttons&16?!0:!1},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?i(this.downX,this.downY,this.x,this.y):i(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(j,g){j===void 0&&(j=10),g===void 0&&(g=[]);for(var h=this.prevPosition.x,k=this.prevPosition.y,m=this.position.x,n=this.position.y,p=0;p<j;p++){var q=1/j*p;g[p]={x:f(q,h,m),y:f(q,k,n)}}return g},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(j){this.position.x=j}},y:{get:function(){return this.position.y},set:function(j){this.position.y=j}},time:{get:function(){return this.event?this.event.timeStamp:0}}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(54),i=a(1),b=new d({initialize:function f(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=i,this.onTouchStartWindow=i,this.onTouchMove=i,this.onTouchEnd=i,this.onTouchEndWindow=i,this.onTouchCancel=i,this.onTouchCancelWindow=i,this.onTouchOver=i,this.onTouchOut=i,e.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputTouch,this.target=f.inputTouchEventTarget,this.capture=f.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),f.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),this},startListeners:function(){var f=this,e=this.manager.canvas,c=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(k){c&&window.focus(),!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&(f.manager.onTouchStart(k),f.capture&&k.cancelable&&k.target===e&&k.preventDefault())},this.onTouchStartWindow=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&k.target!==e&&f.manager.onTouchStart(k)},this.onTouchMove=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&(f.manager.onTouchMove(k),f.capture&&k.cancelable&&k.preventDefault())},this.onTouchEnd=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&(f.manager.onTouchEnd(k),f.capture&&k.cancelable&&k.target===e&&k.preventDefault())},this.onTouchEndWindow=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&k.target!==e&&f.manager.onTouchEnd(k)},this.onTouchCancel=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&(f.manager.onTouchCancel(k),f.capture&&k.preventDefault())},this.onTouchCancelWindow=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&f.manager.onTouchCancel(k)},this.onTouchOver=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&f.manager.setCanvasOver(k)},this.onTouchOut=function(k){!k.defaultPrevented&&f.enabled&&f.manager&&f.manager.enabled&&f.manager.setCanvasOut(k)};var j=this.target;if(!j)return;var g={passive:!0},h={passive:!1};j.addEventListener("touchstart",this.onTouchStart,this.capture?h:g),j.addEventListener("touchmove",this.onTouchMove,this.capture?h:g),j.addEventListener("touchend",this.onTouchEnd,this.capture?h:g),j.addEventListener("touchcancel",this.onTouchCancel,this.capture?h:g),j.addEventListener("touchover",this.onTouchOver,this.capture?h:g),j.addEventListener("touchout",this.onTouchOut,this.capture?h:g),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h)),this.enabled=!0},stopListeners:function(){var f=this.target;f.removeEventListener("touchstart",this.onTouchStart),f.removeEventListener("touchmove",this.onTouchMove),f.removeEventListener("touchend",this.onTouchEnd),f.removeEventListener("touchcancel",this.onTouchCancel),f.removeEventListener("touchover",this.onTouchOver),f.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(20),i=a(10),b=a(8),f=a(16),e=a(5),c=a(2),j=a(23),g=a(123),h=new d({Extends:i,initialize:function k(m){i.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted?this.boot():m.events.once(l.BOOT,this.boot,this)},boot:function(){var k,m,n,p,q,r,s,t=this.game.config,u=t.installGlobalPlugins;for(u=u.concat(this._pendingGlobal),k=0;k<u.length;k++)m=u[k],n=c(m,"key",null),p=c(m,"plugin",null),q=c(m,"start",!1),r=c(m,"mapping",null),s=c(m,"data",null),n&&(p?this.install(n,p,q,r,s):console.warn("Missing `plugin` for key: "+n));for(u=t.installScenePlugins,u=u.concat(this._pendingScene),k=0;k<u.length;k++)m=u[k],n=c(m,"key",null),p=c(m,"plugin",null),r=c(m,"mapping",null),n&&(p?this.installScenePlugin(n,p,r):console.warn("Missing `plugin` for key: "+n));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(l.DESTROY,this.destroy,this)},addToScene:function(k,m,n){var p,q,r,s=this.game,t=k.scene,u=k.settings.map,v=k.settings.isBooted;for(p=0;p<m.length;p++)q=m[p],s[q]?(k[q]=s[q],u.hasOwnProperty(q)&&(t[u[q]]=k[q])):q==="game"&&u.hasOwnProperty(q)&&(t[u[q]]=s);for(var x=0;x<n.length;x++)for(r=n[x],p=0;p<r.length;p++){q=r[p];if(!j.hasCore(q))continue;var z=j.getCore(q),y=new z.plugin(t,this);k[z.mapping]=y,z.custom?t[z.mapping]=y:u.hasOwnProperty(z.mapping)&&(t[u[z.mapping]]=y),v&&y.boot()}for(r=this.plugins,p=0;p<r.length;p++){var A=r[p];A.mapping&&(t[A.mapping]=A.plugin)}},getDefaultScenePlugins:function(){var k=this.game.config.defaultPlugins;return k=k.concat(this.scenePlugins),k},installScenePlugin:function(k,m,n,p,q){q===void 0&&(q=!1);if(typeof m!=="function"){console.warn("Invalid Scene Plugin: "+k);return}if(!j.hasCore(k))j.register(k,m,n,!0),this.scenePlugins.push(k);else if(!q&&j.hasCore(k)){console.warn("Scene Plugin key in use: "+k);return}if(p){var r=new m(p,this);p.sys[k]=r,n&&n!==""&&(p[n]=r),r.boot()}},install:function(k,m,n,p,q){n===void 0&&(n=!1),p===void 0&&(p=null),q===void 0&&(q=null);if(typeof m!=="function")return console.warn("Invalid Plugin: "+k),null;if(j.hasCustom(k))return console.warn("Plugin key in use: "+k),null;p!==null&&(n=!0);if(!this.game.isBooted)this._pendingGlobal.push({key:k,plugin:m,start:n,mapping:p,data:q});else{j.registerCustom(k,m,p,q);if(n)return this.start(k)}return null},getIndex:function(k){for(var m=this.plugins,n=0;n<m.length;n++){var p=m[n];if(p.key===k)return n}return-1},getEntry:function(k){var m=this.getIndex(k);if(m!==-1)return this.plugins[m]},isActive:function(k){var m=this.getEntry(k);return m&&m.active},start:function(k,m){m===void 0&&(m=k);var n=this.getEntry(m);return n&&!n.active?(n.active=!0,n.plugin.start()):n||(n=this.createEntry(k,m)),n?n.plugin:null},createEntry:function(k,m){var n=j.getCustom(k);if(n){var p=new n.plugin(this);n={key:m,plugin:p,active:!0,mapping:n.mapping,data:n.data},this.plugins.push(n),p.init(n.data),p.start()}return n},stop:function(k){var m=this.getEntry(k);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},get:function(k,m){m===void 0&&(m=!0);var n=this.getEntry(k);if(n)return n.plugin;{var p=this.getClass(k);if(p&&m)return n=this.createEntry(k,k),n?n.plugin:null;if(p)return p}return null},getClass:function(k){return j.getCustomClass(k)},removeGlobalPlugin:function(k){var m=this.getEntry(k);m&&g(this.plugins,m),j.removeCustom(k)},removeScenePlugin:function(k){g(this.scenePlugins,k),j.remove(k)},registerGameObject:function(k,m,n){return m&&e.register(k,m),n&&f.register(k,n),this},removeGameObject:function(k,m,n){return m===void 0&&(m=!0),n===void 0&&(n=!0),m&&e.remove(k),n&&f.remove(k),this},registerFileType:function(k,m,n){b.register(k,m),n&&n.sys.load&&(n.sys.load[k]=m)},destroy:function(){for(var k=0;k<this.plugins.length;k++)this.plugins[k].plugin.destroy();j.destroyCustomPlugins(),this.game.noReturn&&j.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(177),l=a(0),i=a(10),b=a(92),f=a(20),e=a(869),c=a(363),j=a(358),g=a(1),h=a(11),k=a(372),m=a(93),n=a(3),p=new l({Extends:i,initialize:function q(r){i.call(this),this.game=r,this.canvas,this.canvasBounds=new h(),this.parent=null,this.parentIsWindow=!1,this.parentSize=new k(),this.gameSize=new k(),this.baseSize=new k(),this.displaySize=new k(),this.scaleMode=d.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this._resetZoom=!1,this.displayScale=new n(1,1),this.autoRound=!1,this.autoCenter=d.CENTER.NO_CENTER,this.orientation=d.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:g,windowResize:g,fullScreenChange:g,fullScreenError:g}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var q=this.game;this.canvas=q.canvas,this.fullscreen=q.device.fullscreen,this.scaleMode!==d.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===d.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),q.events.on(f.PRE_STEP,this.step,this),q.events.once(f.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(q){this.getParent(q),this.getParentBounds();var r=q.width,s=q.height,t=q.scaleMode,u=q.resolution,v=q.zoom,x=q.autoRound;if(typeof r==="string"){var z=this.parentSize.width;z===0&&(z=window.innerWidth);var y=parseInt(r,10)/100;r=Math.floor(z*y)}if(typeof s==="string"){var A=this.parentSize.height;A===0&&(A=window.innerHeight);var D=parseInt(s,10)/100;s=Math.floor(A*D)}this.resolution=1,this.scaleMode=t,this.autoRound=x,this.autoCenter=q.autoCenter,this.resizeInterval=q.resizeInterval,x&&(r=Math.floor(r),s=Math.floor(s)),this.gameSize.setSize(r,s),v===d.ZOOM.MAX_ZOOM&&(v=this.getMaxZoom()),this.zoom=v,v!==1&&(this._resetZoom=!0),this.baseSize.setSize(r*u,s*u),x&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),q.minWidth>0&&this.displaySize.setMin(q.minWidth*v,q.minHeight*v),q.maxWidth>0&&this.displaySize.setMax(q.maxWidth*v,q.maxHeight*v),this.displaySize.setSize(r,s),this.orientation=j(r,s)},getParent:function(q){var r=q.parent;if(r===null)return;this.parent=c(r),this.parentIsWindow=this.parent===document.body;if(q.expandParent&&q.scaleMode!==d.SCALE_MODE.NONE){var s=this.parent.getBoundingClientRect();(this.parentIsWindow||s.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",s=this.parent.getBoundingClientRect(),!this.parentIsWindow&&s.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}q.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=c(q.fullscreenTarget))},getParentBounds:function(){if(!this.parent)return!1;var q=this.parentSize,r=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(r.height=e(!0));var s=this.resolution,t=r.width*s,u=r.height*s;return q.width!==t||q.height!==u?(q.setSize(t,u),!0):!1},lockOrientation:function(q){var r=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return r?r.call(screen,q):!1},setParentSize:function(q,r){return this.parentSize.setSize(q,r),this.refresh()},setGameSize:function(q,r){var s=this.autoRound,t=this.resolution;s&&(q=Math.floor(q),r=Math.floor(r));var u=this.width,v=this.height;return this.gameSize.resize(q,r),this.baseSize.resize(q*t,r*t),s&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(q/r),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(u,v)},resize:function(q,r){var s=this.zoom,t=this.resolution,u=this.autoRound;u&&(q=Math.floor(q),r=Math.floor(r));var v=this.width,x=this.height;this.gameSize.resize(q,r),this.baseSize.resize(q*t,r*t),u&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(q*s*t,r*s*t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var z=this.canvas.style,y=q*s,A=r*s;return u&&(y=Math.floor(y),A=Math.floor(A)),(y!==q||A!==r)&&(z.width=y+"px",z.height=A+"px"),this.refresh(v,x)},setZoom:function(q){return this.zoom=q,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(q,r){q===void 0&&(q=this.width),r===void 0&&(r=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var s=this.game.domContainer;if(s){this.baseSize.setCSS(s);var t=this.canvas.style,u=s.style;u.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",u.marginLeft=t.marginLeft,u.marginTop=t.marginTop}return this.emit(b.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution,q,r),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var q=j(this.width,this.height);q!==this.orientation&&(this.orientation=q,this.emit(b.ORIENTATION_CHANGE,q))}},updateScale:function(){var q=this.canvas.style,r=this.gameSize.width,s=this.gameSize.height,t,u,v=this.zoom,x=this.autoRound,z=1;this.scaleMode===d.SCALE_MODE.NONE?(this.displaySize.setSize(r*v*z,s*v*z),t=this.displaySize.width/z,u=this.displaySize.height/z,x&&(t=Math.floor(t),u=Math.floor(u)),this._resetZoom&&(q.width=t+"px",q.height=u+"px",this._resetZoom=!1)):this.scaleMode===d.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width*z,this.displaySize.height*z),t=this.displaySize.width/z,u=this.displaySize.height/z,x&&(t=Math.floor(t),u=Math.floor(u)),this.canvas.width=t,this.canvas.height=u):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),t=this.displaySize.width/z,u=this.displaySize.height/z,x&&(t=Math.floor(t),u=Math.floor(u)),q.width=t+"px",q.height=u+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var q=m(this.parentSize.width,this.gameSize.width,0,!0),r=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(q,r),1)},updateCenter:function(){var q=this.autoCenter;if(q===d.CENTER.NO_CENTER)return;var r=this.canvas,s=r.style,t=r.getBoundingClientRect(),u=t.width,v=t.height,x=Math.floor((this.parentSize.width-u)/2),z=Math.floor((this.parentSize.height-v)/2);q===d.CENTER.CENTER_HORIZONTALLY?z=0:q===d.CENTER.CENTER_VERTICALLY&&(x=0),s.marginLeft=x+"px",s.marginTop=z+"px"},updateBounds:function(){var q=this.canvasBounds,r=this.canvas.getBoundingClientRect();q.x=r.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),q.y=r.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),q.width=r.width,q.height=r.height},transformX:function(q){return(q-this.canvasBounds.left)*this.displayScale.x},transformY:function(q){return(q-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(q){q===void 0&&(q={navigationUI:"hide"});var r=this.fullscreen;if(!r.available){this.emit(b.FULLSCREEN_UNSUPPORTED);return}if(!r.active){var s=this.getFullscreenTarget();r.keyboard?s[r.request](Element.ALLOW_KEYBOARD_INPUT):s[r.request](q)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(b.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(q){this.removeFullscreenTarget(),this.emit(b.FULLSCREEN_FAILED,q)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var q=document.createElement("div");q.style.margin="0",q.style.padding="0",q.style.width="100%",q.style.height="100%",this.fullscreenTarget=q,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var r=this.canvas.parentNode;r.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var q=this.fullscreenTarget;if(q&&q.parentNode){var r=q.parentNode;r.insertBefore(this.canvas,q),r.removeChild(q)}}},stopFullscreen:function(){var q=this.fullscreen;if(!q.available)return this.emit(b.FULLSCREEN_UNSUPPORTED),!1;q.active&&document[q.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(b.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(q){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(q)},startListeners:function(){var q=this,r=this.listeners;r.orientationChange=function(){q._checkOrientation=!0,q.dirty=!0},r.windowResize=function(){q.dirty=!0},window.addEventListener("orientationchange",r.orientationChange,!1),window.addEventListener("resize",r.windowResize,!1);if(this.fullscreen.available){r.fullScreenChange=function(t){return q.onFullScreenChange(t)},r.fullScreenError=function(t){return q.onFullScreenError(t)};var s=["webkit","moz",""];s.forEach(function(t){document.addEventListener(t+"fullscreenchange",r.fullScreenChange,!1),document.addEventListener(t+"fullscreenerror",r.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",r.fullScreenChange,!1),document.addEventListener("MSFullscreenError",r.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(q,r){if(!this.parent)return;this._lastCheck+=r,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0)},stopListeners:function(){var q=this.listeners;window.removeEventListener("orientationchange",q.orientationChange,!1),window.removeEventListener("resize",q.windowResize,!1);var r=["webkit","moz",""];r.forEach(function(s){document.removeEventListener(s+"fullscreenchange",q.fullScreenChange,!1),document.removeEventListener(s+"fullscreenerror",q.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",q.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",q.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===d.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===d.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});o.exports=p},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(93),b=a(3),f=new l({initialize:function e(c,j,g,h){c===void 0&&(c=0),j===void 0&&(j=c),g===void 0&&(g=0),h===void 0&&(h=null),this._width=c,this._height=j,this._parent=h,this.aspectMode=g,this.aspectRatio=j===0?1:c/j,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new b()},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,c){return e===void 0&&(e=0),c===void 0&&(c=e),this.snapTo.set(e,c),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,c){return e===void 0&&(e=0),c===void 0&&(c=e),this.minWidth=d(e,0,this.maxWidth),this.minHeight=d(c,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,c){return e===void 0&&(e=Number.MAX_VALUE),c===void 0&&(c=e),this.maxWidth=d(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=d(c,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,c){e===void 0&&(e=0),c===void 0&&(c=e);switch(this.aspectMode){case f.NONE:this._width=this.getNewWidth(i(e,this.snapTo.x)),this._height=this.getNewHeight(i(c,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case f.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(i(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case f.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(i(c,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case f.FIT:this.constrain(e,c,!0);break;case f.ENVELOP:this.constrain(e,c,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,c){return this._width=this.getNewWidth(i(e,this.snapTo.x)),this._height=this.getNewHeight(i(c,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,c){return c===void 0&&(c=!0),e=d(e,this.minWidth,this.maxWidth),c&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,c){return c===void 0&&(c=!0),e=d(e,this.minHeight,this.maxHeight),c&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,c,j){e===void 0&&(e=0),c===void 0&&(c=e),j===void 0&&(j=!0),e=this.getNewWidth(e),c=this.getNewHeight(c);var g=this.snapTo,h=c===0?1:e/c;return j&&this.aspectRatio>h||!j&&this.aspectRatio<h?(e=i(e,g.x),c=e/this.aspectRatio,g.y>0&&(c=i(c,g.y),e=c*this.aspectRatio)):(j&&this.aspectRatio<h||!j&&this.aspectRatio>h)&&(c=i(c,g.y),e=c*this.aspectRatio,g.x>0&&(e=i(e,g.x),c=e*(1/this.aspectRatio))),this._width=e,this._height=c,this},fitTo:function(e,c){return this.constrain(e,c,!0)},envelop:function(e,c){return this.constrain(e,c,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});f.NONE=0,f.WIDTH_CONTROLS_HEIGHT=1,f.HEIGHT_CONTROLS_WIDTH=2,f.FIT=3,f.ENVELOP=4,o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(125),i=a(22),b=a(20),f=a(6),e=a(82),c=a(1),j=a(374),g=a(180),h=new d({initialize:function k(m,n){this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0;if(n){Array.isArray(n)||(n=[n]);for(var p=0;p<n.length;p++)this._pending.push({key:"default",scene:n[p],autoStart:p===0,data:{}})}m.events.once(b.READY,this.bootQueue,this)},bootQueue:function(){if(this.isBooted)return;var k,m,n,p;for(k=0;k<this._pending.length;k++){m=this._pending[k],n=m.key,p=m.scene;var q;p instanceof j?q=this.createSceneFromInstance(n,p):typeof p==="object"?q=this.createSceneFromObject(n,p):typeof p==="function"&&(q=this.createSceneFromFunction(n,p)),n=q.sys.settings.key,this.keys[n]=q,this.scenes.push(q),this._data[n]&&(q.sys.settings.data=this._data[n].data,this._data[n].autoStart&&(m.autoStart=!0)),(m.autoStart||q.sys.settings.active)&&this._start.push(n)}for(this._pending.length=0,this._data={},this.isBooted=!0,k=0;k<this._start.length;k++)m=this._start[k],this.start(m);this._start.length=0},processQueue:function(){var k=this._pending.length,m=this._queue.length;if(k===0&&m===0)return;var n,p;if(k){for(n=0;n<k;n++)p=this._pending[n],this.add(p.key,p.scene,p.autoStart,p.data);for(n=0;n<this._start.length;n++)p=this._start[n],this.start(p);this._start.length=0,this._pending.length=0;return}for(n=0;n<this._queue.length;n++)p=this._queue[n],this[p.op](p.keyA,p.keyB);this._queue.length=0},add:function(k,m,n,p){n===void 0&&(n=!1),p===void 0&&(p={});if(this.isProcessing||!this.isBooted)return this._pending.push({key:k,scene:m,autoStart:n,data:p}),this.isBooted||(this._data[k]={data:p}),null;k=this.getKey(k,m);var q;return m instanceof j?q=this.createSceneFromInstance(k,m):typeof m==="object"?(m.key=k,q=this.createSceneFromObject(k,m)):typeof m==="function"&&(q=this.createSceneFromFunction(k,m)),q.sys.settings.data=p,k=q.sys.settings.key,this.keys[k]=q,this.scenes.push(q),(n||q.sys.settings.active)&&(this._pending.length?this._start.push(k):this.start(k)),q},remove:function(k){if(this.isProcessing)this._queue.push({op:"remove",keyA:k,keyB:null});else{var m=this.getScene(k);if(!m||m.sys.isTransitioning())return this;var n=this.scenes.indexOf(m),p=m.sys.settings.key;n>-1&&(delete this.keys[p],this.scenes.splice(n,1),this._start.indexOf(p)>-1&&(n=this._start.indexOf(p),this._start.splice(n,1)),m.sys.destroy())}return this},bootScene:function(k){var m=k.sys,n=m.settings;m.sceneUpdate=c,k.init&&(k.init.call(k,n.data),n.status=l.INIT,n.isTransition&&m.events.emit(i.TRANSITION_INIT,n.transitionFrom,n.transitionDuration));var p;m.load&&(p=m.load,p.reset()),p&&k.preload?(k.preload.call(k),p.list.size===0?this.create(k):(n.status=l.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start())):this.create(k)},loadComplete:function(k){var m=k.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(m)},payloadComplete:function(k){this.bootScene(k.scene)},update:function(k,m){this.processQueue(),this.isProcessing=!0;for(var n=this.scenes.length-1;n>=0;n--){var p=this.scenes[n].sys;p.settings.status>l.START&&p.settings.status<=l.RUNNING&&p.step(k,m)}},render:function(k){for(var m=0;m<this.scenes.length;m++){var n=this.scenes[m].sys;n.settings.visible&&n.settings.status>=l.LOADING&&n.settings.status<l.SLEEPING&&n.render(k)}this.isProcessing=!1},create:function(k){var m=k.sys,n=m.settings;if(k.create){n.status=l.CREATING,k.create.call(k,n.data);if(n.status===l.DESTROYED)return}n.isTransition&&m.events.emit(i.TRANSITION_START,n.transitionFrom,n.transitionDuration),k.update&&(m.sceneUpdate=k.update),n.status=l.RUNNING,m.events.emit(i.CREATE,k)},createSceneFromFunction:function(k,m){var n=new m();if(n instanceof j){var p=n.sys.settings.key;p!==""&&(k=p);if(this.keys.hasOwnProperty(k))throw new Error("Cannot add a Scene with duplicate key: "+k);return this.createSceneFromInstance(k,n)}else return n.sys=new g(n),n.sys.settings.key=k,n.sys.init(this.game),n},createSceneFromInstance:function(k,m){var n=m.sys.settings.key;return n===""&&(m.sys.settings.key=k),m.sys.init(this.game),m},createSceneFromObject:function(k,m){var n=new j(m),p=n.sys.settings.key;p!==""?k=p:n.sys.settings.key=k,n.sys.init(this.game);for(var q=["init","preload","create","update","render"],r=0;r<q.length;r++){var s=f(m,q[r],null);s&&(n[q[r]]=s)}if(m.hasOwnProperty("extend"))for(var t in m.extend){if(!m.extend.hasOwnProperty(t))continue;var u=m.extend[t];t==="data"&&n.hasOwnProperty("data")&&typeof u==="object"?n.data.merge(u):t!=="sys"&&(n[t]=u)}return n},getKey:function(k,m){k||(k="default");if(typeof m==="function")return k;m instanceof j?k=m.sys.settings.key:typeof m==="object"&&m.hasOwnProperty("key")&&(k=m.key);if(this.keys.hasOwnProperty(k))throw new Error("Cannot add a Scene with duplicate key: "+k);return k},getScenes:function(k,m){k===void 0&&(k=!0),m===void 0&&(m=!1);for(var n=[],p=this.scenes,q=0;q<p.length;q++){var r=p[q];r&&(!k||k&&r.sys.isActive())&&n.push(r)}return m?n.reverse():n},getScene:function(k){if(typeof k==="string"){if(this.keys[k])return this.keys[k]}else for(var m=0;m<this.scenes.length;m++)if(k===this.scenes[m])return k;return null},isActive:function(k){var m=this.getScene(k);return m?m.sys.isActive():null},isPaused:function(k){var m=this.getScene(k);return m?m.sys.isPaused():null},isVisible:function(k){var m=this.getScene(k);return m?m.sys.isVisible():null},isSleeping:function(k){var m=this.getScene(k);return m?m.sys.isSleeping():null},pause:function(k,m){var n=this.getScene(k);return n&&n.sys.pause(m),this},resume:function(k,m){var n=this.getScene(k);return n&&n.sys.resume(m),this},sleep:function(k,m){var n=this.getScene(k);return n&&!n.sys.isTransitioning()&&n.sys.sleep(m),this},wake:function(k,m){var n=this.getScene(k);return n&&n.sys.wake(m),this},run:function(k,m){var n=this.getScene(k);if(!n){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===k){this.queueOp("start",k,m);break}return this}n.sys.isSleeping()?n.sys.wake(m):n.sys.isPaused()?n.sys.resume(m):this.start(k,m)},start:function(k,m){if(!this.isBooted)return this._data[k]={autoStart:!0,data:m},this;var n=this.getScene(k);if(n){if(n.sys.isActive()||n.sys.isPaused())n.sys.shutdown(),n.sys.start(m);else{n.sys.start(m);var p;n.sys.load&&(p=n.sys.load);if(p&&n.sys.settings.hasOwnProperty("pack")){p.reset();if(p.addPack({payload:n.sys.settings.pack}))return n.sys.settings.status=l.LOADING,p.once(e.COMPLETE,this.payloadComplete,this),p.start(),this}}this.bootScene(n)}return this},stop:function(k,m){var n=this.getScene(k);return n&&!n.sys.isTransitioning()&&n.sys.shutdown(m),this},switch:function(k,m){var n=this.getScene(k),p=this.getScene(m);return n&&p&&n!==p&&(this.sleep(k),this.isSleeping(m)?this.wake(m):this.start(m)),this},getAt:function(k){return this.scenes[k]},getIndex:function(k){var m=this.getScene(k);return this.scenes.indexOf(m)},bringToTop:function(k){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:k,keyB:null});else{var m=this.getIndex(k);if(m!==-1&&m<this.scenes.length){var n=this.getScene(k);this.scenes.splice(m,1),this.scenes.push(n)}}return this},sendToBack:function(k){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:k,keyB:null});else{var m=this.getIndex(k);if(m!==-1&&m>0){var n=this.getScene(k);this.scenes.splice(m,1),this.scenes.unshift(n)}}return this},moveDown:function(k){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:k,keyB:null});else{var m=this.getIndex(k);if(m>0){var n=m-1,p=this.getScene(k),q=this.getAt(n);this.scenes[m]=q,this.scenes[n]=p}}return this},moveUp:function(k){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:k,keyB:null});else{var m=this.getIndex(k);if(m<this.scenes.length-1){var n=m+1,p=this.getScene(k),q=this.getAt(n);this.scenes[m]=q,this.scenes[n]=p}}return this},moveAbove:function(k,m){if(k===m)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:k,keyB:m});else{var n=this.getIndex(k),p=this.getIndex(m);if(n!==-1&&p!==-1){var q=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(n+1,0,q)}}return this},moveBelow:function(k,m){if(k===m)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:k,keyB:m});else{var n=this.getIndex(k),p=this.getIndex(m);if(n!==-1&&p!==-1){var q=this.getAt(p);this.scenes.splice(p,1),n===0?this.scenes.unshift(q):this.scenes.splice(n,0,q)}}return this},queueOp:function(k,m,n){return this._queue.push({op:k,keyA:m,keyB:n}),this},swapPosition:function(k,m){if(k===m)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:k,keyB:m});else{var n=this.getIndex(k),p=this.getIndex(m);if(n!==p&&n!==-1&&p!==-1){var q=this.getAt(n);this.scenes[n]=this.scenes[p],this.scenes[p]=q}}return this},dump:function(){for(var k=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],n=0;n<this.scenes.length;n++){var p=this.scenes[n].sys,q=p.settings.visible&&(p.settings.status===l.RUNNING||p.settings.status===l.PAUSED)?"[*] ":"[-] ";q+=p.settings.key+" ("+m[p.settings.status]+")",k.push(q)}console.log(k.join(`
`))},destroy:function(){for(var k=0;k<this.scenes.length;k++){var m=this.scenes[k].sys;m.destroy()}this.update=c,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(180),i=new d({initialize:function b(f){this.sys=new l(this,f),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins},update:function(){}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(125),l=a(6),i=a(126),b=a(882),f={create:function(e){return typeof e==="string"?e={key:e}:e===void 0&&(e={}),{status:d.PENDING,key:l(e,"key",""),active:l(e,"active",!1),visible:l(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:l(e,"pack",!1),cameras:l(e,"cameras",null),map:l(e,"map",i(b,l(e,"mapAdd",{}))),physics:l(e,"physics",{}),loader:l(e,"loader",{}),plugins:l(e,"plugins",!1),input:l(e,"input",{})}}};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l=a(377),i=a(0),b=a(31),f=a(33),e=a(10),c=a(121),j=a(20),g=a(346),h=a(6),k=a(379),m=a(182),n=new i({Extends:e,initialize:function p(q){e.call(this),this.game=q,this.name="TextureManager",this.list={},this._tempCanvas=d.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,q.events.once(j.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(j.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(p){return this.exists(p)?(console.error("Texture key already in use: "+p),!1):!0},remove:function(p){if(typeof p==="string")if(this.exists(p))p=this.get(p);else return console.warn("No texture found matching key: "+p),this;return this.list.hasOwnProperty(p.key)&&(p.destroy(),this.emit(c.REMOVE,p.key)),this},removeKey:function(p){return this.list.hasOwnProperty(p)&&delete this.list[p],this},addBase64:function(p,q){if(this.checkKey(p)){var r=this,s=new Image();s.onerror=function(){r.emit(c.ERROR,p)},s.onload=function(){var t=r.create(p,s);k.Image(t,0),r.emit(c.ADD,p,t),r.emit(c.LOAD,p,t)},s.src=q}return this},getBase64:function(p,q,r,s){r===void 0&&(r="image/png"),s===void 0&&(s=.92);var t="",u=this.getFrame(p,q);if(u&&(u.source.isRenderTexture||u.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(u){var v=u.canvasData,x=d.create2D(this,v.width,v.height),z=x.getContext("2d");z.drawImage(u.source.image,v.x,v.y,v.width,v.height,0,0,v.width,v.height),t=x.toDataURL(r,s),d.remove(x)}return t},addImage:function(p,q,r){var s=null;return this.checkKey(p)&&(s=this.create(p,q),k.Image(s,0),r&&s.setDataSource(r),this.emit(c.ADD,p,s)),s},addGLTexture:function(p,q,r,s){var t=null;return this.checkKey(p)&&(t=this.create(p,q,r,s),t.add("__BASE",0,0,0,r,s),this.emit(c.ADD,p,t)),t},addRenderTexture:function(p,q){var r=null;return this.checkKey(p)&&(r=this.create(p,q),r.add("__BASE",0,0,0,q.width,q.height),this.emit(c.ADD,p,r)),r},generate:function(p,q){if(this.checkKey(p)){var r=d.create(this,1,1);return q.canvas=r,g(q),this.addCanvas(p,r)}else return null},createCanvas:function(p,q,r){q===void 0&&(q=256),r===void 0&&(r=256);if(this.checkKey(p)){var s=d.create(this,q,r,f.CANVAS,!0);return this.addCanvas(p,s)}return null},addCanvas:function(p,q,r){r===void 0&&(r=!1);var s=null;return r?s=new l(this,p,q,q.width,q.height):this.checkKey(p)&&(s=new l(this,p,q,q.width,q.height),this.list[p]=s,this.emit(c.ADD,p,s)),s},addAtlas:function(p,q,r,s){return Array.isArray(r.textures)||Array.isArray(r.frames)?this.addAtlasJSONArray(p,q,r,s):this.addAtlasJSONHash(p,q,r,s)},addAtlasJSONArray:function(p,q,r,s){var t=null;if(this.checkKey(p)){t=this.create(p,q);if(Array.isArray(r))for(var u=r.length===1,v=0;v<t.source.length;v++){var x=u?r[0]:r[v];k.JSONArray(t,v,x)}else k.JSONArray(t,0,r);s&&t.setDataSource(s),this.emit(c.ADD,p,t)}return t},addAtlasJSONHash:function(p,q,r,s){var t=null;if(this.checkKey(p)){t=this.create(p,q);if(Array.isArray(r))for(var u=0;u<r.length;u++)k.JSONHash(t,u,r[u]);else k.JSONHash(t,0,r);s&&t.setDataSource(s),this.emit(c.ADD,p,t)}return t},addAtlasXML:function(p,q,r,s){var t=null;return this.checkKey(p)&&(t=this.create(p,q),k.AtlasXML(t,0,r),s&&t.setDataSource(s),this.emit(c.ADD,p,t)),t},addUnityAtlas:function(p,q,r,s){var t=null;return this.checkKey(p)&&(t=this.create(p,q),k.UnityYAML(t,0,r),s&&t.setDataSource(s),this.emit(c.ADD,p,t)),t},addSpriteSheet:function(p,q,r){var s=null;if(this.checkKey(p)){s=this.create(p,q);var t=s.source[0].width,u=s.source[0].height;k.SpriteSheet(s,0,0,0,t,u,r),this.emit(c.ADD,p,s)}return s},addSpriteSheetFromAtlas:function(p,q){if(!this.checkKey(p))return null;var r=h(q,"atlas",null),s=h(q,"frame",null);if(!r||!s)return;var t=this.get(r),u=t.get(s);if(u){var v=this.create(p,u.source.image);return u.trimmed?k.SpriteSheetFromAtlas(v,u,q):k.SpriteSheet(v,0,u.cutX,u.cutY,u.cutWidth,u.cutHeight,q),this.emit(c.ADD,p,v),v}},create:function(p,q,r,s){var t=null;return this.checkKey(p)&&(t=new m(this,p,q,r,s),this.list[p]=t),t},exists:function(p){return this.list.hasOwnProperty(p)},get:function(p){return p===void 0&&(p="__DEFAULT"),this.list[p]?this.list[p]:p instanceof m?p:this.list.__MISSING},cloneFrame:function(p,q){if(this.list[p])return this.list[p].get(q).clone()},getFrame:function(p,q){if(this.list[p])return this.list[p].get(q)},getTextureKeys:function(){var p=[];for(var q in this.list)q!=="__DEFAULT"&&q!=="__MISSING"&&p.push(q);return p},getPixel:function(p,q,r,s){var t=this.getFrame(r,s);if(t){p-=t.x,q-=t.y;var u=t.data.cut;p+=u.x,q+=u.y;if(p>=u.x&&p<u.r&&q>=u.y&&q<u.b){var v=this._tempContext;v.clearRect(0,0,1,1),v.drawImage(t.source.image,p,q,1,1,0,0,1,1);var x=v.getImageData(0,0,1,1);return new b(x.data[0],x.data[1],x.data[2],x.data[3])}}return null},getPixelAlpha:function(p,q,r,s){var t=this.getFrame(r,s);if(t){p-=t.x,q-=t.y;var u=t.data.cut;p+=u.x,q+=u.y;if(p>=u.x&&p<u.r&&q>=u.y&&q<u.b){var v=this._tempContext;v.clearRect(0,0,1,1),v.drawImage(t.source.image,p,q,1,1,0,0,1,1);var x=v.getImageData(0,0,1,1);return x.data[3]}}return null},setTexture:function(p,q,r){return this.list[q]&&(p.texture=this.list[q],p.frame=p.texture.get(r)),p},renameTexture:function(p,q){var r=this.get(p);return r&&p!==q?(r.key=q,this.list[q]=r,delete this.list[p],!0):!1},each:function(p,q){for(var r=[null],s=1;s<arguments.length;s++)r.push(arguments[s]);for(var t in this.list)r[0]=this.list[t],p.apply(q,r)},destroy:function(){for(var p in this.list)this.list[p].destroy();this.list={},this.game=null,d.remove(this._tempCanvas)}});o.exports=n},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(19),i=a(31),b=a(33),f=a(120),e=a(182),c=new d({Extends:e,initialize:function j(g,h,k,m,n){e.call(this,g,h,k,m,n),this.add("__BASE",0,0,0,m,n),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=m,this.height=n,this.imageData=this.context.getImageData(0,0,m,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===b.WEBGL&&this.refresh(),this},draw:function(j,g,h){return this.context.drawImage(h,j,g),this.update()},drawFrame:function(j,g,h,k){h===void 0&&(h=0),k===void 0&&(k=0);var m=this.manager.getFrame(j,g);if(m){var n=m.canvasData,p=m.cutWidth,q=m.cutHeight,r=m.source.resolution;return this.context.drawImage(m.source.image,n.x,n.y,p,q,h,k,p/r,q/r),this.update()}else return this},setPixel:function(j,g,h,k,m,n){n===void 0&&(n=255),j=Math.abs(Math.floor(j)),g=Math.abs(Math.floor(g));var p=this.getIndex(j,g);if(p>-1){var q=this.context.getImageData(j,g,1,1);q.data[0]=h,q.data[1]=k,q.data[2]=m,q.data[3]=n,this.context.putImageData(q,j,g)}return this},putData:function(j,g,h,k,m,n,p){return k===void 0&&(k=0),m===void 0&&(m=0),n===void 0&&(n=j.width),p===void 0&&(p=j.height),this.context.putImageData(j,g,h,k,m,n,p),this},getData:function(j,g,h,k){j=l(Math.floor(j),0,this.width-1),g=l(Math.floor(g),0,this.height-1),h=l(h,1,this.width-j),k=l(k,1,this.height-g);var m=this.context.getImageData(j,g,h,k);return m},getPixel:function(j,g,h){h||(h=new i());var k=this.getIndex(j,g);if(k>-1){var m=this.data,n=m[k+0],p=m[k+1],q=m[k+2],r=m[k+3];h.setTo(n,p,q,r)}return h},getPixels:function(j,g,h,k){j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=this.width),k===void 0&&(k=h),j=Math.abs(Math.round(j)),g=Math.abs(Math.round(g));for(var m=l(j,0,this.width),n=l(j+h,0,this.width),p=l(g,0,this.height),q=l(g+k,0,this.height),r=new i(),s=[],t=p;t<q;t++){for(var u=[],v=m;v<n;v++)r=this.getPixel(v,t,r),u.push({x:v,y:t,color:r.color,alpha:r.alphaGL});s.push(u)}return s},getIndex:function(j,g){return j=Math.abs(Math.round(j)),g=Math.abs(Math.round(g)),j<this.width&&g<this.height?(j+g*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(j,g,h,k){return j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=this.width),k===void 0&&(k=this.height),this.context.clearRect(j,g,h,k),this.update()},setSize:function(j,g){return g===void 0&&(g=j),(j!==this.width||g!==this.height)&&(this.canvas.width=j,this.canvas.height=g,this._source.width=j,this._source.height=g,this._source.isPowerOf2=f(j,g),this.frames.__BASE.setSize(j,g,0,0),this.width=j,this.height=g,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l=a(0),i=a(120),b=a(234),f=new l({initialize:function e(c,j,g,h,k){k===void 0&&(k=!1);var m=c.manager.game;this.renderer=m.renderer,this.texture=c,this.source=j,this.image=j,this.compressionAlgorithm=null,this.resolution=1,this.width=g||j.naturalWidth||j.videoWidth||j.width||0,this.height=h||j.naturalHeight||j.videoHeight||j.height||0,this.scaleMode=b.DEFAULT,this.isCanvas=j instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&j instanceof HTMLVideoElement,this.isRenderTexture=j.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&j instanceof WebGLTexture,this.isPowerOf2=i(this.width,this.height),this.glTexture=null,this.flipY=k,this.init(m)},init:function(e){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=this.renderer.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer.gl;e&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):e&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&d.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AtlasXML:a(883),Canvas:a(884),Image:a(885),JSONArray:a(886),JSONHash:a(887),SpriteSheet:a(888),SpriteSheetFromAtlas:a(889),UnityYAML:a(890)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(381),l=a(385),i=a(387),b={create:function(f){var e=f.config.audio,c=f.device.audio;return e&&e.noAudio||!c.webAudio&&!c.audioData?new l(f):c.webAudio&&!(e&&e.disableWebAudio)?new i(f):new d(f)}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(127),l=a(0),i=a(59),b=a(384),f=new l({Extends:d,initialize:function e(c){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,d.call(this,c)},add:function(e,c){var j=new b(this,e,c);return this.sounds.push(j),j},unlock:function(){this.locked=!1;var e=this;this.game.cache.audio.entries.each(function(h,k){for(var m=0;m<k.length;m++)if(k[m].dataset.locked==="true")return e.locked=!0,!1;return!0});if(!this.locked)return;var c=!1,j=function(){c=!0},g=function(){if(c){c=!1;return}document.body.removeEventListener("touchmove",j),document.body.removeEventListener("touchend",g);var h=[];e.game.cache.audio.entries.each(function(m,n){for(var p=0;p<n.length;p++){var q=n[p];q.dataset.locked==="true"&&h.push(q)}return!0});if(h.length===0)return;var k=h[h.length-1];k.oncanplaythrough=function(){k.oncanplaythrough=null,h.forEach(function(m){m.dataset.locked="false"}),e.unlocked=!0},h.forEach(function(m){m.load()})};this.once(i.UNLOCKED,function(){for(this.forEachActiveSound(function(k){k.currentMarker===null&&k.duration===0&&(k.duration=k.tags[0].duration),k.totalDuration=k.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",j,!1),document.body.addEventListener("touchend",g,!1)},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){d.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,c,j){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:c,value:j}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(c){c.updateMute()}),this.emit(i.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(c){c.updateVolume()}),this.emit(i.GLOBAL_VOLUME,this,e)}}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(68),l=function(i,b,f,e,c){e===void 0&&(e=0),c===void 0&&(c=i.length);var j=[];if(d(i,e,c))for(var g=e;g<c;g++){var h=i[g];(!b||b&&f===void 0&&h.hasOwnProperty(b)||b&&f!==void 0&&h[b]===f)&&j.push(h)}return j};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(68),l=function(i,b,f,e,c){e===void 0&&(e=0),c===void 0&&(c=i.length);if(d(i,e,c))for(var j=e;j<c;j++){var g=i[j];if(!b||b&&f===void 0&&g.hasOwnProperty(b)||b&&f!==void 0&&g[b]===f)return g}return null};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(128),l=a(0),i=a(59),b=a(19),f=new l({Extends:d,initialize:function e(c,j,g){g===void 0&&(g={}),this.tags=c.game.cache.audio.get(j);if(!this.tags)throw new Error('There is no audio asset with key "'+j+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,d.call(this,c,j,g)},play:function(e,c){return this.manager.isLocked(this,"play",[e,c])?!1:d.prototype.play.call(this,e,c)?this.pickAndPlayAudioTag()?(this.emit(i.PLAY,this),!0):!1:!1},pause:function(){return this.manager.isLocked(this,"pause")?!1:this.startTime>0?!1:d.prototype.pause.call(this)?(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(i.PAUSE,this),!0):!1},resume:function(){return this.manager.isLocked(this,"resume")?!1:this.startTime>0?!1:d.prototype.resume.call(this)?this.pickAndPlayAudioTag()?(this.emit(i.RESUME,this),!0):!1:!1},stop:function(){return this.manager.isLocked(this,"stop")?!1:d.prototype.stop.call(this)?(this.stopAndReleaseAudioTag(),this.emit(i.STOP,this),!0):!1},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,c=this.currentConfig.delay,j=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=j,this.audio.currentTime=j,this.applyConfig(),c===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+c*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var c=this.tags[e];if(c.dataset.used==="false")return c.dataset.used="true",this.audio=c,!0}if(!this.manager.override)return!1;var j=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&j.push(h)},this),j.sort(function(h,k){return h.loop===k.loop?k.seek/k.duration-h.seek/h.duration:h.loop?1:-1});var g=j[0];return this.audio=g.audio,g.reset(),g.audio=null,g.startTime=0,g.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(c){console.warn(c)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){d.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e,c){if(!this.isPlaying)return;if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var j=this.currentMarker?this.currentMarker.start:0,g=j+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=g-this.manager.loopEndOffset?(this.audio.currentTime=j+Math.max(0,h-g),h=this.audio.currentTime):h<j&&(this.audio.currentTime+=j,h=this.audio.currentTime),h<this.previousTime&&this.emit(i.LOOPED,this);else if(h>=g){this.reset(),this.stopAndReleaseAudioTag(),this.emit(i.COMPLETE,this);return}this.previousTime=h},destroy:function(){d.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=b(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){d.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e;if(this.manager.isLocked(this,"mute",e))return;this.updateMute(),this.emit(i.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e;if(this.manager.isLocked(this,"volume",e))return;this.updateVolume(),this.emit(i.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e;if(this.manager.isLocked(this,i.RATE,e))return;this.calculateRate(),this.emit(i.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e;if(this.manager.isLocked(this,i.DETUNE,e))return;this.calculateRate(),this.emit(i.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){if(this.manager.isLocked(this,"seek",e))return;if(this.startTime>0)return;(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(i.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e;if(this.manager.isLocked(this,"loop",e))return;this.audio&&(this.audio.loop=e),this.emit(i.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(127),l=a(0),i=a(10),b=a(386),f=a(1),e=new l({Extends:i,initialize:function c(j){i.call(this),this.game=j,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(c,j){var g=new b(this,c,j);return this.sounds.push(g),g},addAudioSprite:function(c,j){var g=this.add(c,j);return g.spritemap={},g},play:function(c,j){return!1},playAudioSprite:function(c,j,g){return!1},remove:function(c){return d.prototype.remove.call(this,c)},removeByKey:function(c){return d.prototype.removeByKey.call(this,c)},pauseAll:f,resumeAll:f,stopAll:f,update:f,setRate:f,setDetune:f,setMute:f,setVolume:f,forEachActiveSound:function(c,j){d.prototype.forEachActiveSound.call(this,c,j)},destroy:function(){d.prototype.destroy.call(this)}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(128),l=a(0),i=a(10),b=a(18),f=function(){return!1},e=function(){return null},c=function(){return this},j=new l({Extends:i,initialize:function g(h,k,m){m===void 0&&(m={}),i.call(this),this.manager=h,this.key=k,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=b({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:f,updateMarker:f,removeMarker:e,play:f,pause:f,resume:f,stop:f,destroy:function(){d.prototype.destroy.call(this)},setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(388),l=a(127),i=a(0),b=a(59),f=a(389),e=new i({Extends:l,initialize:function c(j){this.context=this.createAudioContext(j),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),l.call(this,j),this.locked&&this.unlock()},createAudioContext:function(c){var j=c.config.audio;return j&&j.context?(j.context.resume(),j.context):new AudioContext()},setAudioContext:function(c){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=c,this.masterMuteNode=c.createGain(),this.masterVolumeNode=c.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(c.destination),this.destination=this.masterMuteNode,this},add:function(c,j){var g=new f(this,c,j);return this.sounds.push(g),g},decodeAudio:function(c,j){var g;Array.isArray(c)?g=c:g=[{key:c,data:j}];for(var h=this.game.cache.audio,k=g.length,m=0;m<g.length;m++){var n=g[m],p=n.key,q=n.data;typeof q==="string"&&(q=d(q));var r=function(t,u){h.add(t,u),this.emit(b.DECODED,t),k--,k===0&&this.emit(b.DECODED_ALL)}.bind(this,p),s=function(t,u){console.error("Error decoding audio: "+t+" - ",u?u.message:""),k--,k===0&&this.emit(b.DECODED_ALL)}.bind(this,p);this.context.decodeAudioData(q,r,s)}},unlock:function(){var c=this,j=document.body,g=function h(){c.context&&c.context.resume().then(function(){j.removeEventListener("touchstart",h),j.removeEventListener("touchend",h),j.removeEventListener("click",h),j.removeEventListener("keydown",h),c.unlocked=!0},function(){j.removeEventListener("touchstart",h),j.removeEventListener("touchend",h),j.removeEventListener("click",h),j.removeEventListener("keydown",h)})};j&&(j.addEventListener("touchstart",g,!1),j.addEventListener("touchend",g,!1),j.addEventListener("click",g,!1),j.addEventListener("keydown",g,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null;if(this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var c=this;this.context.close().then(function(){c.context=null})}l.prototype.destroy.call(this)},setMute:function(c){return this.mute=c,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(c){this.masterMuteNode.gain.setValueAtTime(c?0:1,0),this.emit(b.GLOBAL_MUTE,this,c)}},setVolume:function(c){return this.volume=c,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(c){this.masterVolumeNode.gain.setValueAtTime(c,0),this.emit(b.GLOBAL_VOLUME,this,c)}}});o.exports=e},function(o,w){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=new Uint8Array(256),l=0;l<a.length;l++)d[a.charCodeAt(l)]=l;var i=function(b){b=b.substr(b.indexOf(",")+1);var f=b.length,e=f*.75,c=0,j,g,h,k;b[f-1]==="="&&(e--,b[f-2]==="="&&e--);for(var m=new ArrayBuffer(e),n=new Uint8Array(m),p=0;p<f;p+=4)j=d[b.charCodeAt(p)],g=d[b.charCodeAt(p+1)],h=d[b.charCodeAt(p+2)],k=d[b.charCodeAt(p+3)],n[c++]=j<<2|g>>4,n[c++]=(g&15)<<4|h>>2,n[c++]=(h&3)<<6|k&63;return m};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(128),l=a(0),i=a(59),b=new l({Extends:d,initialize:function f(e,c,j){j===void 0&&(j={}),this.audioBuffer=e.game.cache.audio.get(c);if(!this.audioBuffer)throw new Error('There is no audio asset with key "'+c+'" in the audio cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,d.call(this,e,c,j)},play:function(f,e){return d.prototype.play.call(this,f,e)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(i.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime?!1:d.prototype.pause.call(this)?(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(i.PAUSE,this),!0):!1},resume:function(){return this.manager.context.currentTime<this.startTime?!1:d.prototype.resume.call(this)?(this.createAndStartBufferSource(),this.emit(i.RESUME,this),!0):!1},stop:function(){return d.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(i.STOP,this),!0):!1},createAndStartBufferSource:function(){var f=this.currentConfig.seek,e=this.currentConfig.delay,c=this.manager.context.currentTime+e,j=(this.currentMarker?this.currentMarker.start:0)+f,g=this.duration-f;this.playTime=c-f,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,j),Math.max(0,g)),this.resetConfig()},createAndStartLoopBufferSource:function(){var f=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=f,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,f),Math.max(0,e),Math.max(0,c))},createBufferSource:function(){var f=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(c){c.target===f.source&&(f.currentConfig.loop?f.hasLooped=!0:f.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),d.prototype.applyConfig.call(this)},update:function(f,e){this.hasEnded?(this.hasEnded=!1,d.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(i.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(i.LOOPED,this))},destroy:function(){d.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){d.prototype.calculateRate.call(this);var f=this.manager.context.currentTime;this.source&&typeof this.totalRate==="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,f),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,f)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var f=0,e=0;e<this.rateUpdates.length;e++){var c=0;e<this.rateUpdates.length-1?c=this.rateUpdates[e+1].time:c=this.manager.context.currentTime-this.playTime,f+=(c-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return f},getLoopTime:function(){for(var f=0,e=0;e<this.rateUpdates.length-1;e++)f+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-f)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(f){this.currentConfig.rate=f,this.calculateRate(),this.emit(i.RATE,this,f)}},setRate:function(f){return this.rate=f,this},detune:{get:function(){return this.currentConfig.detune},set:function(f){this.currentConfig.detune=f,this.calculateRate(),this.emit(i.DETUNE,this,f)}},setDetune:function(f){return this.detune=f,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(f){this.currentConfig.mute=f,this.muteNode.gain.setValueAtTime(f?0:1,0),this.emit(i.MUTE,this,f)}},setMute:function(f){return this.mute=f,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(f){this.currentConfig.volume=f,this.volumeNode.gain.setValueAtTime(f,0),this.emit(i.VOLUME,this,f)}},setVolume:function(f){return this.volume=f,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(f){if(this.manager.context.currentTime<this.startTime)return;(this.isPlaying||this.isPaused)&&(f=Math.min(Math.max(0,f),this.duration),this.currentConfig.seek=f,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(i.SEEK,this,f))}},setSeek:function(f){return this.seek=f,this},loop:{get:function(){return this.currentConfig.loop},set:function(f){this.currentConfig.loop=f,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),f&&this.createAndStartLoopBufferSource()),this.emit(i.LOOP,this,f)}},setLoop:function(f){return this.loop=f,this}});o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){for(var l=d.length,i=d[0].length,b=new Array(i),f=0;f<i;f++){b[f]=new Array(l);for(var e=l-1;e>-1;e--)b[f][e]=d[e][f]}return b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(i,b,f){var e=i[b];i[b]=i[f],i[f]=e}function d(i,b){return i<b?-1:i>b?1:0}var l=function(i,b,f,e,c){for(f===void 0&&(f=0),e===void 0&&(e=i.length-1),c===void 0&&(c=d);e>f;){if(e-f>600){var j=e-f+1,g=b-f+1,h=Math.log(j),k=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*k*(j-k)/j)*(g-j/2<0?-1:1),n=Math.max(f,Math.floor(b-g*k/j+m)),p=Math.min(e,Math.floor(b+(j-g)*k/j+m));l(i,b,n,p,c)}var q=i[b],r=f,s=e;for(a(i,f,b),c(i[e],q)>0&&a(i,f,e);r<s;){for(a(i,r,s),r++,s--;c(i[r],q)<0;)r++;for(;c(i[s],q)>0;)s--}c(i[f],q)===0?a(i,f,s):(s++,a(i,s,e)),s<=b&&(f=s+1),b<=s&&(e=s-1)}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(6),l=a(114),i=function(f,e,c){for(var j=[],g=0;g<f.length;g++)for(var h=0;h<e.length;h++)for(var k=0;k<c;k++)j.push({a:f[g],b:e[h]});return j},b=function(f,e,c){var j=d(c,"max",0),g=d(c,"qty",1),h=d(c,"random",!1),k=d(c,"randomB",!1),m=d(c,"repeat",0),n=d(c,"yoyo",!1),p=[];k&&l(e);if(m===-1)if(j===0)m=0;else{var q=f.length*e.length*g;n&&(q*=2),m=Math.ceil(j/q)}for(var r=0;r<=m;r++){var s=i(f,e,g);h&&l(s),p=p.concat(s),n&&(s.reverse(),p=p.concat(s))}return j&&p.splice(j),p};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(15),l=function(i,b){var f=d(b,"anims",null);if(f===null)return i;if(typeof f==="string")i.anims.play(f);else if(typeof f==="object"){var e=i.anims,c=d(f,"key",void 0),j=d(f,"startFrame",void 0),g=d(f,"delay",0),h=d(f,"repeat",0),k=d(f,"repeatDelay",0),m=d(f,"yoyo",!1),n=d(f,"play",!1),p=d(f,"delayedPlay",0);e.setDelay(g),e.setRepeat(h),e.setRepeatDelay(k),e.setYoyo(m),n?e.play(c,j):p>0?e.delayedPlay(p,c,j):e.load(c)}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i,b,f){f===void 0&&(f=new d());var e=Math.min(i.x,b.x),c=Math.min(i.y,b.y),j=Math.max(i.right,b.right)-e,g=Math.max(i.bottom,b.bottom)-c;return f.setTo(e,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(957),b=a(14),f=a(7),e=a(178),c=a(22),j=a(334),g=new d({Extends:b,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Origin,l.ScrollFactor,l.Transform,l.Visible,i],initialize:function h(k,m,n,p,q,r){b.call(this,k,"DOMElement"),this.parent=k.sys.game.domContainer,this.cache=k.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new j(),this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,n),typeof p==="string"?p[0]==="#"?this.setElement(p.substr(1),q,r):this.createElement(p,q,r):p&&this.setElement(p,q,r),k.sys.events.on(c.SLEEP,this.handleSceneEvent,this),k.sys.events.on(c.WAKE,this.handleSceneEvent,this)},handleSceneEvent:function(h){var k=this.node,m=k.style;k&&(m.display=h.settings.visible?"block":"none")},setSkew:function(h,k){return h===void 0&&(h=0),k===void 0&&(k=h),this.skewX=h,this.skewY=k,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var k=0;k<h.length;k++)this.node.addEventListener(h[k],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var k=0;k<h.length;k++)this.node.removeEventListener(h[k],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,k,m){return this.setElement(document.createElement(h),k,m)},setElement:function(h,k,m){this.removeElement();var n;typeof h==="string"?(h[0]==="#"&&(h=h.substr(1)),n=document.getElementById(h)):typeof h==="object"&&h.nodeType===1&&(n=h);if(!n)return this;this.node=n;if(k&&f(k))for(var p in k)n.style[p]=k[p];else typeof k==="string"&&(n.style=k);return n.style.zIndex="0",n.style.display="inline",n.style.position="absolute",n.phaser=this,this.parent&&this.parent.appendChild(n),m&&(n.innerText=m),this.updateSize()},createFromCache:function(h,k){var m=this.cache.get(h);return m&&this.createFromHTML(m,k),this},createFromHTML:function(h,k){k===void 0&&(k="div"),this.removeElement();var m=document.createElement(k);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var h=this.node,k=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=k.width||0,this.displayHeight=k.height||0,this},getChildByProperty:function(h,k){if(this.node){for(var m=this.node.querySelectorAll("*"),n=0;n<m.length;n++)if(m[n][h]===k)return m[n]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preUpdate:function(){var h=this.parentContainer,k=this.node;k&&h&&!h.willRender()&&(k.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(c.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(c.WAKE,this.handleSceneEvent,this)}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(958),l=a(14),i=function(b,f,e,c,j){var g=f.node,h=g.style,k=f.scene.sys.settings;if(!g||!h||!k.visible||l.RENDER_MASK!==f.renderFlags||f.cameraFilter!==0&&f.cameraFilter&c.id||f.parentContainer&&!f.parentContainer.willRender()){g&&(h.display="none");return}var m=f.parentContainer,n=c.alpha*f.alpha;m&&(n*=m.alpha);var p=b._tempMatrix1,q=b._tempMatrix2,r=b._tempMatrix3,s=0,t=0,u="0%",v="0%";j?(s=f.width*f.scaleX*f.originX,t=f.height*f.scaleY*f.originY,q.applyITRS(f.x-s,f.y-t,f.rotation,f.scaleX,f.scaleY),p.copyFrom(c.matrix),p.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),q.e=f.x-s,q.f=f.y-t,p.multiply(q,r)):(s=f.width*f.originX,t=f.height*f.originY,q.applyITRS(f.x-s,f.y-t,f.rotation,f.scaleX,f.scaleY),p.copyFrom(c.matrix),u=100*f.originX+"%",v=100*f.originY+"%",q.e-=c.scrollX*f.scrollFactorX,q.f-=c.scrollY*f.scrollFactorY,p.multiply(q,r)),f.transformOnly||(h.display="block",h.opacity=n,h.zIndex=f._depth,h.pointerEvents="auto",h.mixBlendMode=d[f._blendMode]),h.transform=r.getCSSMatrix()+" skew("+f.skewX+"rad, "+f.skewY+"rad) rotate3d("+f.rotate3d.x+","+f.rotate3d.y+","+f.rotate3d.z+","+f.rotate3d.w+f.rotate3dAngle+")",h.transformOrigin=u+" "+v};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(14),b=a(962),f=new d({Extends:i,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.Origin,l.ScrollFactor,l.Size,l.Texture,l.Tint,l.Transform,l.Visible,b],initialize:function e(c){i.call(this,c,"Extern")},preUpdate:function(){},render:function(){}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(193),l=a(87),i=a(13),b=a(4),f=function(e,c,j){j===void 0&&(j=new b());var g=l(c,0,i.PI2);return d(e,g,j)};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(400),l=a(193),i=a(87),b=a(13),f=function(e,c,j,g){g===void 0&&(g=[]),!c&&j>0&&(c=d(e)/j);for(var h=0;h<c;h++){var k=i(h/c,0,b.PI2);g.push(l(e,k))}return g};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l=d.width/2,i=d.height/2,b=Math.pow(l-i,2)/Math.pow(l+i,2);return Math.PI*(l+i)*(1+3*b/(10+Math.sqrt(4-3*b)))};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(192),l=a(28),i=function(b,f,e,c,j,g,h){var k=f.commandBuffer,m=k.length,n=g||b.currentContext;if(m===0||!l(b,n,f,c,j))return;var p=1,q=1,r=0,s=0,t=1,u=0,v=0,x=0;n.beginPath();for(var z=0;z<m;++z){var y=k[z];switch(y){case d.ARC:n.arc(k[z+1],k[z+2],k[z+3],k[z+4],k[z+5],k[z+6]),z+=7;break;case d.LINE_STYLE:t=k[z+1],r=k[z+2],p=k[z+3],u=(r&16711680)>>>16,v=(r&65280)>>>8,x=r&255,n.strokeStyle="rgba("+u+","+v+","+x+","+p+")",n.lineWidth=t,z+=3;break;case d.FILL_STYLE:s=k[z+1],q=k[z+2],u=(s&16711680)>>>16,v=(s&65280)>>>8,x=s&255,n.fillStyle="rgba("+u+","+v+","+x+","+q+")",z+=2;break;case d.BEGIN_PATH:n.beginPath();break;case d.CLOSE_PATH:n.closePath();break;case d.FILL_PATH:h||n.fill();break;case d.STROKE_PATH:h||n.stroke();break;case d.FILL_RECT:h?n.rect(k[z+1],k[z+2],k[z+3],k[z+4]):n.fillRect(k[z+1],k[z+2],k[z+3],k[z+4]),z+=4;break;case d.FILL_TRIANGLE:n.beginPath(),n.moveTo(k[z+1],k[z+2]),n.lineTo(k[z+3],k[z+4]),n.lineTo(k[z+5],k[z+6]),n.closePath(),h||n.fill(),z+=6;break;case d.STROKE_TRIANGLE:n.beginPath(),n.moveTo(k[z+1],k[z+2]),n.lineTo(k[z+3],k[z+4]),n.lineTo(k[z+5],k[z+6]),n.closePath(),h||n.stroke(),z+=6;break;case d.LINE_TO:n.lineTo(k[z+1],k[z+2]),z+=2;break;case d.MOVE_TO:n.moveTo(k[z+1],k[z+2]),z+=2;break;case d.LINE_FX_TO:n.lineTo(k[z+1],k[z+2]),z+=5;break;case d.MOVE_FX_TO:n.moveTo(k[z+1],k[z+2]),z+=5;break;case d.SAVE:n.save();break;case d.RESTORE:n.restore();break;case d.TRANSLATE:n.translate(k[z+1],k[z+2]),z+=2;break;case d.SCALE:n.scale(k[z+1],k[z+2]),z+=2;break;case d.ROTATE:n.rotate(k[z+1]),z+=1;break;case d.GRADIENT_FILL_STYLE:z+=5;break;case d.GRADIENT_LINE_STYLE:z+=6;break;case d.SET_TEXTURE:z+=2;break}}n.restore()};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(2),i=new d({initialize:function b(f,e,c,j,g){if(typeof f==="object"){var h=f;f=l(h,"x",0),e=l(h,"y",0),c=l(h,"power",0),j=l(h,"epsilon",100),g=l(h,"gravity",50)}else f===void 0&&(f=0),e===void 0&&(e=0),c===void 0&&(c=0),j===void 0&&(j=100),g===void 0&&(g=50);this.x=f,this.y=e,this.active=!0,this._gravity=g,this._power=0,this._epsilon=0,this.power=c,this.epsilon=j},update:function(b,f){var e=this.x-b.x,c=this.y-b.y,j=e*e+c*c;if(j===0)return;var g=Math.sqrt(j);j<this._epsilon&&(j=this._epsilon);var h=this._power*f/(j*g)*100;b.velocityX+=e*h,b.velocityY+=c*h},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(b){this._epsilon=b*b}},power:{get:function(){return this._power/this._gravity},set:function(b){this._power=b*this._gravity}},gravity:{get:function(){return this._gravity},set:function(b){var f=this.power;this._gravity=b,this.power=f}}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(39),i=a(53),b=new d({initialize:function f(e){this.emitter=e,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(f,e){var c=this.emitter;this.frame=c.getFrame(),c.emitZone&&c.emitZone.getPoint(this),f===void 0?(c.follow&&(this.x+=c.follow.x+c.followOffset.x),this.x+=c.x.onEmit(this,"x")):this.x+=f,e===void 0?(c.follow&&(this.y+=c.follow.y+c.followOffset.y),this.y+=c.y.onEmit(this,"y")):this.y+=e,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var j=c.speedX.onEmit(this,"speedX"),g=c.speedY?c.speedY.onEmit(this,"speedY"):j;if(c.radial){var h=l(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(j),this.velocityY=Math.sin(h)*Math.abs(g)}else if(c.moveTo){var k=c.moveToX.onEmit(this,"moveToX"),m=c.moveToY?c.moveToY.onEmit(this,"moveToY"):k,n=Math.atan2(m-this.y,k-this.x),p=i(this.x,this.y,k,m)/(this.life/1e3);this.velocityX=Math.cos(n)*p,this.velocityY=Math.sin(n)*p}else this.velocityX=j,this.velocityY=g;c.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=c.delay.onEmit(this,"delay"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),this.tint=c.tint.onEmit(this,"tint")},computeVelocity:function(f,e,c,j){var g=this.velocityX,h=this.velocityY,k=this.accelerationX,m=this.accelerationY,n=this.maxVelocityX,p=this.maxVelocityY;g+=f.gravityX*c,h+=f.gravityY*c,k&&(g+=k*c),m&&(h+=m*c),g>n?g=n:g<-n&&(g=-n),h>p?h=p:h<-p&&(h=-p),this.velocityX=g,this.velocityY=h;for(var q=0;q<j.length;q++)j[q].update(this,e,c)},checkBounds:function(f){var e=f.bounds,c=-this.bounce;this.x<e.x&&f.collideLeft?(this.x=e.x,this.velocityX*=c):this.x>e.right&&f.collideRight&&(this.x=e.right,this.velocityX*=c),this.y<e.y&&f.collideTop?(this.y=e.y,this.velocityY*=c):this.y>e.bottom&&f.collideBottom&&(this.y=e.bottom,this.velocityY*=c)},update:function(f,e,c){if(this.delayCurrent>0)return this.delayCurrent-=f,!1;var j=this.emitter,g=1-this.lifeCurrent/this.life;return this.lifeT=g,this.computeVelocity(j,f,e,c),this.x+=this.velocityX*e,this.y+=this.velocityY*e,j.bounds&&this.checkBounds(j),j.deathZone&&j.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=j.scaleX.onUpdate(this,"scaleX",g,this.scaleX),j.scaleY?this.scaleY=j.scaleY.onUpdate(this,"scaleY",g,this.scaleY):this.scaleY=this.scaleX,this.angle=j.rotate.onUpdate(this,"rotate",g,this.angle),this.rotation=l(this.angle),this.alpha=j.alpha.onUpdate(this,"alpha",g,this.alpha),this.tint=j.tint.onUpdate(this,"tint",g,this.tint),this.lifeCurrent-=f,this.lifeCurrent<=0)}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(52),l=a(0),i=a(12),b=a(405),f=a(406),e=a(974),c=a(2),j=a(185),g=a(407),h=a(108),k=a(403),m=a(408),n=a(11),p=a(131),q=a(3),r=a(58),s=new l({Mixins:[i.BlendMode,i.Mask,i.ScrollFactor,i.Visible],initialize:function t(u,v){this.manager=u,this.texture=u.texture,this.frames=[u.defaultFrame],this.defaultFrame=u.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=k,this.x=new e(v,"x",0,!0),this.y=new e(v,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new e(v,"accelerationX",0,!0),this.accelerationY=new e(v,"accelerationY",0,!0),this.maxVelocityX=new e(v,"maxVelocityX",1e4,!0),this.maxVelocityY=new e(v,"maxVelocityY",1e4,!0),this.speedX=new e(v,"speedX",0,!0),this.speedY=new e(v,"speedY",0,!0),this.moveTo=!1,this.moveToX=new e(v,"moveToX",0,!0),this.moveToY=new e(v,"moveToY",0,!0),this.bounce=new e(v,"bounce",0,!0),this.scaleX=new e(v,"scaleX",1),this.scaleY=new e(v,"scaleY",1),this.tint=new e(v,"tint",4294967295),this.alpha=new e(v,"alpha",1),this.lifespan=new e(v,"lifespan",1e3,!0),this.angle=new e(v,"angle",{min:0,max:360},!0),this.rotate=new e(v,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new e(v,"quantity",1,!0),this.delay=new e(v,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=d.NORMAL,this.follow=null,this.followOffset=new q(),this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,v&&this.fromJSON(v)},fromJSON:function(t){if(!t)return this;var u=0,v="";for(u=0;u<this.configFastMap.length;u++)v=this.configFastMap[u],h(t,v)&&(this[v]=c(t,v));for(u=0;u<this.configOpMap.length;u++)v=this.configOpMap[u],h(t,v)&&this[v].loadConfig(t);this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,h(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(g(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),h(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null);if(h(t,"callbackScope")){var x=c(t,"callbackScope",null);this.emitCallbackScope=x,this.deathCallbackScope=x}return h(t,"emitZone")&&this.setEmitZone(t.emitZone),h(t,"deathZone")&&this.setDeathZone(t.deathZone),h(t,"bounds")&&this.setBounds(t.bounds),h(t,"followOffset")&&this.followOffset.setFromObject(c(t,"followOffset",0)),h(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){t===void 0&&(t={});var u=0,v="";for(u=0;u<this.configFastMap.length;u++)v=this.configFastMap[u],t[v]=this[v];for(u=0;u<this.configOpMap.length;u++)v=this.configOpMap[u],this[v]&&(t[v]=this[v].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,u,v,x){return u===void 0&&(u=0),v===void 0&&(v=0),x===void 0&&(x=!1),this.follow=t,this.followOffset.set(u,v),this.trackVisible=x,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;{if(this.randomFrame)return j(this.frames);{var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=r(this.currentFrame+1,0,this._frameLength)),t}}},setFrame:function(t,u,v){u===void 0&&(u=!0),v===void 0&&(v=1),this.randomFrame=u,this.frameQuantity=v,this.currentFrame=0,this._frameCounter=0;var x=typeof t;if(Array.isArray(t)||x==="string"||x==="number")this.manager.setEmitterFrames(t,this);else if(x==="object"){var z=t;t=c(z,"frames",null),t&&this.manager.setEmitterFrames(t,this);var y=c(z,"cycle",!1);this.randomFrame=y?!1:!0,this.frameQuantity=c(z,"quantity",v)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return t===void 0&&(t=!0),this.radial=t,this},setPosition:function(t,u){return this.x.onChange(t),this.y.onChange(u),this},setBounds:function(t,u,v,x){if(typeof t==="object"){var z=t;t=z.x,u=z.y,v=h(z,"w")?z.w:z.width,x=h(z,"h")?z.h:z.height}return this.bounds?this.bounds.setTo(t,u,v,x):this.bounds=new n(t,u,v,x),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,u){return this.gravityX=t,this.gravityY=u,this},setAlpha:function(t){return this.alpha.onChange(t),this},setTint:function(t){return this.tint.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,u){return this.frequency=t,this._counter=0,u&&this.quantity.onChange(u),this},setEmitZone:function(t){if(t===void 0)this.emitZone=null;else{var u=c(t,"type","random"),v=c(t,"source",null);switch(u){case"random":this.emitZone=new m(v);break;case"edge":var x=c(t,"quantity",1),z=c(t,"stepRate",0),y=c(t,"yoyo",!1),A=c(t,"seamless",!0);this.emitZone=new f(v,x,z,y,A);break}}return this},setDeathZone:function(t){if(t===void 0)this.deathZone=null;else{var u=c(t,"type","onEnter"),v=c(t,"source",null);if(v&&typeof v.contains==="function"){var x=u==="onEnter"?!0:!1;this.deathZone=new b(v,x)}}return this},reserve:function(t){for(var u=this.dead,v=0;v<t;v++)u.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,u){return t===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof t==="function"&&(this.emitCallback=t,u&&(this.emitCallbackScope=u)),this},onParticleDeath:function(t,u){return t===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof t==="function"&&(this.deathCallback=t,u&&(this.deathCallbackScope=u)),this},killAll:function(){for(var t=this.dead,u=this.alive;u.length>0;)t.push(u.pop());return this},forEachAlive:function(t,u){for(var v=this.alive,x=v.length,z=0;z<x;++z)t.call(u,v[z],this);return this},forEachDead:function(t,u){for(var v=this.dead,x=v.length,z=0;z<x;++z)t.call(u,v[z],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return p.inplace(this.alive,this.depthSortCallback),this},flow:function(t,u){return u===void 0&&(u=1),this.frequency=t,this.quantity.onChange(u),this.start()},explode:function(t,u,v){return this.frequency=-1,this.emitParticle(t,u,v)},emitParticleAt:function(t,u,v){return this.emitParticle(v,t,u)},emitParticle:function(t,u,v){if(this.atLimit())return;t===void 0&&(t=this.quantity.onEmit());for(var x=this.dead,z=0;z<t;z++){var y=x.pop();y||(y=new this.particleClass(this)),y.fire(u,v),this.particleBringToTop?this.alive.push(y):this.alive.unshift(y),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,y,this);if(this.atLimit())break}return y},preUpdate:function(t,u){u*=this.timeScale;var v=u/1e3;this.trackVisible&&(this.visible=this.follow.visible);var x=this.manager.getProcessors(),z=this.alive,y=this.dead,A=0,D=[],F=z.length;for(A=0;A<F;A++){var H=z[A];H.update(u,v,x)&&D.push({index:A,particle:H})}F=D.length;if(F>0){var I=this.deathCallback,N=this.deathCallbackScope;for(A=F-1;A>=0;A--){var J=D[A];z.splice(J.index,1),y.push(J.particle),I&&I.call(N,J.particle),J.particle.resetPosition()}}if(!this.on)return;this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=u,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter)))},depthSortCallback:function(t,u){return t.y-u.y}});o.exports=s},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f){this.source=b,this.killOnEnter=f},willKill:function(i){var b=this.source.contains(i.x,i.y);return b&&this.killOnEnter||!b&&!this.killOnEnter}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c,j){c===void 0&&(c=!1),j===void 0&&(j=!0),this.source=b,this.points=[],this.quantity=f,this.stepRate=e,this.yoyo=c,this.counter=-1,this.seamless=j,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){this.points=this.source.getPoints(this.quantity,this.stepRate);if(this.seamless){var i=this.points[0],b=this.points[this.points.length-1];i.x===b.x&&i.y===b.y&&this.points.pop()}var f=this._length;return this._length=this.points.length,this._length<f&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(i){return this.source=i,this.updateSource()},getPoint:function(i){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var b=this.points[this.counter];b&&(i.x=b.x,i.y=b.y)}});o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){for(var i=0;i<l.length;i++)if(d.hasOwnProperty(l[i]))return!0;return!1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(3),i=new d({initialize:function b(f){this.source=f,this._tempVec=new l()},getPoint:function(b){var f=this._tempVec;this.source.getRandomPoint(f),b.x=f.x,b.y=f.y}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(75),b=new d({Extends:i,Mixins:[l.PathFollower],initialize:function f(e,c,j,g,h,k){i.call(this,e,j,g,h,k),this.path=c},preUpdate:function(f,e){this.anims.update(f,e),this.pathUpdate(f)}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1e3),l=a(0),i=a(39),b=a(66),f=a(65),e=a(13),c=a(30),j=new l({Extends:c,Mixins:[d],initialize:function g(h,k,m,n,p,q,r,s,t){k===void 0&&(k=0),m===void 0&&(m=0),n===void 0&&(n=128),p===void 0&&(p=0),q===void 0&&(q=360),r===void 0&&(r=!1),c.call(this,h,"Arc",new f(0,0,n)),this._startAngle=p,this._endAngle=q,this._anticlockwise=r,this._iterations=.01,this.setPosition(k,m);var u=this.geom.radius*2;this.setSize(u,u),s!==void 0&&this.setFillStyle(s,t),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(g){this._iterations=g,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(g){this.geom.radius=g;var h=g*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(g){this._startAngle=g,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(g){this._endAngle=g,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(g){this._anticlockwise=g,this.updateData()}},setRadius:function(g){return this.radius=g,this},setIterations:function(g){return g===void 0&&(g=.01),this.iterations=g,this},setStartAngle:function(g,h){return this._startAngle=g,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(g,h){return this._endAngle=g,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var g=this._iterations,h=g,k=this.geom.radius,m=i(this._startAngle),n=i(this._endAngle),p=this._anticlockwise,q=k,r=k;n-=m,p?n<-e.PI2?n=-e.PI2:n>0&&(n=-e.PI2+n%e.PI2):n>e.PI2?n=e.PI2:n<0&&(n=e.PI2+n%e.PI2);for(var s=[q+Math.cos(m)*k,r+Math.sin(m)*k],t;h<1;)t=n*h+m,s.push(q+Math.cos(t)*k,r+Math.sin(t)*k),h+=g;return t=n+m,s.push(q+Math.cos(t)*k,r+Math.sin(t)*k),s.push(q+Math.cos(m)*k,r+Math.sin(m)*k),this.pathIndexes=b(s),this.pathData=s,this}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(1003),i=a(66),b=a(11),f=a(30),e=new d({Extends:f,Mixins:[l],initialize:function c(j,g,h,k,m,n){g===void 0&&(g=0),h===void 0&&(h=0),f.call(this,j,"Curve",k),this._smoothness=32,this._curveBounds=new b(),this.closePath=!1,this.setPosition(g,h),m!==void 0&&this.setFillStyle(m,n),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(c){this._smoothness=c,this.updateData()}},setSmoothness:function(c){return this._smoothness=c,this.updateData()},updateData:function(){var c=this._curveBounds,j=this._smoothness;this.geom.getBounds(c,j),this.setSize(c.width,c.height),this.updateDisplayOrigin();for(var g=[],h=this.geom.getPoints(j),k=0;k<h.length;k++)g.push(h[k].x,h[k].y);return g.push(h[0].x,h[0].y),this.pathIndexes=i(g),this.pathData=g,this}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(66),i=a(1006),b=a(95),f=a(30),e=new d({Extends:f,Mixins:[i],initialize:function c(j,g,h,k,m,n,p){g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=128),m===void 0&&(m=128),f.call(this,j,"Ellipse",new b(k/2,m/2,k,m)),this._smoothness=64,this.setPosition(g,h),this.width=k,this.height=m,n!==void 0&&this.setFillStyle(n,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(c){this._smoothness=c,this.updateData()}},setSize:function(c,j){return this.geom.setSize(c,j),this.updateData()},setSmoothness:function(c){return this._smoothness=c,this.updateData()},updateData:function(){for(var c=[],j=this.geom.getPoints(this._smoothness),g=0;g<j.length;g++)c.push(j[g].x,j[g].y);return c.push(j[0].x,j[0].y),this.pathIndexes=l(c),this.pathData=c,this}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(30),i=a(1009),b=new d({Extends:l,Mixins:[i],initialize:function f(e,c,j,g,h,k,m,n,p,q,r){c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g=128),h===void 0&&(h=128),k===void 0&&(k=32),m===void 0&&(m=32),l.call(this,e,"Grid",null),this.cellWidth=k,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(c,j),this.setSize(g,h),n!==void 0&&this.setFillStyle(n,p),q!==void 0&&this.setOutlineStyle(q,r),this.updateDisplayOrigin()},setFillStyle:function(f,e){return e===void 0&&(e=1),f===void 0?this.showCells=!1:(this.fillColor=f,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(f,e){return e===void 0&&(e=1),f===void 0?this.showAltCells=!1:(this.altFillColor=f,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(f,e){return e===void 0&&(e=1),f===void 0?this.showOutline=!1:(this.outlineFillColor=f,this.outlineFillAlpha=e,this.showOutline=!0),this}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1012),l=a(0),i=a(30),b=new l({Extends:i,Mixins:[d],initialize:function f(e,c,j,g,h,k,m,n){c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g=48),h===void 0&&(h=32),k===void 0&&(k=15658734),m===void 0&&(m=10066329),n===void 0&&(n=13421772),i.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=k,this.fillLeft=m,this.fillRight=n,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(c,j),this.setSize(g,h),this.updateDisplayOrigin()},setProjection:function(f){return this.projection=f,this},setFaces:function(f,e,c){return f===void 0&&(f=!0),e===void 0&&(e=!0),c===void 0&&(c=!0),this.showTop=f,this.showLeft=e,this.showRight=c,this},setFillStyle:function(f,e,c){return this.fillTop=f,this.fillLeft=e,this.fillRight=c,this.isFilled=!0,this}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(1015),i=a(30),b=new d({Extends:i,Mixins:[l],initialize:function f(e,c,j,g,h,k,m,n,p){c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g=48),h===void 0&&(h=32),k===void 0&&(k=!1),m===void 0&&(m=15658734),n===void 0&&(n=10066329),p===void 0&&(p=13421772),i.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=n,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=k,this.isFilled=!0,this.setPosition(c,j),this.setSize(g,h),this.updateDisplayOrigin()},setProjection:function(f){return this.projection=f,this},setReversed:function(f){return this.isReversed=f,this},setFaces:function(f,e,c){return f===void 0&&(f=!0),e===void 0&&(e=!0),c===void 0&&(c=!0),this.showTop=f,this.showLeft=e,this.showRight=c,this},setFillStyle:function(f,e,c){return this.fillTop=f,this.fillLeft=e,this.fillRight=c,this.isFilled=!0,this}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(30),i=a(56),b=a(1018),f=new d({Extends:l,Mixins:[b],initialize:function e(c,j,g,h,k,m,n,p,q){j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=0),m===void 0&&(m=128),n===void 0&&(n=0),l.call(this,c,"Line",new i(h,k,m,n));var r=this.geom.right-this.geom.left,s=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(j,g),this.setSize(r,s),p!==void 0&&this.setStrokeStyle(1,p,q),this.updateDisplayOrigin()},setLineWidth:function(e,c){return c===void 0&&(c=e),this._startWidth=e,this._endWidth=c,this.lineWidth=e,this},setTo:function(e,c,j,g){return this.geom.setTo(e,c,j,g),this}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1021),l=a(0),i=a(66),b=a(418),f=a(201),e=a(30),c=a(421),j=new l({Extends:e,Mixins:[d],initialize:function g(h,k,m,n,p,q){k===void 0&&(k=0),m===void 0&&(m=0),e.call(this,h,"Polygon",new f(n));var r=b(this.geom);this.setPosition(k,m),this.setSize(r.width,r.height),p!==void 0&&this.setFillStyle(p,q),this.updateDisplayOrigin(),this.updateData()},smooth:function(g){g===void 0&&(g=1);for(var h=0;h<g;h++)c(this.geom);return this.updateData()},updateData:function(){for(var g=[],h=this.geom.points,k=0;k<h.length;k++)g.push(h[k].x,h[k].y);return g.push(h[0].x,h[0].y),this.pathIndexes=i(g),this.pathData=g,this}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i,b){b===void 0&&(b=new d());for(var f=Infinity,e=Infinity,c=-f,j=-e,g,h=0;h<i.points.length;h++)g=i.points[h],f=Math.min(f,g.x),e=Math.min(e,g.y),c=Math.max(c,g.x),j=Math.max(j,g.y);return b.x=f,b.y=e,b.width=c-f,b.height=j-e,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(57),l=a(56),i=a(420),b=function(f,e,c,j){j===void 0&&(j=[]);var g=f.points,h=i(f);!e&&c>0&&(e=h/c);for(var k=0;k<e;k++)for(var m=h*(k/e),n=0,p=0;p<g.length;p++){var q=g[p],r=g[(p+1)%g.length],s=new l(q.x,q.y,r.x,r.y),t=d(s);if(m<n||m>n+t){n+=t;continue}var u=s.getPoint((m-n)/t);j.push(u);break}return j};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(57),l=a(56),i=function(b){for(var f=b.points,e=0,c=0;c<f.length;c++){var j=f[c],g=f[(c+1)%f.length],h=new l(j.x,j.y,g.x,g.y);e+=d(h)}return e};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(l,i){return l[0]=i[0],l[1]=i[1],l},d=function(l){var i,b=[],f=l.points;for(i=0;i<f.length;i++)b.push([f[i].x,f[i].y]);var e=[];for(b.length>0&&e.push(a([0,0],b[0])),i=0;i<b.length-1;i++){var c=b[i],j=b[i+1],g=c[0],h=c[1],k=j[0],m=j[1];e.push([.85*g+.15*k,.85*h+.15*m]),e.push([.15*g+.85*k,.15*h+.85*m])}return b.length>1&&e.push(a([0,0],b[b.length-1])),l.setTo(e)};o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(11),i=a(30),b=a(1024),f=new d({Extends:i,Mixins:[b],initialize:function e(c,j,g,h,k,m,n){j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=128),k===void 0&&(k=128),i.call(this,c,"Rectangle",new l(0,0,h,k)),this.setPosition(j,g),this.setSize(h,k),m!==void 0&&this.setFillStyle(m,n),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var e=[],c=this.geom,j=this._tempLine;return c.getLineA(j),e.push(j.x1,j.y1,j.x2,j.y2),c.getLineB(j),e.push(j.x2,j.y2),c.getLineC(j),e.push(j.x2,j.y2),c.getLineD(j),e.push(j.x2,j.y2),this.pathData=e,this}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1027),l=a(0),i=a(66),b=a(30),f=new l({Extends:b,Mixins:[d],initialize:function e(c,j,g,h,k,m,n,p){j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=5),k===void 0&&(k=32),m===void 0&&(m=64),b.call(this,c,"Star",null),this._points=h,this._innerRadius=k,this._outerRadius=m,this.setPosition(j,g),this.setSize(m*2,m*2),n!==void 0&&this.setFillStyle(n,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],c=this._points,j=this._innerRadius,g=this._outerRadius,h=Math.PI/2*3,k=Math.PI/c,m=g,n=g;e.push(m,n+-g);for(var p=0;p<c;p++)e.push(m+Math.cos(h)*g,n+Math.sin(h)*g),h+=k,e.push(m+Math.cos(h)*j,n+Math.sin(h)*j),h+=k;return e.push(m,n+-g),this.pathIndexes=i(e),this.pathData=e,this}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(30),i=a(71),b=a(1030),f=new d({Extends:l,Mixins:[b],initialize:function e(c,j,g,h,k,m,n,p,q,r,s){j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=128),m===void 0&&(m=64),n===void 0&&(n=0),p===void 0&&(p=128),q===void 0&&(q=128),l.call(this,c,"Triangle",new i(h,k,m,n,p,q));var t=this.geom.right-this.geom.left,u=this.geom.bottom-this.geom.top;this.setPosition(j,g),this.setSize(t,u),r!==void 0&&this.setFillStyle(r,s),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,c,j,g,h,k){return this.geom.setTo(e,c,j,g,h,k),this.updateData()},updateData:function(){var e=[],c=this.geom,j=this._tempLine;return c.getLineA(j),e.push(j.x1,j.y1,j.x2,j.y2),c.getLineB(j),e.push(j.x2,j.y2),c.getLineC(j),e.push(j.x2,j.y2),this.pathData=e,this}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(57),i=function(b,f,e){e===void 0&&(e=new d());var c=b.getLineA(),j=b.getLineB(),g=b.getLineC();if(f<=0||f>=1)return e.x=c.x1,e.y=c.y1,e;var h=l(c),k=l(j),m=l(g),n=h+k+m,p=n*f,q=0;return p<h?(q=p/h,e.x=c.x1+(c.x2-c.x1)*q,e.y=c.y1+(c.y2-c.y1)*q):p>h+k?(p-=h+k,q=p/m,e.x=g.x1+(g.x2-g.x1)*q,e.y=g.y1+(g.y2-g.y1)*q):(p-=h,q=p/k,e.x=j.x1+(j.x2-j.x1)*q,e.y=j.y1+(j.y2-j.y1)*q),e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(57),l=a(4),i=function(b,f,e,c){c===void 0&&(c=[]);var j=b.getLineA(),g=b.getLineB(),h=b.getLineC(),k=d(j),m=d(g),n=d(h),p=k+m+n;!f&&e>0&&(f=p/e);for(var q=0;q<f;q++){var r=p*(q/f),s=0,t=new l();r<k?(s=r/k,t.x=j.x1+(j.x2-j.x1)*s,t.y=j.y1+(j.y2-j.y1)*s):r>k+m?(r-=k+m,s=r/n,t.x=h.x1+(h.x2-h.x1)*s,t.y=h.y1+(h.y2-h.y1)*s):(r-=k,s=r/m,t.x=g.x1+(g.x2-g.x1)*s,t.y=g.y1+(g.y2-g.y1)*s),c.push(t)}return c};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(!d||typeof d==="number")return!1;{if(d.hasOwnProperty(l))return d[l]=i,!0;if(l.indexOf(".")!==-1){for(var b=l.split("."),f=d,e=d,c=0;c<b.length;c++)if(f.hasOwnProperty(b[c]))e=f,f=f[b[c]];else return!1;return e[b[b.length-1]]=i,!0}}return!1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(9),i=new d({initialize:function b(f,e,c,j,g,h,k){this.x=f,this.y=e,this.radius=c,this.r=j,this.g=g,this.b=h,this.intensity=k,this.scrollFactorX=1,this.scrollFactorY=1},set:function(b,f,e,c,j,g,h){return this.x=b,this.y=f,this.radius=e,this.r=c,this.g=j,this.b=g,this.intensity=h,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(b,f){return b===void 0&&(b=1),f===void 0&&(f=b),this.scrollFactorX=b,this.scrollFactorY=f,this},setColor:function(b){var f=l.getFloatsFromUintRGB(b);return this.r=f[0],this.g=f[1],this.b=f[2],this},setIntensity:function(b){return this.intensity=b,this},setPosition:function(b,f){return this.x=b,this.y=f,this},setRadius:function(b){return this.radius=b,this}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(428),i=a(9),b=new d({initialize:function f(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return this.maxLights===-1&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(f){var e=this.lights,c=this.culledLights,j=e.length,g=f.x+f.width/2,h=f.y+f.height/2,k=(f.width+f.height)/2,m={x:0,y:0},n=f.matrix,p=this.systems.game.config.height;c.length=0;for(var q=0;q<j&&c.length<this.maxLights;q++){var r=e[q];n.transformPoint(r.x,r.y,m);var s=g-(m.x-f.scrollX*r.scrollFactorX*f.zoom),t=h-(p-(m.y-f.scrollY*r.scrollFactorY*f.zoom)),u=Math.sqrt(s*s+t*t);u<r.radius+k&&c.push(e[q])}return c},forEachLight:function(f){if(!f)return;for(var e=this.lights,c=e.length,j=0;j<c;++j)f(e[j]);return this},setAmbientColor:function(f){var e=i.getFloatsFromUintRGB(f);return this.ambientColor.r=e[0],this.ambientColor.g=e[1],this.ambientColor.b=e[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(f,e,c,j,g){var h=null,k=null;return f=f===void 0?0:f,e=e===void 0?0:e,j=j===void 0?16777215:j,c=c===void 0?100:c,g=g===void 0?1:g,h=i.getFloatsFromUintRGB(j),k=null,this.lightPool.length>0?(k=this.lightPool.pop(),k.set(f,e,c,h[0],h[1],h[2],g)):k=new l(f,e,c,h[0],h[1],h[2],g),this.lights.push(k),k},removeLight:function(f){var e=this.lights.indexOf(f);return e>=0&&(this.lightPool.push(f),this.lights.splice(e,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(47),l=a(18),i={Circle:a(1090),Ellipse:a(1100),Intersects:a(431),Line:a(1119),Point:a(1141),Polygon:a(1155),Rectangle:a(444),Triangle:a(1186)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CircleToCircle:a(205),CircleToRectangle:a(206),GetCircleToCircle:a(1110),GetCircleToRectangle:a(1111),GetLineToCircle:a(207),GetLineToRectangle:a(209),GetRectangleIntersection:a(1112),GetRectangleToRectangle:a(1113),GetRectangleToTriangle:a(1114),GetTriangleToCircle:a(1115),GetTriangleToLine:a(436),GetTriangleToTriangle:a(1116),LineToCircle:a(208),LineToLine:a(84),LineToRectangle:a(432),PointToLine:a(440),PointToLineSegment:a(1117),RectangleToRectangle:a(135),RectangleToTriangle:a(433),RectangleToValues:a(1118),TriangleToCircle:a(435),TriangleToLine:a(437),TriangleToTriangle:a(438)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.x1,b=d.y1,f=d.x2,e=d.y2,c=l.x,j=l.y,g=l.right,h=l.bottom,k=0;if(i>=c&&i<=g&&b>=j&&b<=h||f>=c&&f<=g&&e>=j&&e<=h)return!0;if(i<c&&f>=c){k=b+(e-b)*(c-i)/(f-i);if(k>j&&k<=h)return!0}else if(i>g&&f<=g){k=b+(e-b)*(g-i)/(f-i);if(k>=j&&k<=h)return!0}if(b<j&&e>=j){k=i+(f-i)*(j-b)/(e-b);if(k>=c&&k<=g)return!0}else if(b>h&&e<=h){k=i+(f-i)*(h-b)/(e-b);if(k>=c&&k<=g)return!0}return!1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(84),l=a(48),i=a(210),b=a(434),f=function(e,c){if(c.left>e.right||c.right<e.left||c.top>e.bottom||c.bottom<e.top)return!1;var j=c.getLineA(),g=c.getLineB(),h=c.getLineC();if(l(e,j.x1,j.y1)||l(e,j.x2,j.y2))return!0;if(l(e,g.x1,g.y1)||l(e,g.x2,g.y2))return!0;if(l(e,h.x1,h.y1)||l(e,h.x2,h.y2))return!0;var k=e.getLineA(),m=e.getLineB(),n=e.getLineC(),p=e.getLineD();if(d(j,k)||d(j,m)||d(j,n)||d(j,p))return!0;if(d(g,k)||d(g,m)||d(g,n)||d(g,p))return!0;if(d(h,k)||d(h,m)||d(h,n)||d(h,p))return!0;var q=b(e),r=i(c,q,!0);return r.length>0};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=[]),l.push({x:d.x,y:d.y}),l.push({x:d.right,y:d.y}),l.push({x:d.right,y:d.bottom}),l.push({x:d.x,y:d.bottom}),l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(208),l=a(83),i=function(b,f){return b.left>f.right||b.right<f.left||b.top>f.bottom||b.bottom<f.top?!1:l(b,f.x,f.y)?!0:d(b.getLineA(),f)?!0:d(b.getLineB(),f)?!0:d(b.getLineC(),f)?!0:!1};o.exports=i},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(437),i=a(84),b=function(f,e,c){c===void 0&&(c=[]);if(l(f,e))for(var j=f.getLineA(),g=f.getLineB(),h=f.getLineC(),k=[new d(),new d(),new d()],m=[i(j,e,k[0]),i(g,e,k[1]),i(h,e,k[2])],n=0;n<3;n++)m[n]&&c.push(k[n]);return c};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(83),l=a(84),i=function(b,f){return d(b,f.getPointA())||d(b,f.getPointB())?!0:l(b.getLineA(),f)?!0:l(b.getLineB(),f)?!0:l(b.getLineC(),f)?!0:!1};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(210),l=a(439),i=a(84),b=function(f,e){if(f.left>e.right||f.right<e.left||f.top>e.bottom||f.bottom<e.top)return!1;var c=f.getLineA(),j=f.getLineB(),g=f.getLineC(),h=e.getLineA(),k=e.getLineB(),m=e.getLineC();if(i(c,h)||i(c,k)||i(c,m))return!0;if(i(j,h)||i(j,k)||i(j,m))return!0;if(i(g,h)||i(g,k)||i(g,m))return!0;var n=l(f),p=d(e,n,!0);return p.length>0?!0:(n=l(e),p=d(f,n,!0),p.length>0?!0:!1)};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=[]),l.push({x:d.x1,y:d.y1}),l.push({x:d.x2,y:d.y2}),l.push({x:d.x3,y:d.y3}),l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){i===void 0&&(i=1);var b=l.x1,f=l.y1,e=l.x2,c=l.y2,j=d.x,g=d.y,h=(e-b)*(e-b)+(c-f)*(c-f);if(h===0)return!1;var k=((j-b)*(e-b)+(g-f)*(c-f))/h;if(k<0)return Math.sqrt((b-j)*(b-j)+(f-g)*(f-g))<=i;if(k>=0&&k<=1){var m=((f-g)*(e-b)-(b-j)*(c-f))/h;return Math.abs(m)*Math.sqrt(h)<=i}else return Math.sqrt((e-j)*(e-j)+(c-g)*(c-g))<=i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=a(58),i=a(85),b=function(f){var e=i(f)-d.TAU;return l(e,-Math.PI,Math.PI)};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.sqrt(d.x*d.x+d.y*d.y)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x*d.x+d.y*d.y};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11);d.Area=a(1160),d.Ceil=a(1161),d.CeilAll=a(1162),d.CenterOn=a(168),d.Clone=a(1163),d.Contains=a(48),d.ContainsPoint=a(1164),d.ContainsRect=a(445),d.CopyFrom=a(1165),d.Decompose=a(434),d.Equals=a(1166),d.FitInside=a(1167),d.FitOutside=a(1168),d.Floor=a(1169),d.FloorAll=a(1170),d.FromPoints=a(176),d.FromXY=a(1171),d.GetAspectRatio=a(212),d.GetCenter=a(1172),d.GetPoint=a(152),d.GetPoints=a(274),d.GetSize=a(1173),d.Inflate=a(1174),d.Intersection=a(1175),d.MarchingAnts=a(285),d.MergePoints=a(1176),d.MergeRect=a(1177),d.MergeXY=a(1178),d.Offset=a(1179),d.OffsetPoint=a(1180),d.Overlaps=a(1181),d.Perimeter=a(112),d.PerimeterPoint=a(1182),d.Random=a(155),d.RandomOutside=a(1183),d.SameDimensions=a(1184),d.Scale=a(1185),d.Union=a(394),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.width*l.height>d.width*d.height?!1:l.x>d.x&&l.x<d.right&&(l.right>d.x&&l.right<d.right)&&(l.y>d.y&&l.y<d.bottom)&&(l.bottom>d.y&&l.bottom<d.bottom)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){return b===void 0&&(b=new d()),b.x=(i.x1+i.x2+i.x3)/3,b.y=(i.y1+i.y2+i.y3)/3,b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.x1+=l,d.y1+=i,d.x2+=l,d.y2+=i,d.x3+=l,d.y3+=i,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4);function l(b,f,e,c){var j=b-e,g=f-c,h=j*j+g*g;return Math.sqrt(h)}var i=function(b,f){f===void 0&&(f=new d());var e=b.x1,c=b.y1,j=b.x2,g=b.y2,h=b.x3,k=b.y3,m=l(h,k,j,g),n=l(e,c,h,k),p=l(j,g,e,c),q=m+n+p;return f.x=(e*m+j*n+h*p)/q,f.y=(c*m+g*n+k*p)/q,f};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return{gameObject:d,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:l,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f){this.pad=b,this.events=b.events,this.index=f,this.value=0,this.threshold=.1},update:function(i){this.value=i},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(214),i=new d({initialize:function b(f,e){this.pad=f,this.events=f.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(b){this.value=b;var f=this.pad,e=this.index;b>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(l.BUTTON_DOWN,f,this,b),this.pad.emit(l.GAMEPAD_BUTTON_DOWN,e,b,this)):this.pressed&&(this.pressed=!1,this.events.emit(l.BUTTON_UP,f,this,b),this.pad.emit(l.GAMEPAD_BUTTON_UP,e,b,this))},destroy:function(){this.pad=null,this.events=null}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(450),l=a(451),i=a(0),b=a(10),f=a(3),e=new i({Extends:b,initialize:function c(j,g){b.call(this),this.manager=j,this.pad=g,this.id=g.id,this.index=g.index;for(var h=[],k=0;k<g.buttons.length;k++)h.push(new l(this,k));this.buttons=h;var m=[];for(k=0;k<g.axes.length;k++)m.push(new d(this,k));this.axes=m,this.vibration=g.vibrationActuator;var n={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:n,this._LCRight=h[15]?h[15]:n,this._LCTop=h[12]?h[12]:n,this._LCBottom=h[13]?h[13]:n,this._RCLeft=h[2]?h[2]:n,this._RCRight=h[1]?h[1]:n,this._RCTop=h[3]?h[3]:n,this._RCBottom=h[0]?h[0]:n,this._FBLeftTop=h[4]?h[4]:n,this._FBLeftBottom=h[6]?h[6]:n,this._FBRightTop=h[5]?h[5]:n,this._FBRightBottom=h[7]?h[7]:n;var p={value:0};this._HAxisLeft=m[0]?m[0]:p,this._VAxisLeft=m[1]?m[1]:p,this._HAxisRight=m[2]?m[2]:p,this._VAxisRight=m[3]?m[3]:p,this.leftStick=new f(),this.rightStick=new f()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(c){return this.axes[c].getValue()},setAxisThreshold:function(c){for(var j=0;j<this.axes.length;j++)this.axes[j].threshold=c},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(c){return this.buttons[c].value},isButtonDown:function(c){return this.buttons[c].pressed},update:function(c){var j,g=this.buttons,h=c.buttons,k=g.length;for(j=0;j<k;j++)g[j].update(h[j].value);var m=this.axes,n=c.axes;for(k=m.length,j=0;j<k;j++)m[j].update(n[j]);k>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),k>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var c;for(c=0;c<this.buttons.length;c++)this.buttons[c].destroy();for(c=0;c<this.axes.length;c++)this.axes[c].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(137),b=new d({Extends:l,initialize:function f(e,c){l.call(this),this.plugin=e,this.keyCode=c,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(f){return this.emitOnRepeat=f,this},onDown:function(f){this.originalEvent=f;if(!this.enabled)return;this.altKey=f.altKey,this.ctrlKey=f.ctrlKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.location=f.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(i.DOWN,this,f):(this.isDown=!0,this.isUp=!1,this.timeDown=f.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(i.DOWN,this,f))},onUp:function(f){this.originalEvent=f;if(!this.enabled)return;this.isDown=!1,this.isUp=!0,this.timeUp=f.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(i.UP,this,f)},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(137),i=a(2),b=a(1225),f=a(1227),e=new d({initialize:function c(j,g,h){h===void 0&&(h={});if(g.length<2)return!1;this.manager=j,this.enabled=!0,this.keyCodes=[];for(var k=0;k<g.length;k++){var m=g[k];typeof m==="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m==="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=i(h,"resetOnWrongKey",!0),this.maxKeyDelay=i(h,"maxKeyDelay",0),this.resetOnMatch=i(h,"resetOnMatch",!1),this.deleteOnMatch=i(h,"deleteOnMatch",!1);var n=this,p=function(q){if(n.matched||!n.enabled)return;var r=b(q,n);r&&(n.manager.emit(l.COMBO_MATCH,n,q),n.resetOnMatch?f(n):n.deleteOnMatch&&n.destroy())};this.onKeyDown=p,this.manager.on(l.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(l.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(215),l=function(i,b){var f=d(b,i.xhrSettings),e=new XMLHttpRequest();e.open("GET",i.src,f.async,f.user,f.password),e.responseType=i.xhrSettings.responseType,e.timeout=f.timeout;if(f.headers)for(var c in f.headers)e.setRequestHeader(c,f.headers[c]);return f.header&&f.headerValue&&e.setRequestHeader(f.header,f.headerValue),f.requestedWith&&e.setRequestHeader("X-Requested-With",f.requestedWith),f.overrideMimeType&&e.overrideMimeType(f.overrideMimeType),f.withCredentials&&(e.withCredentials=!0),e.onload=i.onLoad.bind(i,e),e.onerror=i.onError.bind(i,e),e.onprogress=i.onProgress.bind(i),e.send(),e};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(457),c=a(7),j=new d({Extends:i,initialize:function g(h,k,m,n,p){if(c(k)){var q=k;k=f(q,"key"),n=f(q,"xhrSettings"),p=f(q,"context",p)}var r={type:"audio",cache:h.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:k,url:m.url,xhrSettings:n,config:{context:p}};i.call(this,h,r)},onProcess:function(){this.state=l.FILE_PROCESSING;var g=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){g.data=h,g.onProcessComplete()},function(h){console.error("Error decoding audio: "+g.key+" - ",h?h.message:null),g.onProcessError()}),this.config.context=null}});j.create=function(g,h,k,m,n){var p=g.systems.game,q=p.config.audio,r=p.device.audio;c(h)&&(k=f(h,"url",[]),m=f(h,"config",{}));var s=j.getAudioURL(p,k);return s?r.webAudio&&!(q&&q.disableWebAudio)?new j(g,h,s,n,p.sound.context):new e(g,h,s,m):null},j.getAudioURL=function(g,h){Array.isArray(h)||(h=[h]);for(var k=0;k<h.length;k++){var m=f(h[k],"url",h[k]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var n=m.match(/\.([a-zA-Z0-9]+)($|\?)/);n=f(h[k],"type",n?n[1]:"").toLowerCase();if(g.device.audio[n])return{url:m,type:n}}return null},b.register("audio",function(g,h,k,m){var n=this.systems.game,p=n.config.audio,q=n.device.audio;if(p&&p.noAudio||!q.webAudio&&!q.audioData)return this;var r;if(Array.isArray(g))for(var s=0;s<g.length;s++)r=j.create(this,g[s]),r&&this.addFile(r);else r=j.create(this,g,h,k,m),r&&this.addFile(r);return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(82),i=a(21),b=a(2),f=a(138),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m){if(e(h)){var n=h;h=b(n,"key"),m=b(n,"config",m)}var p={type:"audio",cache:g.cacheManager.audio,extension:k.type,key:h,url:k.url,config:m};i.call(this,g,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){if(this.loaded)return;this.loaded=!0,this.loader.nextFile(this,!0)},onError:function(){for(var j=0;j<this.data.length;j++){var g=this.data[j];g.oncanplaythrough=null,g.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(j){var g=j.target;g.oncanplaythrough=null,g.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var j=this.config&&this.config.instances||1;this.filesTotal=j,this.filesLoaded=0,this.percentComplete=0;for(var g=0;g<j;g++){var h=new Audio();h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+g).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(g=0;g<this.data.length;g++)h=this.data[g],h.src=f(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m){var n="js";if(e(h)){var p=h;h=f(p,"key"),k=f(p,"url"),m=f(p,"xhrSettings"),n=f(p,"extension",n)}var q={type:"script",cache:!1,extension:n,responseType:"text",key:h,url:k,xhrSettings:m};i.call(this,g,q)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});b.register("script",function(j,g,h){if(Array.isArray(j))for(var k=0;k<j.length;k++)this.addFile(new c(this,j[k]));else this.addFile(new c(this,j,g,h));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m){var n="txt";if(e(h)){var p=h;h=f(p,"key"),k=f(p,"url"),m=f(p,"xhrSettings"),n=f(p,"extension",n)}var q={type:"text",cache:g.cacheManager.text,extension:n,responseType:"text",key:h,url:k,xhrSettings:m};i.call(this,g,q)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});b.register("text",function(j,g,h){if(Array.isArray(j))for(var k=0;k<j.length;k++)this.addFile(new c(this,j[k]));else this.addFile(new c(this,j,g,h));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(461),l=a(140),i=a(0),b=a(50),f=a(462),e=a(463),c=new i({initialize:function j(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},collider:function(j,g,h,k,m){return this.world.addCollider(j,g,h,k,m)},overlap:function(j,g,h,k,m){return this.world.addOverlap(j,g,h,k,m)},existing:function(j,g){var h=g?b.STATIC_BODY:b.DYNAMIC_BODY;return this.world.enableBody(j,h),j},staticImage:function(j,g,h,k){var m=new d(this.scene,j,g,h,k);return this.sys.displayList.add(m),this.world.enableBody(m,b.STATIC_BODY),m},image:function(j,g,h,k){var m=new d(this.scene,j,g,h,k);return this.sys.displayList.add(m),this.world.enableBody(m,b.DYNAMIC_BODY),m},staticSprite:function(j,g,h,k){var m=new l(this.scene,j,g,h,k);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,b.STATIC_BODY),m},sprite:function(j,g,h,k){var m=new l(this.scene,j,g,h,k);return this.sys.displayList.add(m),this.sys.updateList.add(m),this.world.enableBody(m,b.DYNAMIC_BODY),m},staticGroup:function(j,g){return this.sys.updateList.add(new e(this.world,this.world.scene,j,g))},group:function(j,g){return this.sys.updateList.add(new f(this.world,this.world.scene,j,g))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(217),i=a(107),b=new d({Extends:i,Mixins:[l.Acceleration,l.Angular,l.Bounce,l.Debug,l.Drag,l.Enable,l.Friction,l.Gravity,l.Immovable,l.Mass,l.Size,l.Velocity],initialize:function f(e,c,j,g,h){i.call(this,e,c,j,g,h),this.body=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(140),l=a(0),i=a(50),b=a(2),f=a(97),e=a(7),c=new l({Extends:f,initialize:function j(g,h,k,m){if(!k&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(k))m=k,k=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(k)&&e(k[0])){m=k[0];var n=this;k.forEach(function(p){p.internalCreateCallback=n.createCallbackHandler,p.internalRemoveCallback=n.removeCallbackHandler}),k=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=g,m.classType=b(m,"classType",d),this.physicsType=i.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:b(m,"collideWorldBounds",!1),setBoundsRectangle:b(m,"customBoundsRectangle",null),setAccelerationX:b(m,"accelerationX",0),setAccelerationY:b(m,"accelerationY",0),setAllowDrag:b(m,"allowDrag",!0),setAllowGravity:b(m,"allowGravity",!0),setAllowRotation:b(m,"allowRotation",!0),setBounceX:b(m,"bounceX",0),setBounceY:b(m,"bounceY",0),setDragX:b(m,"dragX",0),setDragY:b(m,"dragY",0),setEnable:b(m,"enable",!0),setGravityX:b(m,"gravityX",0),setGravityY:b(m,"gravityY",0),setFrictionX:b(m,"frictionX",0),setFrictionY:b(m,"frictionY",0),setVelocityX:b(m,"velocityX",0),setVelocityY:b(m,"velocityY",0),setAngularVelocity:b(m,"angularVelocity",0),setAngularAcceleration:b(m,"angularAcceleration",0),setAngularDrag:b(m,"angularDrag",0),setMass:b(m,"mass",1),setImmovable:b(m,"immovable",!1)},f.call(this,h,k,m),this.type="PhysicsGroup"},createCallbackHandler:function(j){j.body||this.world.enableBody(j,i.DYNAMIC_BODY);var g=j.body;for(var h in this.defaults)g[h](this.defaults[h])},removeCallbackHandler:function(j){j.body&&this.world.disableBody(j)},setVelocity:function(j,g,h){h===void 0&&(h=0);for(var k=this.getChildren(),m=0;m<k.length;m++)k[m].body.velocity.set(j+m*h,g+m*h);return this},setVelocityX:function(j,g){g===void 0&&(g=0);for(var h=this.getChildren(),k=0;k<h.length;k++)h[k].body.velocity.x=j+k*g;return this},setVelocityY:function(j,g){g===void 0&&(g=0);for(var h=this.getChildren(),k=0;k<h.length;k++)h[k].body.velocity.y=j+k*g;return this}});o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(140),l=a(0),i=a(50),b=a(2),f=a(97),e=a(7),c=new l({Extends:f,initialize:function j(g,h,k,m){!k&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:d}:e(k)?(m=k,k=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=b(m,"classType",d)):Array.isArray(k)&&e(k[0])?(m=k,k=null,m.forEach(function(n){n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=b(n,"classType",d)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=g,this.physicsType=i.STATIC_BODY,f.call(this,h,k,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(j){j.body||this.world.enableBody(j,i.STATIC_BODY)},removeCallbackHandler:function(j){j.body&&this.world.disableBody(j)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var j=this.children.entries,g=0;g<j.length;g++)j[g].body.reset();return this}});o.exports=c},function(o,w){var a=function(d,l,i,b,f,e,c){e===void 0&&(e=!0),c===void 0&&(c=!1);var j=[],g=[],h=d.treeMinMax;h.minX=l,h.minY=i,h.maxX=l+b,h.maxY=i+f,c&&(g=d.staticTree.search(h));if(e&&d.useTree)j=d.tree.search(h);else if(e){var k=d.bodies,m={position:{x:l,y:i},left:l,top:i,right:l+b,bottom:i+f,isCircle:!1},n=d.intersects;k.iterate(function(p){n(p,m)&&j.push(p)})}return g.concat(j)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(318),l=a(466),i=a(19),b=a(0),f=a(467),e=a(50),c=a(53),j=a(10),g=a(218),h=a(106),k=a(322),m=a(323),n=a(468),p=a(469),q=a(6),r=a(13),s=a(186),t=a(1284),u=a(11),v=a(470),x=a(1285),z=a(1290),y=a(1291),A=a(133),D=a(472),F=a(471),H=a(29),I=a(3),N=a(58),J=new b({Extends:j,initialize:function C(B,E){j.call(this),this.scene=B,this.bodies=new A(),this.staticBodies=new A(),this.pendingDestroy=new A(),this.colliders=new s(),this.gravity=new I(q(E,"gravity.x",0),q(E,"gravity.y",0)),this.bounds=new u(q(E,"x",0),q(E,"y",0),q(E,"width",B.sys.scale.width),q(E,"height",B.sys.scale.height)),this.checkCollision={up:q(E,"checkCollision.up",!0),down:q(E,"checkCollision.down",!0),left:q(E,"checkCollision.left",!0),right:q(E,"checkCollision.right",!0)},this.fps=q(E,"fps",60),this.fixedStep=!0,this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=q(E,"timeScale",1),this.OVERLAP_BIAS=q(E,"overlapBias",4),this.TILE_BIAS=q(E,"tileBias",16),this.forceX=q(E,"forceX",!1),this.isPaused=q(E,"isPaused",!1),this._total=0,this.drawDebug=q(E,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:q(E,"debugShowBody",!0),debugShowStaticBody:q(E,"debugShowStaticBody",!0),debugShowVelocity:q(E,"debugShowVelocity",!0),bodyDebugColor:q(E,"debugBodyColor",16711935),staticBodyDebugColor:q(E,"debugStaticBodyColor",255),velocityDebugColor:q(E,"debugVelocityColor",65280)},this.maxEntries=q(E,"maxEntries",16),this.useTree=q(E,"useTree",!0),this.tree=new v(this.maxEntries),this.staticTree=new v(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H(),this._tempMatrix2=new H(),this.drawDebug&&this.createDebugGraphic()},enable:function(C,B){B===void 0&&(B=e.DYNAMIC_BODY),Array.isArray(C)||(C=[C]);for(var E=0;E<C.length;E++){var K=C[E];if(K.isParent)for(var G=K.getChildren(),L=0;L<G.length;L++){var M=G[L];M.isParent?this.enable(M,B):this.enableBody(M,B)}else this.enableBody(K,B)}},enableBody:function(C,B){return B===void 0&&(B=e.DYNAMIC_BODY),C.body||(B===e.DYNAMIC_BODY?C.body=new l(this,C):B===e.STATIC_BODY&&(C.body=new D(this,C))),this.add(C.body),C},add:function(C){return C.physicsType===e.DYNAMIC_BODY?this.bodies.set(C):C.physicsType===e.STATIC_BODY&&(this.staticBodies.set(C),this.staticTree.insert(C)),C.enable=!0,C},disable:function(C){Array.isArray(C)||(C=[C]);for(var B=0;B<C.length;B++){var E=C[B];if(E.isParent)for(var K=E.getChildren(),G=0;G<K.length;G++){var L=K[G];L.isParent?this.disable(L):this.disableBody(L.body)}else this.disableBody(E.body)}},disableBody:function(C){this.remove(C),C.enable=!1},remove:function(C){C.physicsType===e.DYNAMIC_BODY?(this.tree.remove(C),this.bodies.delete(C)):C.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(C),this.staticTree.remove(C))},createDebugGraphic:function(){var C=this.scene.sys.add.graphics({x:0,y:0});return C.setDepth(Number.MAX_VALUE),this.debugGraphic=C,this.drawDebug=!0,C},setBounds:function(C,B,E,K,G,L,M,O){return this.bounds.setTo(C,B,E,K),G!==void 0&&this.setBoundsCollision(G,L,M,O),this},setBoundsCollision:function(C,B,E,K){return C===void 0&&(C=!0),B===void 0&&(B=!0),E===void 0&&(E=!0),K===void 0&&(K=!0),this.checkCollision.left=C,this.checkCollision.right=B,this.checkCollision.up=E,this.checkCollision.down=K,this},pause:function(){return this.isPaused=!0,this.emit(g.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(g.RESUME),this},addCollider:function(C,B,E,K,G){E===void 0&&(E=null),K===void 0&&(K=null),G===void 0&&(G=E);var L=new f(this,!1,C,B,E,K,G);return this.colliders.add(L),L},addOverlap:function(C,B,E,K,G){E===void 0&&(E=null),K===void 0&&(K=null),G===void 0&&(G=E);var L=new f(this,!0,C,B,E,K,G);return this.colliders.add(L),L},removeCollider:function(C){return this.colliders.remove(C),this},setFPS:function(C){return this.fps=C,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(C,B){if(this.isPaused||this.bodies.size===0)return;var E,K=this._frameTime,G=this._frameTimeMS*this.timeScale;this._elapsed+=B;var L,M=this.bodies.entries,O=this._elapsed>=G;for(this.fixedStep||(K=B*.001,O=!0,this._elapsed=0),E=0;E<M.length;E++)L=M[E],L.enable&&L.preUpdate(O,K);if(O){this._elapsed-=G,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(M));var P=this.colliders.update();for(E=0;E<P.length;E++){var Q=P[E];Q.active&&Q.update()}this.emit(g.WORLD_STEP)}for(;this._elapsed>=G;)this._elapsed-=G,this.step(K)},step:function(C){var B,E,K=this.bodies.entries,G=K.length;for(B=0;B<G;B++)E=K[B],E.enable&&E.update(C);this.useTree&&(this.tree.clear(),this.tree.load(K));var L=this.colliders.update();for(B=0;B<L.length;B++){var M=L[B];M.active&&M.update()}this.emit(g.WORLD_STEP),this.stepsLastFrame++},postUpdate:function(){var C,B,E=this.bodies.entries,K=E.length,G=this.bodies,L=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,C=0;C<K;C++)B=E[C],B.enable&&B.postUpdate();if(this.drawDebug){var M=this.debugGraphic;for(M.clear(),C=0;C<K;C++)B=E[C],B.willDrawDebug()&&B.drawDebug(M);for(E=L.entries,K=E.length,C=0;C<K;C++)B=E[C],B.willDrawDebug()&&B.drawDebug(M)}var O=this.pendingDestroy;if(O.size>0){var P=this.tree,Q=this.staticTree;for(E=O.entries,K=E.length,C=0;C<K;C++)B=E[C],B.physicsType===e.DYNAMIC_BODY?(P.remove(B),G.delete(B)):B.physicsType===e.STATIC_BODY&&(Q.remove(B),L.delete(B)),B.world=void 0,B.gameObject=void 0;O.clear()}},updateMotion:function(C,B){C.allowRotation&&this.computeAngularVelocity(C,B),this.computeVelocity(C,B)},computeAngularVelocity:function(C,B){var E=C.angularVelocity,K=C.angularAcceleration,G=C.angularDrag,L=C.maxAngular;K?E+=K*B:C.allowDrag&&G&&(G*=B,k(E-G,0,.1)?E-=G:m(E+G,0,.1)?E+=G:E=0),E=i(E,-L,L);var M=E-C.angularVelocity;C.angularVelocity+=M,C.rotation+=C.angularVelocity*B},computeVelocity:function(C,B){var E=C.velocity.x,K=C.acceleration.x,G=C.drag.x,L=C.maxVelocity.x,M=C.velocity.y,O=C.acceleration.y,P=C.drag.y,Q=C.maxVelocity.y,R=C.speed,S=C.maxSpeed,T=C.allowDrag,U=C.useDamping;C.allowGravity&&(E+=(this.gravity.x+C.gravity.x)*B,M+=(this.gravity.y+C.gravity.y)*B),K?E+=K*B:T&&G&&(U?(E*=G,R=Math.sqrt(E*E+M*M),h(R,0,.001)&&(E=0)):(G*=B,k(E-G,0,.01)?E-=G:m(E+G,0,.01)?E+=G:E=0)),O?M+=O*B:T&&P&&(U?(M*=P,R=Math.sqrt(E*E+M*M),h(R,0,.001)&&(M=0)):(P*=B,k(M-P,0,.01)?M-=P:m(M+P,0,.01)?M+=P:M=0)),E=i(E,-L,L),M=i(M,-Q,Q),C.velocity.set(E,M),S>-1&&R>S&&(C.velocity.normalize().scale(S),R=S),C.speed=R},separate:function(C,B,E,K,G,L){if(!L&&!C.enable||!B.enable||C.checkCollision.none||B.checkCollision.none||!this.intersects(C,B))return!1;if(E&&E.call(K,C.gameObject,B.gameObject)===!1)return!1;if(C.isCircle&&B.isCircle)return this.separateCircle(C,B,G);if(C.isCircle!==B.isCircle){var M=C.isCircle?B:C,O=C.isCircle?C:B,P={x:M.x,y:M.y,right:M.right,bottom:M.bottom},Q=O.center;if(Q.y<P.y||Q.y>P.bottom){if(Q.x<P.x||Q.x>P.right)return this.separateCircle(C,B,G)}}var R=!1,S=!1;G?(R=z(C,B,G,this.OVERLAP_BIAS),S=y(C,B,G,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+C.gravity.y)<Math.abs(this.gravity.x+C.gravity.x)?(R=z(C,B,G,this.OVERLAP_BIAS),this.intersects(C,B)&&(S=y(C,B,G,this.OVERLAP_BIAS))):(S=y(C,B,G,this.OVERLAP_BIAS),this.intersects(C,B)&&(R=z(C,B,G,this.OVERLAP_BIAS)));var T=R||S;return T&&(G?(C.onOverlap||B.onOverlap)&&this.emit(g.OVERLAP,C.gameObject,B.gameObject,C,B):(C.onCollide||B.onCollide)&&this.emit(g.COLLIDE,C.gameObject,B.gameObject,C,B)),T},separateCircle:function(C,B,E,K){C.updateCenter(),B.updateCenter(),n(C,B,!1,K),p(C,B,!1,K);var G=0;if(C.isCircle!==B.isCircle){var L={x:B.isCircle?C.position.x:B.position.x,y:B.isCircle?C.position.y:B.position.y,right:B.isCircle?C.right:B.right,bottom:B.isCircle?C.bottom:B.bottom},M={x:C.isCircle?C.center.x:B.center.x,y:C.isCircle?C.center.y:B.center.y,radius:C.isCircle?C.halfWidth:B.halfWidth};M.y<L.y?M.x<L.x?G=c(M.x,M.y,L.x,L.y)-M.radius:M.x>L.right&&(G=c(M.x,M.y,L.right,L.y)-M.radius):M.y>L.bottom&&(M.x<L.x?G=c(M.x,M.y,L.x,L.bottom)-M.radius:M.x>L.right&&(G=c(M.x,M.y,L.right,L.bottom)-M.radius)),G*=-1}else G=C.halfWidth+B.halfWidth-c(C.center.x,C.center.y,B.center.x,B.center.y);if(E||G===0||C.immovable&&B.immovable||C.customSeparateX||B.customSeparateX)return G!==0&&(C.onOverlap||B.onOverlap)&&this.emit(g.OVERLAP,C.gameObject,B.gameObject,C,B),G!==0;var O=C.center.x-B.center.x,P=C.center.y-B.center.y,Q=Math.sqrt(Math.pow(O,2)+Math.pow(P,2)),R=(B.center.x-C.center.x)/Q||0,S=(B.center.y-C.center.y)/Q||0,T=2*(C.velocity.x*R+C.velocity.y*S-B.velocity.x*R-B.velocity.y*S)/(C.mass+B.mass);(C.immovable||B.immovable)&&(T*=2),C.immovable||(C.velocity.x=C.velocity.x-T/C.mass*R,C.velocity.y=C.velocity.y-T/C.mass*S),B.immovable||(B.velocity.x=B.velocity.x+T/B.mass*R,B.velocity.y=B.velocity.y+T/B.mass*S),!C.immovable&&!B.immovable&&(G/=2);var U=d(C.center,B.center),_=(G+r.EPSILON)*Math.cos(U),Z=(G+r.EPSILON)*Math.sin(U);return C.immovable||(C.x-=_,C.y-=Z,C.updateCenter()),B.immovable||(B.x+=_,B.y+=Z,B.updateCenter()),C.velocity.x*=C.bounce.x,C.velocity.y*=C.bounce.y,B.velocity.x*=B.bounce.x,B.velocity.y*=B.bounce.y,(C.onCollide||B.onCollide)&&this.emit(g.COLLIDE,C.gameObject,B.gameObject,C,B),!0},intersects:function(C,B){return C===B?!1:!C.isCircle&&!B.isCircle?!(C.right<=B.position.x||C.bottom<=B.position.y||C.position.x>=B.right||C.position.y>=B.bottom):C.isCircle?B.isCircle?c(C.center.x,C.center.y,B.center.x,B.center.y)<=C.halfWidth+B.halfWidth:this.circleBodyIntersects(C,B):this.circleBodyIntersects(B,C)},circleBodyIntersects:function(C,B){var E=i(C.center.x,B.left,B.right),K=i(C.center.y,B.top,B.bottom),G=(C.center.x-E)*(C.center.x-E),L=(C.center.y-K)*(C.center.y-K);return G+L<=C.halfWidth*C.halfWidth},overlap:function(C,B,E,K,G){return E===void 0&&(E=null),K===void 0&&(K=null),G===void 0&&(G=E),this.collideObjects(C,B,E,K,G,!0)},collide:function(C,B,E,K,G){return E===void 0&&(E=null),K===void 0&&(K=null),G===void 0&&(G=E),this.collideObjects(C,B,E,K,G,!1)},collideObjects:function(C,B,E,K,G,L){var M,O;C.isParent&&C.physicsType===void 0&&(C=C.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var P=Array.isArray(C),Q=Array.isArray(B);this._total=0;if(!P&&!Q)this.collideHandler(C,B,E,K,G,L);else if(!P&&Q)for(M=0;M<B.length;M++)this.collideHandler(C,B[M],E,K,G,L);else if(P&&!Q)if(B)for(M=0;M<C.length;M++)this.collideHandler(C[M],B,E,K,G,L);else for(M=0;M<C.length;M++){var R=C[M];for(O=M+1;O<C.length;O++){if(M===O)continue;this.collideHandler(R,C[O],E,K,G,L)}}else for(M=0;M<C.length;M++)for(O=0;O<B.length;O++)this.collideHandler(C[M],B[O],E,K,G,L);return this._total>0},collideHandler:function(C,B,E,K,G,L){if(B===void 0&&C.isParent)return this.collideGroupVsGroup(C,C,E,K,G,L);if(!C||!B)return!1;if(C.body){if(B.body)return this.collideSpriteVsSprite(C,B,E,K,G,L);{if(B.isParent)return this.collideSpriteVsGroup(C,B,E,K,G,L);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(C,B,E,K,G,L)}}else if(C.isParent){if(B.body)return this.collideSpriteVsGroup(B,C,E,K,G,L);{if(B.isParent)return this.collideGroupVsGroup(C,B,E,K,G,L);if(B.isTilemap)return this.collideGroupVsTilemapLayer(C,B,E,K,G,L)}}else if(C.isTilemap){if(B.body)return this.collideSpriteVsTilemapLayer(B,C,E,K,G,L);if(B.isParent)return this.collideGroupVsTilemapLayer(B,C,E,K,G,L)}},collideSpriteVsSprite:function(C,B,E,K,G,L){return!C.body||!B.body?!1:(this.separate(C.body,B.body,K,G,L)&&(E&&E.call(G,C,B),this._total++),!0)},collideSpriteVsGroup:function(C,B,E,K,G,L){var M=C.body;if(B.length===0||!M||!M.enable||M.checkCollision.none)return;var O,P,Q;if(this.useTree||B.physicsType===e.STATIC_BODY){var R=this.treeMinMax;R.minX=M.left,R.minY=M.top,R.maxX=M.right,R.maxY=M.bottom;var S=B.physicsType===e.DYNAMIC_BODY?this.tree.search(R):this.staticTree.search(R);for(P=S.length,O=0;O<P;O++){Q=S[O];if(M===Q||!Q.enable||Q.checkCollision.none||!B.contains(Q.gameObject))continue;this.separate(M,Q,K,G,L,!0)&&(E&&E.call(G,M.gameObject,Q.gameObject),this._total++)}}else{var T=B.getChildren(),U=B.children.entries.indexOf(C);for(P=T.length,O=0;O<P;O++){Q=T[O].body;if(!Q||O===U||!Q.enable)continue;this.separate(M,Q,K,G,L)&&(E&&E.call(G,M.gameObject,Q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(C,B,E,K,G,L){var M=C.getChildren();if(M.length===0)return!1;for(var O=!1,P=0;P<M.length;P++)M[P].body&&(this.collideSpriteVsTilemapLayer(M[P],B,E,K,G,L)&&(O=!0));return O},collideTiles:function(C,B,E,K,G){return!C.body.enable||B.length===0?!1:this.collideSpriteVsTilesHandler(C,B,E,K,G,!1,!1)},overlapTiles:function(C,B,E,K,G){return!C.body.enable||B.length===0?!1:this.collideSpriteVsTilesHandler(C,B,E,K,G,!0,!1)},collideSpriteVsTilemapLayer:function(C,B,E,K,G,L){var M=C.body;if(!M.enable||M.checkCollision.none)return!1;var O=M.position.x,P=M.position.y,Q=M.width,R=M.height,S=B.layer;if(S.tileWidth>S.baseTileWidth){var T=(S.tileWidth-S.baseTileWidth)*B.scaleX;O-=T,Q+=T}if(S.tileHeight>S.baseTileHeight){var U=(S.tileHeight-S.baseTileHeight)*B.scaleY;R+=U}var _=B.getTilesWithinWorldXY(O,P,Q,R);return _.length===0?!1:this.collideSpriteVsTilesHandler(C,_,E,K,G,L,!0)},collideSpriteVsTilesHandler:function(C,B,E,K,G,L,M){for(var O=C.body,P,Q={left:0,right:0,top:0,bottom:0},R,S=!1,T=0;T<B.length;T++)P=B[T],R=P.tilemapLayer,Q.left=R.tileToWorldX(P.x),Q.top=R.tileToWorldY(P.y),P.baseHeight!==P.height&&(Q.top-=(P.height-P.baseHeight)*R.scaleY),Q.right=Q.left+P.width*R.scaleX,Q.bottom=Q.top+P.height*R.scaleY,F(Q,O)&&(!K||K.call(G,C,P))&&t(P,C)&&(L||x(T,O,P,Q,R,this.TILE_BIAS,M))&&(this._total++,S=!0,E&&E.call(G,C,P),L&&O.onOverlap?this.emit(g.TILE_OVERLAP,C,P,O):O.onCollide&&this.emit(g.TILE_COLLIDE,C,P,O));return S},collideGroupVsGroup:function(C,B,E,K,G,L){if(C.length===0||B.length===0)return;for(var M=C.getChildren(),O=0;O<M.length;O++)this.collideSpriteVsGroup(M[O],B,E,K,G,L)},wrap:function(C,B){C.body?this.wrapObject(C,B):C.getChildren?this.wrapArray(C.getChildren(),B):Array.isArray(C)?this.wrapArray(C,B):this.wrapObject(C,B)},wrapArray:function(C,B){for(var E=0;E<C.length;E++)this.wrapObject(C[E],B)},wrapObject:function(C,B){B===void 0&&(B=0),C.x=N(C.x,this.bounds.left-B,this.bounds.right+B),C.y=N(C.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});o.exports=J},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(50),i=a(218),b=a(173),f=a(11),e=a(48),c=a(3),j=new d({initialize:function g(h,k){var m=k.displayWidth?k.displayWidth:64,n=k.displayHeight?k.displayHeight:64;this.world=h,this.gameObject=k,this.transform={x:k.x,y:k.y,rotation:k.angle,scaleX:k.scaleX,scaleY:k.scaleY,displayOriginX:k.displayOriginX,displayOriginY:k.displayOriginY},this.debugShowBody=h.defaults.debugShowBody,this.debugShowVelocity=h.defaults.debugShowVelocity,this.debugBodyColor=h.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c(),this.position=new c(k.x-k.scaleX*k.displayOriginX,k.y-k.scaleY*k.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=k.angle,this.preRotation=k.angle,this.width=m,this.height=n,this.sourceWidth=m,this.sourceHeight=n,k.frame&&(this.sourceWidth=k.frame.realWidth,this.sourceHeight=k.frame.realHeight),this.halfWidth=Math.abs(m/2),this.halfHeight=Math.abs(n/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new c(),this.newVelocity=new c(),this.deltaMax=new c(),this.acceleration=new c(),this.allowDrag=!0,this.drag=new c(),this.allowGravity=!0,this.gravity=new c(),this.bounce=new c(),this.worldBounce=null,this.customBoundsRectangle=h.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new c(1e4,1e4),this.maxSpeed=-1,this.friction=new c(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=l.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=l.DYNAMIC_BODY,this._sx=k.scaleX,this._sy=k.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new f()},updateBounds:function(){var g=this.gameObject,h=this.transform;if(g.parentContainer){var k=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);h.x=k.tx,h.y=k.ty,h.rotation=b(k.rotation),h.scaleX=k.scaleX,h.scaleY=k.scaleY,h.displayOriginX=g.displayOriginX,h.displayOriginY=g.displayOriginY}else h.x=g.x,h.y=g.y,h.rotation=g.angle,h.scaleX=g.scaleX,h.scaleY=g.scaleY,h.displayOriginX=g.displayOriginX,h.displayOriginY=g.displayOriginY;var m=!1;if(this.syncBounds){var n=g.getBounds(this._bounds);this.width=n.width,this.height=n.height,m=!0}else{var p=Math.abs(h.scaleX),q=Math.abs(h.scaleY);(this._sx!==p||this._sy!==q)&&(this.width=this.sourceWidth*p,this.height=this.sourceHeight*q,this._sx=p,this._sy=q,m=!0)}m&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},resetFlags:function(){var g=this.wasTouching,h=this.touching,k=this.blocked;g.none=h.none,g.up=h.up,g.down=h.down,g.left=h.left,g.right=h.right,h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1,k.none=!0,k.up=!1,k.down=!1,k.left=!1,k.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(g,h){g&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),g&&this.update(h)},update:function(g){this.prev.x=this.position.x,this.prev.y=this.position.y;if(this.moves){this.world.updateMotion(this,g);var h=this.velocity.x,k=this.velocity.y;this.newVelocity.set(h*g,k*g),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(k,h),this.speed=Math.sqrt(h*h+k*k),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(i.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var g=this.position.x-this.prevFrame.x,h=this.position.y-this.prevFrame.y;if(this.moves){var k=this.deltaMax.x,m=this.deltaMax.y;k!==0&&g!==0&&(g<0&&g<-k?g=-k:g>0&&g>k&&(g=k)),m!==0&&h!==0&&(h<0&&h<-m?h=-m:h>0&&h>m&&(h=m)),this.gameObject.x+=g,this.gameObject.y+=h}g<0?this.facing=l.FACING_LEFT:g>0&&(this.facing=l.FACING_RIGHT),h<0?this.facing=l.FACING_UP:h>0&&(this.facing=l.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=g,this._ty=h},setBoundsRectangle:function(g){return this.customBoundsRectangle=g?g:this.world.bounds,this},checkWorldBounds:function(){var g=this.position,h=this.customBoundsRectangle,k=this.world.checkCollision,m=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y,p=!1;return g.x<h.x&&k.left?(g.x=h.x,this.velocity.x*=m,this.blocked.left=!0,p=!0):this.right>h.right&&k.right&&(g.x=h.right-this.width,this.velocity.x*=m,this.blocked.right=!0,p=!0),g.y<h.y&&k.up?(g.y=h.y,this.velocity.y*=n,this.blocked.up=!0,p=!0):this.bottom>h.bottom&&k.down&&(g.y=h.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,p=!0),p&&(this.blocked.none=!1),p},setOffset:function(g,h){return h===void 0&&(h=g),this.offset.set(g,h),this.updateCenter(),this},setSize:function(g,h,k){k===void 0&&(k=!0);var m=this.gameObject;!g&&m.frame&&(g=m.frame.realWidth),!h&&m.frame&&(h=m.frame.realHeight),this.sourceWidth=g,this.sourceHeight=h,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter();if(k&&m.getCenter){var n=(m.width-g)/2,p=(m.height-h)/2;this.offset.set(n,p)}return this.isCircle=!1,this.radius=0,this},setCircle:function(g,h,k){return h===void 0&&(h=this.offset.x),k===void 0&&(k=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,k),this.updateCenter()):this.isCircle=!1,this},reset:function(g,h){this.stop();var k=this.gameObject;k.setPosition(g,h),k.getTopLeft?k.getTopLeft(this.position):this.position.set(g,h),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=k.angle,this.preRotation=k.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},hitTest:function(g,h){if(!this.isCircle)return e(this,g,h);if(this.radius>0&&g>=this.left&&g<=this.right&&h>=this.top&&h<=this.bottom){var k=(this.center.x-g)*(this.center.x-g),m=(this.center.y-h)*(this.center.y-h);return k+m<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(g){var h=this.position,k=h.x+this.halfWidth,m=h.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(k,m,this.width/2):(this.checkCollision.up&&g.lineBetween(h.x,h.y,h.x+this.width,h.y),this.checkCollision.right&&g.lineBetween(h.x+this.width,h.y,h.x+this.width,h.y+this.height),this.checkCollision.down&&g.lineBetween(h.x,h.y+this.height,h.x+this.width,h.y+this.height),this.checkCollision.left&&g.lineBetween(h.x,h.y,h.x,h.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(k,m,k+this.velocity.x/2,m+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(g,h,k){g===void 0&&(g=!0),this.collideWorldBounds=g;var m=h!==void 0,n=k!==void 0;return(m||n)&&(this.worldBounce||(this.worldBounce=new c()),m&&(this.worldBounce.x=h),n&&(this.worldBounce.y=k)),this},setVelocity:function(g,h){return this.velocity.set(g,h),g=this.velocity.x,h=this.velocity.y,this.speed=Math.sqrt(g*g+h*h),this},setVelocityX:function(g){this.velocity.x=g;var h=g,k=this.velocity.y;return this.speed=Math.sqrt(h*h+k*k),this},setVelocityY:function(g){this.velocity.y=g;var h=this.velocity.x,k=g;return this.speed=Math.sqrt(h*h+k*k),this},setMaxVelocity:function(g,h){return this.maxVelocity.set(g,h),this},setMaxSpeed:function(g){return this.maxSpeed=g,this},setBounce:function(g,h){return this.bounce.set(g,h),this},setBounceX:function(g){return this.bounce.x=g,this},setBounceY:function(g){return this.bounce.y=g,this},setAcceleration:function(g,h){return this.acceleration.set(g,h),this},setAccelerationX:function(g){return this.acceleration.x=g,this},setAccelerationY:function(g){return this.acceleration.y=g,this},setAllowDrag:function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},setAllowGravity:function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},setAllowRotation:function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},setDrag:function(g,h){return this.drag.set(g,h),this},setDragX:function(g){return this.drag.x=g,this},setDragY:function(g){return this.drag.y=g,this},setGravity:function(g,h){return this.gravity.set(g,h),this},setGravityX:function(g){return this.gravity.x=g,this},setGravityY:function(g){return this.gravity.y=g,this},setFriction:function(g,h){return this.friction.set(g,h),this},setFrictionX:function(g){return this.friction.x=g,this},setFrictionY:function(g){return this.friction.y=g,this},setAngularVelocity:function(g){return this.angularVelocity=g,this},setAngularAcceleration:function(g){return this.angularAcceleration=g,this},setAngularDrag:function(g){return this.angularDrag=g,this},setMass:function(g){return this.mass=g,this},setImmovable:function(g){return g===void 0&&(g=!0),this.immovable=g,this},setEnable:function(g){return g===void 0&&(g=!0),this.enable=g,this},x:{get:function(){return this.position.x},set:function(g){this.position.x=g}},y:{get:function(){return this.position.y},set:function(g){this.position.y=g}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c,j,g,h){this.world=b,this.name="",this.active=!0,this.overlapOnly=f,this.object1=e,this.object2=c,this.collideCallback=j,this.processCallback=g,this.callbackContext=h},setName:function(i){return this.name=i,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(50),l=function(i,b,f,e){var c=0,j=i.deltaAbsX()+b.deltaAbsX()+e;return i._dx===0&&b._dx===0?(i.embedded=!0,b.embedded=!0):i._dx>b._dx?(c=i.right-b.x,c>j&&!f||i.checkCollision.right===!1||b.checkCollision.left===!1?c=0:(i.touching.none=!1,i.touching.right=!0,b.touching.none=!1,b.touching.left=!0,b.physicsType===d.STATIC_BODY&&(i.blocked.none=!1,i.blocked.right=!0),i.physicsType===d.STATIC_BODY&&(b.blocked.none=!1,b.blocked.left=!0))):i._dx<b._dx&&(c=i.x-b.width-b.x,-c>j&&!f||i.checkCollision.left===!1||b.checkCollision.right===!1?c=0:(i.touching.none=!1,i.touching.left=!0,b.touching.none=!1,b.touching.right=!0,b.physicsType===d.STATIC_BODY&&(i.blocked.none=!1,i.blocked.left=!0),i.physicsType===d.STATIC_BODY&&(b.blocked.none=!1,b.blocked.right=!0))),i.overlapX=c,b.overlapX=c,c};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(50),l=function(i,b,f,e){var c=0,j=i.deltaAbsY()+b.deltaAbsY()+e;return i._dy===0&&b._dy===0?(i.embedded=!0,b.embedded=!0):i._dy>b._dy?(c=i.bottom-b.y,c>j&&!f||i.checkCollision.down===!1||b.checkCollision.up===!1?c=0:(i.touching.none=!1,i.touching.down=!0,b.touching.none=!1,b.touching.up=!0,b.physicsType===d.STATIC_BODY&&(i.blocked.none=!1,i.blocked.down=!0),i.physicsType===d.STATIC_BODY&&(b.blocked.none=!1,b.blocked.up=!0))):i._dy<b._dy&&(c=i.y-b.bottom,-c>j&&!f||i.checkCollision.up===!1||b.checkCollision.down===!1?c=0:(i.touching.none=!1,i.touching.up=!0,b.touching.none=!1,b.touching.down=!0,b.physicsType===d.STATIC_BODY&&(i.blocked.none=!1,i.blocked.up=!0),i.physicsType===d.STATIC_BODY&&(b.blocked.none=!1,b.blocked.down=!0))),i.overlapY=c,b.overlapY=c,c};o.exports=l},function(o,w,a){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(391);function l(s){var t=[".left",".top",".right",".bottom"];if(!(this instanceof l))return new l(s,t);this._maxEntries=Math.max(4,s||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}l.prototype={all:function(){return this._all(this.data,[])},search:function(s){var t=this.data,u=[],v=this.toBBox;if(!p(s,t))return u;for(var x=[],z,y,A,D;t;){for(z=0,y=t.children.length;z<y;z++)A=t.children[z],D=t.leaf?v(A):A,p(s,D)&&(t.leaf?u.push(A):n(s,D)?this._all(A,u):x.push(A));t=x.pop()}return u},collides:function(s){var t=this.data,u=this.toBBox;if(!p(s,t))return!1;for(var v=[],x,z,y,A;t;){for(x=0,z=t.children.length;x<z;x++){y=t.children[x],A=t.leaf?u(y):y;if(p(s,A)){if(t.leaf||n(s,A))return!0;v.push(y)}}t=v.pop()}return!1},load:function(s){if(!(s&&s.length))return this;if(s.length<this._minEntries){for(var t=0,u=s.length;t<u;t++)this.insert(s[t]);return this}var v=this._build(s.slice(),0,s.length-1,0);if(!this.data.children.length)this.data=v;else if(this.data.height===v.height)this._splitRoot(this.data,v);else{if(this.data.height<v.height){var x=this.data;this.data=v,v=x}this._insert(v,this.data.height-v.height-1,!0)}return this},insert:function(s){return s&&this._insert(s,this.data.height-1),this},clear:function(){return this.data=q([]),this},remove:function(s,t){if(!s)return this;for(var u=this.data,v=this.toBBox(s),x=[],z=[],y,A,D,F;u||x.length;){u||(u=x.pop(),A=x[x.length-1],y=z.pop(),F=!0);if(u.leaf){D=i(s,u.children,t);if(D!==-1)return u.children.splice(D,1),x.push(u),this._condense(x),this}!F&&!u.leaf&&n(u,v)?(x.push(u),z.push(y),y=0,A=u,u=u.children[0]):A?(y++,u=A.children[y],F=!1):u=null}return this},toBBox:function(s){return s},compareMinX:c,compareMinY:j,toJSON:function(){return this.data},fromJSON:function(s){return this.data=s,this},_all:function(s,t){for(var u=[];s;)s.leaf?t.push.apply(t,s.children):u.push.apply(u,s.children),s=u.pop();return t},_build:function(s,t,u,v){var x=u-t+1,z=this._maxEntries,y;if(x<=z)return y=q(s.slice(t,u+1)),b(y,this.toBBox),y;v||(v=Math.ceil(Math.log(x)/Math.log(z)),z=Math.ceil(x/Math.pow(z,v-1))),y=q([]),y.leaf=!1,y.height=v;var A=Math.ceil(x/z),D=A*Math.ceil(Math.sqrt(z)),F,H,I,N;for(r(s,t,u,D,this.compareMinX),F=t;F<=u;F+=D)for(I=Math.min(F+D-1,u),r(s,F,I,A,this.compareMinY),H=F;H<=I;H+=A)N=Math.min(H+A-1,I),y.children.push(this._build(s,H,N,v-1));return b(y,this.toBBox),y},_chooseSubtree:function(s,t,u,v){for(var x,z,y,A,D,F,H,I;;){v.push(t);if(t.leaf||v.length-1===u)break;for(H=I=Infinity,x=0,z=t.children.length;x<z;x++)y=t.children[x],D=g(y),F=k(s,y)-D,F<I?(I=F,H=D<H?D:H,A=y):F===I&&(D<H&&(H=D,A=y));t=A||t.children[0]}return t},_insert:function(s,t,u){var v=this.toBBox,x=u?s:v(s),z=[],y=this._chooseSubtree(x,this.data,t,z);for(y.children.push(s),e(y,x);t>=0;)if(z[t].children.length>this._maxEntries)this._split(z,t),t--;else break;this._adjustParentBBoxes(x,z,t)},_split:function(s,t){var u=s[t],v=u.children.length,x=this._minEntries;this._chooseSplitAxis(u,x,v);var z=this._chooseSplitIndex(u,x,v),y=q(u.children.splice(z,u.children.length-z));y.height=u.height,y.leaf=u.leaf,b(u,this.toBBox),b(y,this.toBBox),t?s[t-1].children.push(y):this._splitRoot(u,y)},_splitRoot:function(s,t){this.data=q([s,t]),this.data.height=s.height+1,this.data.leaf=!1,b(this.data,this.toBBox)},_chooseSplitIndex:function(s,t,u){var v,x,z,y,A,D,F,H;for(D=F=Infinity,v=t;v<=u-t;v++)x=f(s,0,v,this.toBBox),z=f(s,v,u,this.toBBox),y=m(x,z),A=g(x)+g(z),y<D?(D=y,H=v,F=A<F?A:F):y===D&&(A<F&&(F=A,H=v));return H},_chooseSplitAxis:function(s,t,u){var v=s.leaf?this.compareMinX:c,x=s.leaf?this.compareMinY:j,z=this._allDistMargin(s,t,u,v),y=this._allDistMargin(s,t,u,x);z<y&&s.children.sort(v)},_allDistMargin:function(s,t,u,v){s.children.sort(v);var x=this.toBBox,z=f(s,0,t,x),y=f(s,u-t,u,x),A=h(z)+h(y),D,F;for(D=t;D<u-t;D++)F=s.children[D],e(z,s.leaf?x(F):F),A+=h(z);for(D=u-t-1;D>=t;D--)F=s.children[D],e(y,s.leaf?x(F):F),A+=h(y);return A},_adjustParentBBoxes:function(s,t,u){for(var v=u;v>=0;v--)e(t[v],s)},_condense:function(s){for(var t=s.length-1,u;t>=0;t--)s[t].children.length===0?t>0?(u=s[t-1].children,u.splice(u.indexOf(s[t]),1)):this.clear():b(s[t],this.toBBox)},compareMinX:function(s,t){return s.left-t.left},compareMinY:function(s,t){return s.top-t.top},toBBox:function(s){return{minX:s.left,minY:s.top,maxX:s.right,maxY:s.bottom}}};function i(s,t,u){if(!u)return t.indexOf(s);for(var v=0;v<t.length;v++)if(u(s,t[v]))return v;return-1}function b(s,t){f(s,0,s.children.length,t,s)}function f(s,t,u,v,x){x||(x=q(null)),x.minX=Infinity,x.minY=Infinity,x.maxX=-Infinity,x.maxY=-Infinity;for(var z=t,y;z<u;z++)y=s.children[z],e(x,s.leaf?v(y):y);return x}function e(s,t){return s.minX=Math.min(s.minX,t.minX),s.minY=Math.min(s.minY,t.minY),s.maxX=Math.max(s.maxX,t.maxX),s.maxY=Math.max(s.maxY,t.maxY),s}function c(s,t){return s.minX-t.minX}function j(s,t){return s.minY-t.minY}function g(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function h(s){return s.maxX-s.minX+(s.maxY-s.minY)}function k(s,t){return(Math.max(t.maxX,s.maxX)-Math.min(t.minX,s.minX))*(Math.max(t.maxY,s.maxY)-Math.min(t.minY,s.minY))}function m(s,t){var u=Math.max(s.minX,t.minX),v=Math.max(s.minY,t.minY),x=Math.min(s.maxX,t.maxX),z=Math.min(s.maxY,t.maxY);return Math.max(0,x-u)*Math.max(0,z-v)}function n(s,t){return s.minX<=t.minX&&s.minY<=t.minY&&t.maxX<=s.maxX&&t.maxY<=s.maxY}function p(s,t){return t.minX<=s.maxX&&t.minY<=s.maxY&&t.maxX>=s.minX&&t.maxY>=s.minY}function q(s){return{children:s,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function r(s,t,u,v,x){for(var z=[t,u],y;z.length;){u=z.pop(),t=z.pop();if(u-t<=v)continue;y=t+Math.ceil((u-t)/v/2)*v,d(s,y,t,u,x),z.push(t,y,y,u)}}o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return!(l.right<=d.left||l.bottom<=d.top||l.position.x>=d.right||l.position.y>=d.bottom)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(55),l=a(0),i=a(50),b=a(48),f=a(3),e=new l({initialize:function c(j,g){var h=g.displayWidth?g.displayWidth:64,k=g.displayHeight?g.displayHeight:64;this.world=j,this.gameObject=g,this.debugShowBody=j.defaults.debugShowStaticBody,this.debugBodyColor=j.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f(),this.position=new f(g.x-h*g.originX,g.y-k*g.originY),this.width=h,this.height=k,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=i.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(c,j){return c&&c!==this.gameObject&&(this.gameObject.body=null,c.body=this,this.gameObject=c),j&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var c=this.gameObject;return c.getTopLeft(this.position),this.width=c.displayWidth,this.height=c.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(c,j){return j===void 0&&(j=c),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(c,j),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(c,j,g){g===void 0&&(g=!0);var h=this.gameObject;!c&&h.frame&&(c=h.frame.realWidth),!j&&h.frame&&(j=h.frame.realHeight),this.world.staticTree.remove(this),this.width=c,this.height=j,this.halfWidth=Math.floor(c/2),this.halfHeight=Math.floor(j/2);if(g&&h.getCenter){var k=h.displayWidth/2,m=h.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(k-this.halfWidth,m-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(c,j,g){return j===void 0&&(j=this.offset.x),g===void 0&&(g=this.offset.y),c>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=c,this.width=c*2,this.height=c*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(j,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(c,j){var g=this.gameObject;c===void 0&&(c=g.x),j===void 0&&(j=g.y),this.world.staticTree.remove(this),g.setPosition(c,j),g.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,j){return this.isCircle?d(this,c,j):b(this,c,j)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(c){var j=this.position,g=j.x+this.halfWidth,h=j.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?c.strokeCircle(g,h,this.width/2):c.strokeRect(j.x,j.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(c){return c<=0&&(c=.1),this.mass=c,this},x:{get:function(){return this.position.x},set:function(c){this.world.staticTree.remove(this),this.position.x=c,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(c){this.world.staticTree.remove(this),this.position.y=c,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=e},function(o,w){var a={};o.exports=a,function(){a.create=function(d,l){var i=d.bodyA,b=d.bodyB,f={id:a.id(i,b),bodyA:i,bodyB:b,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||b.isSensor,timeCreated:l,timeUpdated:l,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(f,d,l),f},a.update=function(d,l,i){d.collision=l;if(l.collided){var b=l.supports,f=d.activeContacts,e=l.parentA,c=l.parentB;d.inverseMass=e.inverseMass+c.inverseMass,d.friction=Math.min(e.friction,c.friction),d.frictionStatic=Math.max(e.frictionStatic,c.frictionStatic),d.restitution=Math.max(e.restitution,c.restitution),d.slop=Math.max(e.slop,c.slop);for(var j=0;j<b.length;j++)f[j]=b[j].contact;var g=b.length;g<f.length&&(f.length=g),d.separation=l.depth,a.setActive(d,!0,i)}else d.isActive===!0&&a.setActive(d,!1,i)},a.setActive=function(d,l,i){l?(d.isActive=!0,d.timeUpdated=i):(d.isActive=!1,d.activeContacts.length=0)},a.id=function(d,l){return d.id<l.id?"A"+d.id+"B"+l.id:"A"+l.id+"B"+d.id}}()},function(o,w,a){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=a(0),l=new d({initialize:function i(b){this.pluginManager=b,this.game=b.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j,g){for(var h=d(f,e,c,j,null,g),k=0;k<h.length;k++)h[k]&&h[k].index===i&&(h[k].index=b)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(101),l=function(i,b,f){if(d(i,b,f)){var e=f.data[b][i];return e!==null&&e.index>-1}else return!1};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(74),l=a(101),i=a(220),b=function(f,e,c,j,g){c===void 0&&(c=!1),j===void 0&&(j=!0);if(!l(f,e,g))return null;var h=g.data[e][f];if(h)g.data[e][f]=c?null:new d(g,-1,f,e,h.width,h.height);else return null;return j&&h&&h.collides&&i(f,e,g),h};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(32),l=a(223),i=a(479),b=a(480),f=a(491),e=function(c,j,g,h,k,m){var n;switch(j){case d.ARRAY_2D:n=l(c,g,h,k,m);break;case d.CSV:n=i(c,g,h,k,m);break;case d.TILED_JSON:n=b(c,g,m);break;case d.WELTMEISTER:n=f(c,g,m);break;default:console.warn("Unrecognized tilemap data format: "+j),n=null}return n};o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(32),l=a(223),i=function(b,f,e,c,j){var g=f.trim().split(`
`).map(function(k){return k.split(",")}),h=l(b,g,e,c,j);return h.format=d.CSV,h};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(32),l=a(103),i=a(481),b=a(483),f=a(484),e=a(487),c=a(489),j=a(490),g=function(h,k,m){if(k.orientation!=="orthogonal")return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var n=new l({width:k.width,height:k.height,name:h,tileWidth:k.tilewidth,tileHeight:k.tileheight,orientation:k.orientation,format:d.TILED_JSON,version:k.version,properties:k.properties,renderOrder:k.renderorder,infinite:k.infinite});n.layers=i(k,m),n.images=b(k);var p=f(k);return n.tilesets=p.tilesets,n.imageCollections=p.imageCollections,n.objects=e(k),n.tiles=c(n),j(n),n};o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(482),l=a(2),i=a(102),b=a(224),f=a(74),e=a(225),c=function(j,g){for(var h=l(j,"infinite",!1),k=[],m=[],n=e(j);n.i<n.layers.length||m.length>0;){if(n.i>=n.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=m.pop();continue}var p=n.layers[n.i];n.i++;if(p.type!=="tilelayer"){if(p.type==="group"){var q=e(j,p,n);m.push(n),n=q}continue}if(p.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+p.name+"'");continue}else if(p.encoding&&p.encoding==="base64"){if(p.chunks)for(var r=0;r<p.chunks.length;r++)p.chunks[r].data=d(p.chunks[r].data);p.data&&(p.data=d(p.data)),delete p.encoding}var s,t,u,v,x=[],z=0;if(h){var y=l(p,"startx",0)+p.x,A=l(p,"starty",0)+p.y;s=new i({name:n.name+p.name,x:n.x+l(p,"offsetx",0)+y*j.tilewidth,y:n.y+l(p,"offsety",0)+A*j.tileheight,width:p.width,height:p.height,tileWidth:j.tilewidth,tileHeight:j.tileheight,alpha:n.opacity*p.opacity,visible:n.visible&&p.visible,properties:l(p,"properties",[])});for(var D=0;D<p.height;D++){x.push([null]);for(var F=0;F<p.width;F++)x[D][F]=null}for(D=0,M=p.chunks.length;D<M;D++)for(var H=p.chunks[D],I=H.x-y,N=H.y-A,J=0,C=0,B=H.data.length;C<B;C++){var E=z+I,K=J+N;t=b(H.data[C]),t.gid>0?(u=new f(s,t.gid,E,K,j.tilewidth,j.tileheight),u.rotation=t.rotation,u.flipX=t.flipped,x[K][E]=u):(v=g?null:new f(s,-1,E,K,j.tilewidth,j.tileheight),x[K][E]=v),z++,z===H.width&&(J++,z=0)}}else{s=new i({name:n.name+p.name,x:n.x+l(p,"offsetx",0)+p.x,y:n.y+l(p,"offsety",0)+p.y,width:p.width,height:p.height,tileWidth:j.tilewidth,tileHeight:j.tileheight,alpha:n.opacity*p.opacity,visible:n.visible&&p.visible,properties:l(p,"properties",[])});for(var G=[],L=0,M=p.data.length;L<M;L++)t=b(p.data[L]),t.gid>0?(u=new f(s,t.gid,z,x.length,j.tilewidth,j.tileheight),u.rotation=t.rotation,u.flipX=t.flipped,G.push(u)):(v=g?null:new f(s,-1,z,x.length,j.tilewidth,j.tileheight),G.push(v)),z++,z===p.width&&(x.push(G),z=0,G=[])}s.data=x,k.push(s)}return k};o.exports=c},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){for(var l=window.atob(d),i=l.length,b=new Array(i/4),f=0;f<i;f+=4)b[f/4]=(l.charCodeAt(f)|l.charCodeAt(f+1)<<8|l.charCodeAt(f+2)<<16|l.charCodeAt(f+3)<<24)>>>0;return b};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=a(225),i=function(b){for(var f=[],e=[],c=l(b);c.i<c.layers.length||e.length>0;){if(c.i>=c.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}c=e.pop();continue}var j=c.layers[c.i];c.i++;if(j.type!=="imagelayer"){if(j.type==="group"){var g=l(b,j,c);e.push(c),c=g}continue}var h=d(j,"offsetx",0)+d(j,"startx",0),k=d(j,"offsety",0)+d(j,"starty",0);f.push({name:c.name+j.name,image:j.image,x:c.x+h+j.x,y:c.y+k+j.y,alpha:c.opacity*j.opacity,visible:c.visible&&j.visible,properties:d(j,"properties",{})})}return f};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(104),l=a(485),i=a(226),b=function(f){for(var e=[],c=[],j=null,g,h=0;h<f.tilesets.length;h++){var k=f.tilesets[h];if(k.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(k.image){var m=new d(k.name,k.firstgid,k.tilewidth,k.tileheight,k.margin,k.spacing);if(f.version>1){if(Array.isArray(k.tiles)){for(var n={},p={},q=0;q<k.tiles.length;q++){var r=k.tiles[q];if(r.properties){var s={};r.properties.forEach(function(A){s[A.name]=A.value}),p[r.id]=s}if(r.objectgroup){n[r.id]={objectgroup:r.objectgroup};if(r.objectgroup.objects){var t=r.objectgroup.objects.map(function(A){return i(A)});n[r.id].objectgroup.objects=t}}r.animation&&(n.hasOwnProperty(r.id)?n[r.id].animation=r.animation:n[r.id]={animation:r.animation})}m.tileData=n,m.tileProperties=p}}else{k.tileproperties&&(m.tileProperties=k.tileproperties);if(k.tiles){m.tileData=k.tiles;for(g in m.tileData){var u=m.tileData[g].objectgroup;if(u&&u.objects){var v=u.objects.map(function(A){return i(A)});m.tileData[g].objectgroup.objects=v}}}}m.updateTileData(k.imagewidth,k.imageheight),e.push(m)}else{var x=new l(k.name,k.firstgid,k.tilewidth,k.tileheight,k.margin,k.spacing,k.properties);for(g in k.tiles){var z=k.tiles[g].image,y=k.firstgid+parseInt(g,10);x.addImage(y,z)}c.push(x)}j&&(j.lastgid=k.firstgid-1),j=k}return{tilesets:e,imageCollections:c}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b,f,e,c,j,g,h){(e===void 0||e<=0)&&(e=32),(c===void 0||c<=0)&&(c=32),j===void 0&&(j=0),g===void 0&&(g=0),this.name=b,this.firstgid=f|0,this.imageWidth=e|0,this.imageHeight=c|0,this.imageMargin=j|0,this.imageSpacing=g|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},addImage:function(i,b){return this.images.push({gid:i,image:b}),this.total++,this}});o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(108),l=function(i,b){for(var f={},e=0;e<b.length;e++){var c=b[e];d(i,c)&&(f[c]=i[c])}return f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=a(226),i=a(488),b=a(225),f=function(e){for(var c=[],j=[],g=b(e);g.i<g.layers.length||j.length>0;){if(g.i>=g.layers.length){if(j.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=j.pop();continue}var h=g.layers[g.i];g.i++,h.opacity*=g.opacity,h.visible=g.visible&&h.visible;if(h.type!=="objectgroup"){if(h.type==="group"){var k=b(e,h,g);j.push(g),g=k}continue}h.name=g.name+h.name;for(var m=g.x+d(h,"startx",0)+d(h,"offsetx",0),n=g.y+d(h,"starty",0)+d(h,"offsety",0),p=[],q=0;q<h.objects.length;q++){var r=l(h.objects[q],m,n);p.push(r)}var s=new i(h);s.objects=p,c.push(s)}return c};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(2),i=new d({initialize:function b(f){f===void 0&&(f={}),this.name=l(f,"name","object layer"),this.opacity=l(f,"opacity",1),this.properties=l(f,"properties",{}),this.propertyTypes=l(f,"propertytypes",{}),this.type=l(f,"type","objectgroup"),this.visible=l(f,"visible",!0),this.objects=l(f,"objects",[])}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(104),l=function(i){var b,f,e=[];for(b=0;b<i.imageCollections.length;b++)for(var c=i.imageCollections[b],j=c.images,g=0;g<j.length;g++){var h=j[g];f=new d(h.image,h.gid,c.imageWidth,c.imageHeight,0,0),f.updateTileData(c.imageWidth,c.imageHeight),i.tilesets.push(f)}for(b=0;b<i.tilesets.length;b++){f=i.tilesets[b];for(var k=f.tileMargin,m=f.tileMargin,n=0,p=0,q=0,r=f.firstgid;r<f.firstgid+f.total;r++){e[r]=[k,m,b],k+=f.tileWidth+f.tileSpacing,n++;if(n===f.total)break;p++;if(p===f.columns){k=f.tileMargin,m+=f.tileHeight+f.tileSpacing,p=0,q++;if(q===f.rows)break}}}return e};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(18),l=function(i){for(var b,f,e,c,j,g=0;g<i.layers.length;g++){b=i.layers[g],c=null;for(var h=0;h<b.data.length;h++){j=b.data[h];for(var k=0;k<j.length;k++){f=j[k];if(f===null||f.index<0)continue;e=i.tiles[f.index][2],c=i.tilesets[e],f.width=c.tileWidth,f.height=c.tileHeight,c.tileProperties&&c.tileProperties[f.index-c.firstgid]&&(f.properties=d(f.properties,c.tileProperties[f.index-c.firstgid]))}}}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(32),l=a(103),i=a(492),b=a(493),f=function(e,c,j){if(c.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var g=0,h=0,k=0;k<c.layer.length;k++)c.layer[k].width>g&&(g=c.layer[k].width),c.layer[k].height>h&&(h=c.layer[k].height);var m=new l({width:g,height:h,name:e,tileWidth:c.layer[0].tilesize,tileHeight:c.layer[0].tilesize,format:d.WELTMEISTER});return m.layers=i(c,j),m.tilesets=b(c),m};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(102),l=a(74),i=function(b,f){for(var e=[],c=0;c<b.layer.length;c++){for(var j=b.layer[c],g=new d({name:j.name,width:j.width,height:j.height,tileWidth:j.tilesize,tileHeight:j.tilesize,visible:j.visible===1}),h=[],k=[],m=0;m<j.data.length;m++){for(var n=0;n<j.data[m].length;n++){var p=j.data[m][n]-1,q;p>-1?q=new l(g,p,n,m,j.tilesize,j.tilesize):q=f?null:new l(g,-1,n,m,j.tilesize,j.tilesize),h.push(q)}k.push(h),h=[]}g.data=k,e.push(g)}return e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(104),l=function(i){for(var b=[],f=[],e=0;e<i.layer.length;e++){var c=i.layer[e],j=c.tilesetName;j!==""&&f.indexOf(j)===-1&&(f.push(j),b.push(new d(j,0,c.tilesize,c.tilesize,0,0)))}return b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(39),i=a(495),b=a(18),f=a(32),e=a(102),c=a(331),j=a(80),g=a(496),h=a(74),k=a(141),m=a(104),n=new d({initialize:function p(q,r){this.scene=q,this.tileWidth=r.tileWidth,this.tileHeight=r.tileHeight,this.width=r.width,this.height=r.height,this.orientation=r.orientation,this.renderOrder=r.renderOrder,this.format=r.format,this.version=r.version,this.properties=r.properties,this.widthInPixels=r.widthInPixels,this.heightInPixels=r.heightInPixels,this.imageCollections=r.imageCollections,this.images=r.images,this.layers=r.layers,this.tilesets=r.tilesets,this.objects=r.objects,this.currentLayerIndex=0},setRenderOrder:function(p){var q=["right-down","left-down","right-up","left-up"];return typeof p==="number"&&(p=q[p]),q.indexOf(p)>-1&&(this.renderOrder=p),this},addTilesetImage:function(p,q,r,s,t,u,v){if(p===void 0)return null;(q===void 0||q===null)&&(q=p);if(!this.scene.sys.textures.exists(q))return console.warn("Invalid Tileset Image: "+q),null;var x=this.scene.sys.textures.get(q),z=this.getTilesetIndex(p);if(z===null&&this.format===f.TILED_JSON)return console.warn("No data found for Tileset: "+p),null;var y=this.tilesets[z];return y?(y.setTileSize(r,s),y.setSpacing(t,u),y.setImage(x),y):(r===void 0&&(r=this.tileWidth),s===void 0&&(s=this.tileHeight),t===void 0&&(t=0),u===void 0&&(u=0),v===void 0&&(v=0),y=new m(p,v,r,s,t,u),y.setImage(x),this.tilesets.push(y),y)},convertLayerToStatic:function(p){p=this.getLayer(p);if(p===null)return null;var q=p.tilemapLayer;if(!q||!(q instanceof i))return null;var r=new g(q.scene,q.tilemap,q.layerIndex,q.tileset,q.x,q.y);return this.scene.sys.displayList.add(r),q.destroy(),r},copy:function(p,q,r,s,t,u,v,x){return x=this.getLayer(x),this._isStaticCall(x,"copy")?this:x!==null?(k.Copy(p,q,r,s,t,u,v,x),this):null},createBlankDynamicLayer:function(p,q,r,s,t,u,v,x){r===void 0&&(r=0),s===void 0&&(s=0),t===void 0&&(t=this.width),u===void 0&&(u=this.height),v===void 0&&(v=this.tileWidth),x===void 0&&(x=this.tileHeight);var z=this.getLayerIndex(p);if(z!==null)return console.warn("Invalid Tilemap Layer ID: "+p),null;for(var y=new e({name:p,tileWidth:v,tileHeight:x,width:t,height:u}),A,D=0;D<u;D++){A=[];for(var F=0;F<t;F++)A.push(new h(y,-1,F,D,v,x,this.tileWidth,this.tileHeight));y.data.push(A)}this.layers.push(y),this.currentLayerIndex=this.layers.length-1;var H=new i(this.scene,this,this.currentLayerIndex,q,r,s);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createDynamicLayer:function(p,q,r,s){var t=this.getLayerIndex(p);if(t===null)return console.warn("Invalid Tilemap Layer ID: "+p),typeof p==="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var u=this.layers[t];if(u.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+p),null;this.currentLayerIndex=t,r===void 0&&(r=u.x),s===void 0&&(s=u.y);var v=new i(this.scene,this,t,q,r,s);return v.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(v),v},createFromObjects:function(p,q,r,s){r===void 0&&(r={}),s===void 0&&(s=this.scene);var t=this.getObjectLayer(p);if(!t)return console.warn("Cannot create from object. Invalid objectgroup name given: "+p),typeof layerID==="string"&&console.warn(`Valid objectgroup names:
	`+this.getObjectLayerNames().join(`,
	`)),null;for(var u=t.objects,v=[],x=0;x<u.length;x++){var z=!1,y=u[x];(y.gid!==void 0&&typeof q==="number"&&y.gid===q||y.id!==void 0&&typeof q==="number"&&y.id===q||y.name!==void 0&&typeof q==="string"&&y.name===q)&&(z=!0);if(z){var A=b({},r,y.properties);A.x=y.x,A.y=y.y;var D=s.make.sprite(A);D.name=y.name,y.width&&(D.displayWidth=y.width),y.height&&(D.displayHeight=y.height);var F={x:D.originX*y.width,y:(D.originY-1)*y.height};if(y.rotation){var H=l(y.rotation);c(F,H),D.rotation=H}D.x+=F.x,D.y+=F.y,(y.flippedHorizontal!==void 0||y.flippedVertical!==void 0)&&D.setFlip(y.flippedHorizontal,y.flippedVertical),y.visible||(D.visible=!1);for(var I in y.properties){if(D.hasOwnProperty(I))continue;D.setData(I,y.properties[I])}v.push(D)}}return v},createFromTiles:function(p,q,r,s,t,u){return u=this.getLayer(u),u===null?null:k.CreateFromTiles(p,q,r,s,t,u)},createStaticLayer:function(p,q,r,s){var t=this.getLayerIndex(p);if(t===null)return console.warn("Invalid Tilemap Layer ID: "+p),typeof p==="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var u=this.layers[t];if(u.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+p),null;this.currentLayerIndex=t,r===void 0&&this.layers[t].x&&(r=this.layers[t].x),s===void 0&&this.layers[t].y&&(s=this.layers[t].y);var v=new g(this.scene,this,t,q,r,s);return v.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(v),v},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(p,q,r,s,t,u,v){return v=this.getLayer(v),v===null?null:this._isStaticCall(v,"fill")?this:(k.Fill(p,q,r,s,t,u,v),this)},filterObjects:function(p,q,r){if(typeof p==="string"){var s=p;p=this.getObjectLayer(p);if(!p)return console.warn("No object layer found with the name: "+s),null}return p.objects.filter(q,r)},filterTiles:function(p,q,r,s,t,u,v,x){return x=this.getLayer(x),x===null?null:k.FilterTiles(p,q,r,s,t,u,v,x)},findByIndex:function(p,q,r,s){return s=this.getLayer(s),s===null?null:k.FindByIndex(p,q,r,s)},findObject:function(p,q,r){if(typeof p==="string"){var s=p;p=this.getObjectLayer(p);if(!p)return console.warn("No object layer found with the name: "+s),null}return p.objects.find(q,r)||null},findTile:function(p,q,r,s,t,u,v,x){return x=this.getLayer(x),x===null?null:k.FindTile(p,q,r,s,t,u,v,x)},forEachTile:function(p,q,r,s,t,u,v,x){return x=this.getLayer(x),x===null?null:(k.ForEachTile(p,q,r,s,t,u,v,x),this)},getImageIndex:function(p){return this.getIndex(this.images,p)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(p){return p.name})},getIndex:function(p,q){for(var r=0;r<p.length;r++)if(p[r].name===q)return r;return null},getLayer:function(p){var q=this.getLayerIndex(p);return q!==null?this.layers[q]:null},getObjectLayer:function(p){var q=this.getIndex(this.objects,p);return q!==null?this.objects[q]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(p){return p.name})},getLayerIndex:function(p){return p===void 0?this.currentLayerIndex:typeof p==="string"?this.getLayerIndexByName(p):typeof p==="number"&&p<this.layers.length?p:p instanceof g||p instanceof i?p.layerIndex:null},getLayerIndexByName:function(p){return this.getIndex(this.layers,p)},getTileAt:function(p,q,r,s){return s=this.getLayer(s),s===null?null:k.GetTileAt(p,q,r,s)},getTileAtWorldXY:function(p,q,r,s,t){return t=this.getLayer(t),t===null?null:k.GetTileAtWorldXY(p,q,r,s,t)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(p){return p.name})},getTilesWithin:function(p,q,r,s,t,u){return u=this.getLayer(u),u===null?null:k.GetTilesWithin(p,q,r,s,t,u)},getTilesWithinShape:function(p,q,r,s){return s=this.getLayer(s),s===null?null:k.GetTilesWithinShape(p,q,r,s)},getTilesWithinWorldXY:function(p,q,r,s,t,u,v){return v=this.getLayer(v),v===null?null:k.GetTilesWithinWorldXY(p,q,r,s,t,u,v)},getTileset:function(p){var q=this.getIndex(this.tilesets,p);return q!==null?this.tilesets[q]:null},getTilesetIndex:function(p){return this.getIndex(this.tilesets,p)},hasTileAt:function(p,q,r){return r=this.getLayer(r),r===null?null:k.HasTileAt(p,q,r)},hasTileAtWorldXY:function(p,q,r,s){return s=this.getLayer(s),s===null?null:k.HasTileAtWorldXY(p,q,r,s)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(p){this.setLayer(p)}},putTileAt:function(p,q,r,s,t){return t=this.getLayer(t),this._isStaticCall(t,"putTileAt")?null:t===null?null:k.PutTileAt(p,q,r,s,t)},putTileAtWorldXY:function(p,q,r,s,t,u){return u=this.getLayer(u),this._isStaticCall(u,"putTileAtWorldXY")?null:u===null?null:k.PutTileAtWorldXY(p,q,r,s,t,u)},putTilesAt:function(p,q,r,s,t){return t=this.getLayer(t),this._isStaticCall(t,"putTilesAt")?this:t===null?null:(k.PutTilesAt(p,q,r,s,t),this)},randomize:function(p,q,r,s,t,u){return u=this.getLayer(u),this._isStaticCall(u,"randomize")?this:u===null?null:(k.Randomize(p,q,r,s,t,u),this)},calculateFacesAt:function(p,q,r){return r=this.getLayer(r),r===null?null:(k.CalculateFacesAt(p,q,r),this)},calculateFacesWithin:function(p,q,r,s,t){return t=this.getLayer(t),t===null?null:(k.CalculateFacesWithin(p,q,r,s,t),this)},removeLayer:function(p){var q=this.getLayerIndex(p);if(q!==null){j(this.layers,q);for(var r=q;r<this.layers.length;r++)this.layers[r].tilemapLayer&&this.layers[r].tilemapLayer.layerIndex--;return this.currentLayerIndex===q&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(p){var q=this.getLayerIndex(p);return q!==null?(p=this.layers[q],p.destroy(),j(this.layers,q),this.currentLayerIndex===q&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var p=this.layers,q=0;q<p.length;q++)p[q].tilemapLayer&&p[q].tilemapLayer.destroy(!1);return p.length=0,this.currentLayerIndex=0,this},removeTile:function(p,q,r){q===void 0&&(q=-1),r===void 0&&(r=!0);var s=[];Array.isArray(p)||(p=[p]);for(var t=0;t<p.length;t++){var u=p[t];s.push(this.removeTileAt(u.x,u.y,!0,r,u.tilemapLayer)),q>-1&&this.putTileAt(q,u.x,u.y,r,u.tilemapLayer)}return s},removeTileAt:function(p,q,r,s,t){return t=this.getLayer(t),this._isStaticCall(t,"removeTileAt")?null:t===null?null:k.RemoveTileAt(p,q,r,s,t)},removeTileAtWorldXY:function(p,q,r,s,t,u){return u=this.getLayer(u),this._isStaticCall(u,"removeTileAtWorldXY")?null:u===null?null:k.RemoveTileAtWorldXY(p,q,r,s,t,u)},renderDebug:function(p,q,r){return r=this.getLayer(r),r===null?null:(k.RenderDebug(p,q,r),this)},renderDebugFull:function(p,q){for(var r=this.layers,s=0;s<r.length;s++)k.RenderDebug(p,q,r[s]);return this},replaceByIndex:function(p,q,r,s,t,u,v){return v=this.getLayer(v),this._isStaticCall(v,"replaceByIndex")?this:v===null?null:(k.ReplaceByIndex(p,q,r,s,t,u,v),this)},setCollision:function(p,q,r,s,t){return s=this.getLayer(s),s===null?null:(k.SetCollision(p,q,r,s,t),this)},setCollisionBetween:function(p,q,r,s,t){return t=this.getLayer(t),t===null?null:(k.SetCollisionBetween(p,q,r,s,t),this)},setCollisionByProperty:function(p,q,r,s){return s=this.getLayer(s),s===null?null:(k.SetCollisionByProperty(p,q,r,s),this)},setCollisionByExclusion:function(p,q,r,s){return s=this.getLayer(s),s===null?null:(k.SetCollisionByExclusion(p,q,r,s),this)},setCollisionFromCollisionGroup:function(p,q,r){return r=this.getLayer(r),r===null?null:(k.SetCollisionFromCollisionGroup(p,q,r),this)},setTileIndexCallback:function(p,q,r,s){return s=this.getLayer(s),s===null?null:(k.SetTileIndexCallback(p,q,r,s),this)},setTileLocationCallback:function(p,q,r,s,t,u,v){return v=this.getLayer(v),v===null?null:(k.SetTileLocationCallback(p,q,r,s,t,u,v),this)},setLayer:function(p){var q=this.getLayerIndex(p);return q!==null&&(this.currentLayerIndex=q),this},setBaseTileSize:function(p,q){this.tileWidth=p,this.tileHeight=q,this.widthInPixels=this.width*p,this.heightInPixels=this.height*q;for(var r=0;r<this.layers.length;r++){this.layers[r].baseTileWidth=p,this.layers[r].baseTileHeight=q;for(var s=this.layers[r].data,t=this.layers[r].width,u=this.layers[r].height,v=0;v<u;v++)for(var x=0;x<t;x++){var z=s[v][x];z!==null&&z.setSize(void 0,void 0,p,q)}}return this},setLayerTileSize:function(p,q,r){r=this.getLayer(r);if(r===null)return this;r.tileWidth=p,r.tileHeight=q;for(var s=r.data,t=r.width,u=r.height,v=0;v<u;v++)for(var x=0;x<t;x++){var z=s[v][x];z!==null&&z.setSize(p,q)}return this},shuffle:function(p,q,r,s,t){return t=this.getLayer(t),this._isStaticCall(t,"shuffle")?this:t===null?null:(k.Shuffle(p,q,r,s,t),this)},swapByIndex:function(p,q,r,s,t,u,v){return v=this.getLayer(v),this._isStaticCall(v,"swapByIndex")?this:v===null?null:(k.SwapByIndex(p,q,r,s,t,u,v),this)},tileToWorldX:function(p,q,r){return r=this.getLayer(r),r===null?null:k.TileToWorldX(p,q,r)},tileToWorldY:function(p,q,r){return r=this.getLayer(r),r===null?null:k.TileToWorldY(p,q,r)},tileToWorldXY:function(p,q,r,s,t){return t=this.getLayer(t),t===null?null:k.TileToWorldXY(p,q,r,s,t)},weightedRandomize:function(p,q,r,s,t,u){return u=this.getLayer(u),this._isStaticCall(u,"weightedRandomize")?this:u===null?null:(k.WeightedRandomize(p,q,r,s,t,u),this)},worldToTileX:function(p,q,r,s){return s=this.getLayer(s),s===null?null:k.WorldToTileX(p,q,r,s)},worldToTileY:function(p,q,r,s){return s=this.getLayer(s),s===null?null:k.WorldToTileY(p,q,r,s)},worldToTileXY:function(p,q,r,s,t,u){return u=this.getLayer(u),u===null?null:k.WorldToTileXY(p,q,r,s,t,u)},_isStaticCall:function(p,q){return p.tilemapLayer instanceof g?(console.warn(q+": You cannot change the tiles in a static tilemap layer"),!0):!1}});o.exports=n},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(1345),b=a(14),f=a(141),e=new d({Extends:b,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Origin,l.Pipeline,l.Transform,l.Visible,l.ScrollFactor,i],initialize:function c(j,g,h,k,m,n){b.call(this,j,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=h,this.layer=g.layers[h],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=f.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(k),this.setAlpha(this.layer.alpha),this.setPosition(m,n),this.setOrigin(),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(c){var j=[],g=[],h=this.tilemap;Array.isArray(c)||(c=[c]);for(var k=0;k<c.length;k++){var m=c[k];typeof m==="string"&&(m=h.getTileset(m));if(m){g.push(m);for(var n=m.firstgid,p=0;p<m.total;p++)j[n+p]=m}}this.gidMap=j,this.tileset=g},setRenderOrder:function(c){var j=["right-down","left-down","right-up","left-up"];return typeof c==="string"&&(c=j.indexOf(c)),c>=0&&c<4&&(this._renderOrder=c),this},calculateFacesAt:function(c,j){return f.CalculateFacesAt(c,j,this.layer),this},calculateFacesWithin:function(c,j,g,h){return f.CalculateFacesWithin(c,j,g,h,this.layer),this},createFromTiles:function(c,j,g,h,k){return f.CreateFromTiles(c,j,g,h,k,this.layer)},cull:function(c){return this.cullCallback(this.layer,c,this.culledTiles,this._renderOrder)},copy:function(c,j,g,h,k,m,n){return f.Copy(c,j,g,h,k,m,n,this.layer),this},destroy:function(c){c===void 0&&(c=!0);if(!this.tilemap)return;this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),c&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],b.prototype.destroy.call(this)},fill:function(c,j,g,h,k,m){return f.Fill(c,j,g,h,k,m,this.layer),this},filterTiles:function(c,j,g,h,k,m,n){return f.FilterTiles(c,j,g,h,k,m,n,this.layer)},findByIndex:function(c,j,g){return f.FindByIndex(c,j,g,this.layer)},findTile:function(c,j,g,h,k,m,n){return f.FindTile(c,j,g,h,k,m,n,this.layer)},forEachTile:function(c,j,g,h,k,m,n){return f.ForEachTile(c,j,g,h,k,m,n,this.layer),this},getTileAt:function(c,j,g){return f.GetTileAt(c,j,g,this.layer)},getTileAtWorldXY:function(c,j,g,h){return f.GetTileAtWorldXY(c,j,g,h,this.layer)},getTilesWithin:function(c,j,g,h,k){return f.GetTilesWithin(c,j,g,h,k,this.layer)},getTilesWithinShape:function(c,j,g){return f.GetTilesWithinShape(c,j,g,this.layer)},getTilesWithinWorldXY:function(c,j,g,h,k,m){return f.GetTilesWithinWorldXY(c,j,g,h,k,m,this.layer)},hasTileAt:function(c,j){return f.HasTileAt(c,j,this.layer)},hasTileAtWorldXY:function(c,j,g){return f.HasTileAtWorldXY(c,j,g,this.layer)},putTileAt:function(c,j,g,h){return f.PutTileAt(c,j,g,h,this.layer)},putTileAtWorldXY:function(c,j,g,h,k){return f.PutTileAtWorldXY(c,j,g,h,k,this.layer)},putTilesAt:function(c,j,g,h){return f.PutTilesAt(c,j,g,h,this.layer),this},randomize:function(c,j,g,h,k){return f.Randomize(c,j,g,h,k,this.layer),this},removeTileAt:function(c,j,g,h){return f.RemoveTileAt(c,j,g,h,this.layer)},removeTileAtWorldXY:function(c,j,g,h,k){return f.RemoveTileAtWorldXY(c,j,g,h,k,this.layer)},renderDebug:function(c,j){return f.RenderDebug(c,j,this.layer),this},replaceByIndex:function(c,j,g,h,k,m){return f.ReplaceByIndex(c,j,g,h,k,m,this.layer),this},setSkipCull:function(c){return c===void 0&&(c=!0),this.skipCull=c,this},setCullPadding:function(c,j){return c===void 0&&(c=1),j===void 0&&(j=1),this.cullPaddingX=c,this.cullPaddingY=j,this},setCollision:function(c,j,g,h){return f.SetCollision(c,j,g,this.layer,h),this},setCollisionBetween:function(c,j,g,h){return f.SetCollisionBetween(c,j,g,h,this.layer),this},setCollisionByProperty:function(c,j,g){return f.SetCollisionByProperty(c,j,g,this.layer),this},setCollisionByExclusion:function(c,j,g){return f.SetCollisionByExclusion(c,j,g,this.layer),this},setCollisionFromCollisionGroup:function(c,j){return f.SetCollisionFromCollisionGroup(c,j,this.layer),this},setTileIndexCallback:function(c,j,g){return f.SetTileIndexCallback(c,j,g,this.layer),this},setTileLocationCallback:function(c,j,g,h,k,m){return f.SetTileLocationCallback(c,j,g,h,k,m,this.layer),this},shuffle:function(c,j,g,h){return f.Shuffle(c,j,g,h,this.layer),this},swapByIndex:function(c,j,g,h,k,m){return f.SwapByIndex(c,j,g,h,k,m,this.layer),this},tileToWorldX:function(c,j){return f.TileToWorldX(c,j,this.layer)},tileToWorldY:function(c,j){return f.TileToWorldY(c,j,this.layer)},tileToWorldXY:function(c,j,g,h){return f.TileToWorldXY(c,j,g,h,this.layer)},weightedRandomize:function(c,j,g,h,k){return f.WeightedRandomize(c,j,g,h,k,this.layer),this},worldToTileX:function(c,j,g){return f.WorldToTileX(c,j,g,this.layer)},worldToTileY:function(c,j,g){return f.WorldToTileY(c,j,g,this.layer)},worldToTileXY:function(c,j,g,h,k){return f.WorldToTileXY(c,j,g,h,k,this.layer)}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(12),i=a(20),b=a(14),f=a(1348),e=a(141),c=a(29),j=a(9),g=new d({Extends:b,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Depth,l.Flip,l.GetBounds,l.Origin,l.Pipeline,l.Transform,l.Visible,l.ScrollFactor,f],initialize:function h(k,m,n,p,q,r){b.call(this,k,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=m,this.layerIndex=n,this.layer=m.layers[n],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=e.CullTiles,this.renderer=k.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new c(),this.gidMap=[],this.setTilesets(p),this.setAlpha(this.layer.alpha),this.setPosition(q,r),this.setOrigin(),this.setSize(m.tileWidth*this.layer.width,m.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),k.sys.game.events.on(i.CONTEXT_RESTORED,function(){this.updateVBOData()},this)},setTilesets:function(h){var k=[],m=[],n=this.tilemap;Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var q=h[p];typeof q==="string"&&(q=n.getTileset(q));if(q){m.push(q);for(var r=q.firstgid,s=0;s<q.total;s++)k[r+s]=q}}this.gidMap=k,this.tileset=m},updateVBOData:function(){for(var h=0;h<this.tileset.length;h++)this.dirty[h]=!0,this.vertexCount[h]=0,this.vertexBuffer[h]=null,this.bufferData[h]=null,this.vertexViewF32[h]=null,this.vertexViewU32[h]=null;return this},upload:function(h,k){var m=this.renderer,n=m.gl,p=m.pipelines.TextureTintPipeline;if(this.dirty[k]){var q=this.tileset[k],r=this.layer.width,s=this.layer.height,t=q.image.source[0].width,u=q.image.source[0].height,v=this.layer.data,x,z,y,A=this._renderOrder,D=q.firstgid,F=q.firstgid+q.total,H=this.vertexBuffer[k],I=this.bufferData[k],N=-1,J=r*s*p.vertexSize*6;this.vertexCount[k]=0,I===null&&(I=new ArrayBuffer(J),this.bufferData[k]=I,this.vertexViewF32[k]=new Float32Array(I),this.vertexViewU32[k]=new Uint32Array(I));if(A===0)for(z=0;z<s;z++)for(y=0;y<r;y++){x=v[z][y];if(!x||x.index<D||x.index>F||!x.visible)continue;N=this.batchTile(N,x,q,t,u,h,k)}else if(A===1)for(z=0;z<s;z++)for(y=r-1;y>=0;y--){x=v[z][y];if(!x||x.index<D||x.index>F||!x.visible)continue;N=this.batchTile(N,x,q,t,u,h,k)}else if(A===2)for(z=s-1;z>=0;z--)for(y=0;y<r;y++){x=v[z][y];if(!x||x.index<D||x.index>F||!x.visible)continue;N=this.batchTile(N,x,q,t,u,h,k)}else if(A===3)for(z=s-1;z>=0;z--)for(y=r-1;y>=0;y--){x=v[z][y];if(!x||x.index<D||x.index>F||!x.visible)continue;N=this.batchTile(N,x,q,t,u,h,k)}this.dirty[k]=!1,H===null?(H=m.createVertexBuffer(I,n.STATIC_DRAW),this.vertexBuffer[k]=H):(m.setVertexBuffer(H),n.bufferSubData(n.ARRAY_BUFFER,0,I))}return this},batchTile:function(h,k,m,n,p,q,r){var s=m.getTileTextureCoordinates(k.index);if(!s)return h;var t=m.tileWidth,u=m.tileHeight,v=t/2,x=u/2,z=s.x/n,y=s.y/p,A=(s.x+t)/n,D=(s.y+u)/p,F=this._tempMatrix,H=-v,I=-x;k.flipX&&(t*=-1,H+=m.tileWidth),k.flipY&&(u*=-1,I+=m.tileHeight);var N=H+t,J=I+u;F.applyITRS(v+k.pixelX,x+k.pixelY,k.rotation,1,1);var C=j.getTintAppendFloatAlpha(16777215,q.alpha*this.alpha*k.alpha),B=F.getX(H,I),E=F.getY(H,I),K=F.getX(H,J),G=F.getY(H,J),L=F.getX(N,J),M=F.getY(N,J),O=F.getX(N,I),P=F.getY(N,I);q.roundPixels&&(B=Math.round(B),E=Math.round(E),K=Math.round(K),G=Math.round(G),L=Math.round(L),M=Math.round(M),O=Math.round(O),P=Math.round(P));var Q=this.vertexViewF32[r],R=this.vertexViewU32[r];return Q[++h]=B,Q[++h]=E,Q[++h]=z,Q[++h]=y,Q[++h]=0,R[++h]=C,Q[++h]=K,Q[++h]=G,Q[++h]=z,Q[++h]=D,Q[++h]=0,R[++h]=C,Q[++h]=L,Q[++h]=M,Q[++h]=A,Q[++h]=D,Q[++h]=0,R[++h]=C,Q[++h]=B,Q[++h]=E,Q[++h]=z,Q[++h]=y,Q[++h]=0,R[++h]=C,Q[++h]=L,Q[++h]=M,Q[++h]=A,Q[++h]=D,Q[++h]=0,R[++h]=C,Q[++h]=O,Q[++h]=P,Q[++h]=A,Q[++h]=y,Q[++h]=0,R[++h]=C,this.vertexCount[r]+=6,h},setRenderOrder:function(h){var k=["right-down","left-down","right-up","left-up"];typeof h==="string"&&(h=k.indexOf(h));if(h>=0&&h<4){this._renderOrder=h;for(var m=0;m<this.tileset.length;m++)this.dirty[m]=!0}return this},calculateFacesAt:function(h,k){return e.CalculateFacesAt(h,k,this.layer),this},calculateFacesWithin:function(h,k,m,n){return e.CalculateFacesWithin(h,k,m,n,this.layer),this},createFromTiles:function(h,k,m,n,p){return e.CreateFromTiles(h,k,m,n,p,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles)},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,k){return h===void 0&&(h=1),k===void 0&&(k=1),this.cullPaddingX=h,this.cullPaddingY=k,this},findByIndex:function(h,k,m){return e.FindByIndex(h,k,m,this.layer)},findTile:function(h,k,m,n,p,q,r){return e.FindTile(h,k,m,n,p,q,r,this.layer)},filterTiles:function(h,k,m,n,p,q,r){return e.FilterTiles(h,k,m,n,p,q,r,this.layer)},forEachTile:function(h,k,m,n,p,q,r){return e.ForEachTile(h,k,m,n,p,q,r,this.layer),this},getTileAt:function(h,k,m){return e.GetTileAt(h,k,m,this.layer)},getTileAtWorldXY:function(h,k,m,n){return e.GetTileAtWorldXY(h,k,m,n,this.layer)},getTilesWithin:function(h,k,m,n,p){return e.GetTilesWithin(h,k,m,n,p,this.layer)},getTilesWithinWorldXY:function(h,k,m,n,p,q){return e.GetTilesWithinWorldXY(h,k,m,n,p,q,this.layer)},getTilesWithinShape:function(h,k,m){return e.GetTilesWithinShape(h,k,m,this.layer)},hasTileAt:function(h,k){return e.HasTileAt(h,k,this.layer)},hasTileAtWorldXY:function(h,k,m){return e.HasTileAtWorldXY(h,k,m,this.layer)},renderDebug:function(h,k){return e.RenderDebug(h,k,this.layer),this},setCollision:function(h,k,m,n){return e.SetCollision(h,k,m,this.layer,n),this},setCollisionBetween:function(h,k,m,n){return e.SetCollisionBetween(h,k,m,n,this.layer),this},setCollisionByProperty:function(h,k,m){return e.SetCollisionByProperty(h,k,m,this.layer),this},setCollisionByExclusion:function(h,k,m){return e.SetCollisionByExclusion(h,k,m,this.layer),this},setTileIndexCallback:function(h,k,m){return e.SetTileIndexCallback(h,k,m,this.layer),this},setCollisionFromCollisionGroup:function(h,k){return e.SetCollisionFromCollisionGroup(h,k,this.layer),this},setTileLocationCallback:function(h,k,m,n,p,q){return e.SetTileLocationCallback(h,k,m,n,p,q,this.layer),this},tileToWorldX:function(h,k){return e.TileToWorldX(h,k,this.layer)},tileToWorldY:function(h,k){return e.TileToWorldY(h,k,this.layer)},tileToWorldXY:function(h,k,m,n){return e.TileToWorldXY(h,k,m,n,this.layer)},worldToTileX:function(h,k,m){return e.WorldToTileX(h,k,m,this.layer)},worldToTileY:function(h,k,m){return e.WorldToTileY(h,k,m,this.layer)},worldToTileXY:function(h,k,m,n,p){return e.WorldToTileXY(h,k,m,n,p,this.layer)},destroy:function(h){h===void 0&&(h=!0);if(!this.tilemap)return;this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var k=0;k<this.tileset.length;k++)this.dirty[k]=!0,this.vertexCount[k]=0,this.vertexBuffer[k]=null,this.bufferData[k]=null,this.vertexViewF32[k]=null,this.vertexViewU32[k]=null;this.gidMap=[],this.tileset=[],b.prototype.destroy.call(this)}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(2),i=new d({initialize:function b(f){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(f)},reset:function(b){return this.delay=l(b,"delay",0),this.repeat=l(b,"repeat",0),this.loop=l(b,"loop",!1),this.callback=l(b,"callback",void 0),this.callbackScope=l(b,"callbackScope",this.callback),this.args=l(b,"args",[]),this.timeScale=l(b,"timeScale",1),this.startAt=l(b,"startAt",0),this.paused=l(b,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var b=this.delay+this.delay*this.repeat,f=this.elapsed+this.delay*(this.repeat-this.repeatCount);return f/b}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},remove:function(b){b===void 0&&(b=!1),this.elapsed=this.delay,this.hasDispatched=!b,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1357),l=function(i){var b,f=[];if(i.hasOwnProperty("props"))for(b in i.props)b.substr(0,1)!=="_"&&f.push({key:b,value:i.props[b]});else for(b in i)d.indexOf(b)===-1&&b.substr(0,1)!=="_"&&f.push({key:b,value:i[b]});return f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(6),l=function(i){var b=d(i,"tweens",null);return b===null?[]:(typeof b==="function"&&(b=b.call()),Array.isArray(b)||(b=[b]),b)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(230),l=a(15),i=a(88),b=a(69),f=a(145),e=a(6),c=a(229),j=a(231),g=a(233),h=function(k,m,n){n===void 0&&(n=d);var p=e(m,"from",0),q=e(m,"to",1),r=[{value:p}],s=f(m,"delay",n.delay),t=f(m,"duration",n.duration),u=e(m,"easeParams",n.easeParams),v=b(e(m,"ease",n.ease),u),x=f(m,"hold",n.hold),z=f(m,"repeat",n.repeat),y=f(m,"repeatDelay",n.repeatDelay),A=i(m,"yoyo",n.yoyo),D=[],F=c("value",q),H=g(r[0],0,"value",F.getEnd,F.getStart,F.getActive,v,s,t,A,x,z,y,!1,!1);H.start=p,H.current=p,H.to=q,D.push(H);var I=new j(k,D,r);I.offset=l(m,"offset",null),I.completeDelay=l(m,"completeDelay",0),I.loop=Math.round(l(m,"loop",0)),I.loopDelay=Math.round(l(m,"loopDelay",0)),I.paused=i(m,"paused",!1),I.useFrames=i(m,"useFrames",!1);for(var N=e(m,"callbackScope",I),J=[I,null],C=j.TYPES,B=0;B<C.length;B++){var E=C[B],K=e(m,E,!1);if(K){var G=e(m,E+"Scope",N),L=e(m,E+"Params",[]);I.setCallback(E,K,J.concat(L),G)}}return I};o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(69),l=a(6),i=a(13),b=function(f,e){e===void 0&&(e={});var c,j=l(e,"start",0),g=l(e,"ease",null),h=l(e,"grid",null),k=l(e,"from",0),m=k==="first",n=k==="center",p=k==="last",q=typeof k==="number",r=Array.isArray(f),s=r?parseFloat(f[0]):parseFloat(f),t=r?parseFloat(f[1]):0,u=Math.max(s,t);r&&(j+=s);if(h){var v=h[0],x=h[1],z=0,y=0,A=0,D=0,F=[];p?(z=v-1,y=x-1):q?(z=k%v,y=Math.floor(k/v)):n&&(z=(v-1)/2,y=(x-1)/2);for(var H=i.MIN_SAFE_INTEGER,I=0;I<x;I++){F[I]=[];for(var N=0;N<v;N++){A=z-N,D=y-I;var J=Math.sqrt(A*A+D*D);J>H&&(H=J),F[I][N]=J}}}var C=g?d(g):null;return h?c=function(B,E,K,G){var L=0,M=G%v,O=Math.floor(G/v);M>=0&&M<v&&O>=0&&O<x&&(L=F[O][M]);var P;if(r){var Q=t-s;C?P=L/H*Q*C(L/H):P=L/H*Q}else C?P=L*s*C(L/H):P=L*s;return P+j}:c=function(B,E,K,G,L){L--;var M;m?M=G:n?M=Math.abs(L/2-G):p?M=L-G:q&&(M=Math.abs(k-G));var O;if(r){var P;n?P=(t-s)/L*(M*2):P=(t-s)/L*M,C?O=P*C(M/L):O=P}else C?O=L*u*C(M/L):O=M*s;return O+j},c};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(67),l=a(230),i=a(15),b=a(88),f=a(69),e=a(145),c=a(228),j=a(499),g=a(6),h=a(503),k=a(146),m=function(n,p){var q=new h(n);q.completeDelay=i(p,"completeDelay",0),q.loop=Math.round(i(p,"loop",0)),q.loopDelay=Math.round(i(p,"loopDelay",0)),q.paused=b(p,"paused",!1),q.useFrames=b(p,"useFrames",!1);var r=g(p,"callbackScope",q),s=[q],t=g(p,"onStart",!1);if(t){var u=g(p,"onStartScope",r),v=g(p,"onStartParams",[]);q.setCallback("onStart",t,s.concat(v),u)}var x=g(p,"onUpdate",!1);if(x){var z=g(p,"onUpdateScope",r),y=g(p,"onUpdateParams",[]);q.setCallback("onUpdate",x,s.concat(y),z)}var A=g(p,"onLoop",!1);if(A){var D=g(p,"onLoopScope",r),F=g(p,"onLoopParams",[]);q.setCallback("onLoop",A,s.concat(F),D)}var H=g(p,"onYoyo",!1);if(H){var I=g(p,"onYoyoScope",r),N=g(p,"onYoyoParams",[]);q.setCallback("onYoyo",H,s.concat(null,N),I)}var J=g(p,"onComplete",!1);if(J){var C=g(p,"onCompleteScope",r),B=g(p,"onCompleteParams",[]);q.setCallback("onComplete",J,s.concat(B),C)}var E=j(p);if(E.length===0)return q.paused=!0,q;var K=d(l);K.targets=c(p);var G=i(p,"totalDuration",0);G>0?K.duration=Math.floor(G/E.length):K.duration=e(p,"duration",K.duration),K.delay=e(p,"delay",K.delay),K.easeParams=g(p,"easeParams",K.easeParams),K.ease=f(g(p,"ease",K.ease),K.easeParams),K.hold=e(p,"hold",K.hold),K.repeat=e(p,"repeat",K.repeat),K.repeatDelay=e(p,"repeatDelay",K.repeatDelay),K.yoyo=b(p,"yoyo",K.yoyo),K.flipX=b(p,"flipX",K.flipX),K.flipY=b(p,"flipY",K.flipY);for(var L=0;L<E.length;L++)q.queue(k(q,E[L],K));return q};o.exports=m},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(232),b=a(146),f=a(89),e=new d({Extends:l,initialize:function c(j){l.call(this),this.manager=j,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=f.PENDING_ADD,this._pausedState=f.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(c,j){this.emit(c,this),j&&j.func.apply(j.scope,j.params)},setTimeScale:function(c){return this.timeScale=c,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===f.ACTIVE},add:function(c){return this.queue(b(this,c))},queue:function(c){return this.isPlaying()||(c.parent=this,c.parentIsTimeline=!0,this.data.push(c),this.totalData=this.data.length),this},hasOffset:function(c){return c.offset!==null},isOffsetAbsolute:function(c){return typeof c==="number"},isOffsetRelative:function(c){var j=typeof c;if(j==="string"){var g=c[0];if(g==="-"||g==="+")return!0}return!1},getRelativeOffset:function(c,j){var g=c[0],h=parseFloat(c.substr(2)),k=j;switch(g){case"+":k+=h;break;case"-":k-=h;break}return Math.max(0,k)},calcDuration:function(){for(var c=0,j=0,g=0,h=0;h<this.totalData;h++){var k=this.data[h];k.init(),this.hasOffset(k)?this.isOffsetAbsolute(k.offset)?(k.calculatedOffset=k.offset,k.offset===0&&(g=0)):this.isOffsetRelative(k.offset)&&(k.calculatedOffset=this.getRelativeOffset(k.offset,c)):k.calculatedOffset=g,c=k.totalDuration+k.calculatedOffset,j+=k.totalDuration,g+=k.totalDuration}this.duration=j,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=f.PAUSED,!1):!0},resetTweens:function(c){for(var j=0;j<this.totalData;j++){var g=this.data[j];g.play(c)}},setCallback:function(c,j,g,h){return e.TYPES.indexOf(c)!==-1&&(this.callbacks[c]={func:j,scope:h,params:g}),this},makeActive:function(c){return this.manager.makeActive(c)},play:function(){if(this.state===f.ACTIVE)return;if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=f.ACTIVE;this.dispatchTimelineEvent(i.TIMELINE_START,this.callbacks.onStart)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=f.LOOP_DELAY):(this.state=f.ACTIVE,this.dispatchTimelineEvent(i.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=f.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=f.PENDING_REMOVE,this.dispatchTimelineEvent(i.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(c,j){if(this.state===f.PAUSED)return;this.useFrames&&(j=1*this.manager.timeScale),j*=this.timeScale,this.elapsed+=j,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=j,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);switch(this.state){case f.ACTIVE:for(var g=this.totalData,h=0;h<this.totalData;h++){var k=this.data[h];k.update(c,j)&&g--}this.dispatchTimelineEvent(i.TIMELINE_UPDATE,this.callbacks.onUpdate),g===0&&this.nextState();break;case f.LOOP_DELAY:this.countdown-=j,this.countdown<=0&&(this.state=f.ACTIVE,this.dispatchTimelineEvent(i.TIMELINE_LOOP,this.callbacks.onLoop));break;case f.COMPLETE_DELAY:this.countdown-=j,this.countdown<=0&&(this.state=f.PENDING_REMOVE,this.dispatchTimelineEvent(i.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===f.PENDING_REMOVE},stop:function(){this.state=f.PENDING_REMOVE},pause:function(){return this.state===f.PAUSED?void 0:(this.paused=!0,this._pausedState=this.state,this.state=f.PAUSED,this.emit(i.TIMELINE_PAUSE,this),this)},resume:function(){return this.state===f.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(i.TIMELINE_RESUME,this)),this},hasTarget:function(c){for(var j=0;j<this.data.length;j++)if(this.data[j].hasTarget(c))return!0;return!1},destroy:function(){for(var c=0;c<this.data.length;c++)this.data[c].stop()}});e.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(151),l=a(0),i=a(111),b=new l({initialize:function f(e){this.parent=e,this.animationManager=e.scene.sys.anims,this.animationManager.once(i.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(f){return f instanceof d&&(f=f.key),this.nextAnim===null?this.nextAnim=f:this.nextAnimsQueue.push(f),this.parent},setDelay:function(f){return f===void 0&&(f=0),this._delay=f,this.parent},getDelay:function(){return this._delay},delayedPlay:function(f,e,c){return this.play(e,!0,c),this.nextTick+=f,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(f,e){return e===void 0&&(e=0),this.isPlaying&&this.stop(),this.animationManager.load(this,f,e),this.parent},pause:function(f){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),f!==void 0&&this.updateFrame(f),this.parent},resume:function(f){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),f!==void 0&&this.updateFrame(f),this.parent},isPaused:{get:function(){return this._paused}},play:function(f,e,c){return e===void 0&&(e=!1),c===void 0&&(c=0),f instanceof d&&(f=f.key),e&&this.isPlaying&&this.currentAnim.key===f?this.parent:(this.forward=!0,this._reverse=!1,this._paused=!1,this._wasPlaying=!0,this._startAnimation(f,c))},playReverse:function(f,e,c){return e===void 0&&(e=!1),c===void 0&&(c=0),f instanceof d&&(f=f.key),e&&this.isPlaying&&this.currentAnim.key===f?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(f,c))},_startAnimation:function(f,e){this.load(f,e);var c=this.currentAnim,j=this.parent;if(!c)return j;this.repeatCounter=this._repeat===-1?Number.MAX_VALUE:this._repeat,c.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,c.showOnStart&&(j.visible=!0);var g=this.currentFrame;return c.emit(i.ANIMATION_START,c,g,j),j.emit(i.SPRITE_ANIMATION_KEY_START+f,c,g,j),j.emit(i.SPRITE_ANIMATION_START,c,g,j),j},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var f=this.currentFrame.progress;return this.forward||(f=1-f),f},setProgress:function(f){return this.forward||(f=1-f),this.setCurrentFrame(this.currentAnim.getFrameByProgress(f)),this.parent},remove:function(f,e){e===void 0&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(f){return this._repeat=f,this.repeatCounter=f===-1?Number.MAX_VALUE:f,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(f){return this._repeatDelay=f,this.parent},restart:function(f){f===void 0&&(f=!1);var e=this.currentAnim;e.getFirstTick(this,f),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(e.frames[0]);var c=this.parent,j=this.currentFrame;return e.emit(i.ANIMATION_RESTART,e,j,c),c.emit(i.SPRITE_ANIMATION_KEY_RESTART+e.key,e,j,c),c.emit(i.SPRITE_ANIMATION_RESTART,e,j,c),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var f=this.parent,e=this.currentAnim,c=this.currentFrame;e&&(e.emit(i.ANIMATION_COMPLETE,e,c,f),f.emit(i.SPRITE_ANIMATION_KEY_COMPLETE+e.key,e,c,f),f.emit(i.SPRITE_ANIMATION_COMPLETE,e,c,f));if(this.nextAnim){var j=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(j)}return f},stopAfterDelay:function(f){return this._pendingStop=1,this._pendingStopValue=f,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(f){return this._pendingStop=3,this._pendingStopValue=f,this.parent},setTimeScale:function(f){return f===void 0&&(f=1),this._timeScale=f,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(f,e){if(!this.currentAnim||!this.isPlaying||this.currentAnim.paused)return;this.accumulator+=e*this._timeScale;if(this._pendingStop===1){this._pendingStopValue-=e;if(this._pendingStopValue<=0)return this.currentAnim.completeAnimation(this)}this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)},setCurrentFrame:function(f){var e=this.parent;return this.currentFrame=f,e.texture=f.frame.texture,e.frame=f.frame,e.isCropped&&e.frame.updateCropUVs(e._crop,e.flipX,e.flipY),e.setSizeToFrame(),e._originComponent&&(f.frame.customPivot?e.setOrigin(f.frame.pivotX,f.frame.pivotY):e.updateDisplayOrigin()),e},updateFrame:function(f){var e=this.setCurrentFrame(f);if(this.isPlaying){f.setAlpha&&(e.alpha=f.alpha);var c=this.currentAnim;e.emit(i.SPRITE_ANIMATION_KEY_UPDATE+c.key,c,f,e),e.emit(i.SPRITE_ANIMATION_UPDATE,c,f,e),this._pendingStop===3&&this._pendingStopValue===f&&this.currentAnim.completeAnimation(this)}},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(f){return f===void 0&&(f=!1),this._yoyo=f,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(i.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(506),l=a(40),i=a(0),b=a(33),f=a(507),e=a(92),c=a(29),j=new i({initialize:function g(h){this.game=h,this.type=b.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:h.config.clearBeforeRender,backgroundColor:h.config.backgroundColor,resolution:h.config.resolution,antialias:h.config.antialias,roundPixels:h.config.roundPixels},this.gameCanvas=h.canvas;var k={alpha:h.config.transparent,desynchronized:h.config.desynchronized};this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d",k),this.currentContext=this.gameContext,this.antialias=h.config.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c(),this._tempMatrix2=new c(),this._tempMatrix3=new c(),this._tempMatrix4=new c(),this.init()},init:function(){this.game.scale.on(e.RESIZE,this.onResize,this);var g=this.game.scale.baseSize;this.resize(g.width,g.height)},onResize:function(g,h){(h.width!==this.width||h.height!==this.height)&&this.resize(h.width,h.height)},resize:function(g,h){this.width=g,this.height=h},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g?g:this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,h=this.config,k=this.width,m=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),h.clearBeforeRender&&g.clearRect(0,0,k,m),h.transparent||(g.fillStyle=h.backgroundColor.rgba,g.fillRect(0,0,k,m)),g.save(),this.drawCount=0},render:function(g,h,k,m){var n=h.list,p=n.length,q=m._cx,r=m._cy,s=m._cw,t=m._ch,u=m.renderToTexture?m.context:g.sys.context;u.save(),this.game.scene.customViewports&&(u.beginPath(),u.rect(q,r,s,t),u.clip()),this.currentContext=u;var v=m.mask;v&&v.preRenderCanvas(this,null,m._maskCamera),m.transparent||(u.fillStyle=m.backgroundColor.rgba,u.fillRect(q,r,s,t)),u.globalAlpha=m.alpha,u.globalCompositeOperation="source-over",this.drawCount+=n.length,m.renderToTexture&&m.emit(l.PRE_RENDER,m),m.matrix.copyToContext(u);for(var x=0;x<p;x++){var z=n[x];if(!z.willRender(m))continue;z.mask&&z.mask.preRenderCanvas(this,z,m),z.renderCanvas(this,z,k,m),z.mask&&z.mask.postRenderCanvas(this,z,m)}u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.globalAlpha=1,m.flashEffect.postRenderCanvas(u),m.fadeEffect.postRenderCanvas(u),m.dirty=!1,v&&v.postRenderCanvas(this),u.restore(),m.renderToTexture&&(m.emit(l.POST_RENDER,m),m.renderToGame&&g.sys.context.drawImage(m.canvas,q,r))},postRender:function(){var g=this.gameContext;g.restore();var h=this.snapshotState;h.callback&&(d(this.gameCanvas,h),h.callback=null)},snapshotCanvas:function(g,h,k,m,n,p,q,r,s){k===void 0&&(k=!1),this.snapshotArea(m,n,p,q,h,r,s);var t=this.snapshotState;return t.getPixel=k,d(this.canvas,t),t.callback=null,this},snapshot:function(g,h,k){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,h,k)},snapshotArea:function(g,h,k,m,n,p,q){var r=this.snapshotState;return r.callback=n,r.type=p,r.encoder=q,r.getPixel=!1,r.x=g,r.y=h,r.width=Math.min(k,this.gameCanvas.width),r.height=Math.min(m,this.gameCanvas.height),this},snapshotPixel:function(g,h,k){return this.snapshotArea(g,h,1,1,k),this.snapshotState.getPixel=!0,this},batchSprite:function(g,h,k,m){var n=k.alpha*g.alpha;if(n===0)return;var p=this.currentContext,q=this._tempMatrix1,r=this._tempMatrix2,s=this._tempMatrix3,t=h.canvasData,u=t.x,v=t.y,x=h.cutWidth,z=h.cutHeight,y=h.customPivot,A=h.source.resolution,D=g.displayOriginX,F=g.displayOriginY,H=-D+h.x,I=-F+h.y;if(g.isCropped){var N=g._crop;(N.flipX!==g.flipX||N.flipY!==g.flipY)&&h.updateCropUVs(N,g.flipX,g.flipY),x=N.cw,z=N.ch,u=N.cx,v=N.cy,H=-D+N.x,I=-F+N.y,g.flipX&&(H>=0?H=-(H+x):H<0&&(H=Math.abs(H)-x)),g.flipY&&(I>=0?I=-(I+z):I<0&&(I=Math.abs(I)-z))}var J=1,C=1;g.flipX&&(y||(H+=-h.realWidth+D*2),J=-1),g.flipY&&(y||(I+=-h.realHeight+F*2),C=-1),r.applyITRS(g.x,g.y,g.rotation,g.scaleX*J,g.scaleY*C),q.copyFrom(k.matrix),m?(q.multiplyWithOffset(m,-k.scrollX*g.scrollFactorX,-k.scrollY*g.scrollFactorY),r.e=g.x,r.f=g.y,q.multiply(r,s)):(r.e-=k.scrollX*g.scrollFactorX,r.f-=k.scrollY*g.scrollFactorY,q.multiply(r,s)),p.save(),s.setToContext(p),p.globalCompositeOperation=this.blendModes[g.blendMode],p.globalAlpha=n,p.imageSmoothingEnabled=!(!this.antialias||h.source.scaleMode),g.mask&&g.mask.preRenderCanvas(this,g,k),p.drawImage(h.source.image,u,v,x,z,H,I,x/A,z/A),g.mask&&g.mask.postRenderCanvas(this,g,k),p.restore()},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l=a(31),i=a(2),b=function(f,e){var c=i(e,"callback"),j=i(e,"type","image/png"),g=i(e,"encoder",.92),h=Math.abs(Math.round(i(e,"x",0))),k=Math.abs(Math.round(i(e,"y",0))),m=i(e,"width",f.width),n=i(e,"height",f.height),p=i(e,"getPixel",!1);if(p){var q=f.getContext("2d"),r=q.getImageData(h,k,1,1),s=r.data;c.call(null,new l(s[0],s[1],s[2],s[3]/255))}else if(h!==0||k!==0||m!==f.width||n!==f.height){var t=d.createWebGL(this,m,n),u=t.getContext("2d");u.drawImage(f,h,k,m,n,0,0,m,n);var v=new Image();v.onerror=function(){c.call(null),d.remove(t)},v.onload=function(){c.call(null,v),d.remove(t)},v.src=t.toDataURL(j,g)}else{var x=new Image();x.onerror=function(){c.call(null)},x.onload=function(){c.call(null,x)},x.src=f.toDataURL(j,g)}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(52),l=a(316),i=function(){var b=[],f=l.supportNewBlendModes,e="source-over";return b[d.NORMAL]=e,b[d.ADD]="lighter",b[d.MULTIPLY]=f?"multiply":e,b[d.SCREEN]=f?"screen":e,b[d.OVERLAY]=f?"overlay":e,b[d.DARKEN]=f?"darken":e,b[d.LIGHTEN]=f?"lighten":e,b[d.COLOR_DODGE]=f?"color-dodge":e,b[d.COLOR_BURN]=f?"color-burn":e,b[d.HARD_LIGHT]=f?"hard-light":e,b[d.SOFT_LIGHT]=f?"soft-light":e,b[d.DIFFERENCE]=f?"difference":e,b[d.EXCLUSION]=f?"exclusion":e,b[d.HUE]=f?"hue":e,b[d.SATURATION]=f?"saturation":e,b[d.COLOR]=f?"color":e,b[d.LUMINOSITY]=f?"luminosity":e,b[d.ERASE]="destination-out",b[d.SOURCE_IN]="source-in",b[d.SOURCE_OUT]="source-out",b[d.SOURCE_ATOP]="source-atop",b[d.DESTINATION_OVER]="destination-over",b[d.DESTINATION_IN]="destination-in",b[d.DESTINATION_OUT]="destination-out",b[d.DESTINATION_ATOP]="destination-atop",b[d.LIGHTER]="lighter",b[d.COPY]="copy",b[d.XOR]="xor",b};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(91),l=a(40),i=a(0),b=a(33),f=a(20),e=a(120),c=a(1),j=a(92),g=a(80),h=a(121),k=a(29),m=a(9),n=a(509),p=a(510),q=a(511),r=a(237),s=a(512),t=new i({initialize:function u(v){var x=v.config,z={alpha:x.transparent,desynchronized:x.desynchronized,depth:!1,antialias:x.antialiasGL,premultipliedAlpha:x.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:x.failIfMajorPerformanceCaveat,powerPreference:x.powerPreference};this.config={clearBeforeRender:x.clearBeforeRender,antialias:x.antialias,backgroundColor:x.backgroundColor,contextCreation:z,resolution:x.resolution,roundPixels:x.roundPixels,maxTextures:x.maxTextures,maxTextureSize:x.maxTextureSize,batchSize:x.batchSize,maxLights:x.maxLights,mipmapFilter:x.mipmapFilter},this.game=v,this.type=b.WEBGL,this.width=0,this.height=0,this.canvas=v.canvas,this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=Infinity,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new d(0,0,0,0),this._tempMatrix1=new k(),this._tempMatrix2=new k(),this._tempMatrix3=new k(),this._tempMatrix4=new k(),this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.mipmapFilter=null,this.init(this.config)},init:function(u){var v,x=this.game,z=this.canvas,y=u.backgroundColor;x.config.context?v=x.config.context:v=z.getContext("webgl",u.contextCreation)||z.getContext("experimental-webgl",u.contextCreation);if(!v||v.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=v;var A=this;this.contextLostHandler=function(J){A.contextLost=!0,A.game.events.emit(f.CONTEXT_LOST,A),J.preventDefault()},this.contextRestoredHandler=function(){A.contextLost=!1,A.init(A.config),A.game.events.emit(f.CONTEXT_RESTORED,A)},z.addEventListener("webglcontextlost",this.contextLostHandler,!1),z.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),x.context=v;for(var D=0;D<=27;D++)this.blendModes.push({func:[v.ONE,v.ONE_MINUS_SRC_ALPHA],equation:v.FUNC_ADD});this.blendModes[1].func=[v.ONE,v.DST_ALPHA],this.blendModes[2].func=[v.DST_COLOR,v.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[v.ONE,v.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[v.ZERO,v.ONE_MINUS_SRC_ALPHA],equation:v.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=v.BYTE,this.glFormats[1]=v.SHORT,this.glFormats[2]=v.UNSIGNED_BYTE,this.glFormats[3]=v.UNSIGNED_SHORT,this.glFormats[4]=v.FLOAT,this.glFuncMap={mat2:{func:v.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:v.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:v.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:v.uniform1f,length:1},"1fv":{func:v.uniform1fv,length:1},"1i":{func:v.uniform1i,length:1},"1iv":{func:v.uniform1iv,length:1},"2f":{func:v.uniform2f,length:2},"2fv":{func:v.uniform2fv,length:1},"2i":{func:v.uniform2i,length:2},"2iv":{func:v.uniform2iv,length:1},"3f":{func:v.uniform3f,length:3},"3fv":{func:v.uniform3fv,length:1},"3i":{func:v.uniform3i,length:3},"3iv":{func:v.uniform3iv,length:1},"4f":{func:v.uniform4f,length:4},"4fv":{func:v.uniform4fv,length:1},"4i":{func:v.uniform4i,length:4},"4iv":{func:v.uniform4iv,length:1}};var F=v.getSupportedExtensions();u.maxTextures||(u.maxTextures=v.getParameter(v.MAX_TEXTURE_IMAGE_UNITS)),u.maxTextureSize||(u.maxTextureSize=v.getParameter(v.MAX_TEXTURE_SIZE));var H="WEBGL_compressed_texture_",I="WEBKIT_"+H;this.compression.ETC1=v.getExtension(H+"etc1")||v.getExtension(I+"etc1"),this.compression.PVRTC=v.getExtension(H+"pvrtc")||v.getExtension(I+"pvrtc"),this.compression.S3TC=v.getExtension(H+"s3tc")||v.getExtension(I+"s3tc"),this.supportedExtensions=F,v.disable(v.DEPTH_TEST),v.disable(v.CULL_FACE),v.enable(v.BLEND),v.clearColor(y.redGL,y.greenGL,y.blueGL,y.alphaGL),this.mipmapFilter=v[u.mipmapFilter];for(var N=0;N<this.currentTextures.length;++N)this.currentTextures[N]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new r({game:x,renderer:this})),this.addPipeline("TextureTintStripPipeline",new s({game:x,renderer:this})),this.addPipeline("BitmapMaskPipeline",new p({game:x,renderer:this})),this.addPipeline("Light2D",new q({game:x,renderer:this,maxLights:u.maxLights})),this.setBlendMode(b.BlendModes.NORMAL),x.textures.once(h.READY,this.boot,this),this},boot:function(){for(var u in this.pipelines)this.pipelines[u].boot();var v=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=v,this.blankTexture=v;var x=this.gl;x.bindFramebuffer(x.FRAMEBUFFER,null),x.enable(x.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on(j.RESIZE,this.onResize,this);var z=this.game.scale.baseSize;this.resize(z.width,z.height,this.game.scale.resolution)},onResize:function(u,v,x,z){(v.width!==this.width||v.height!==this.height||z!==this.resolution)&&this.resize(v.width,v.height,z)},resize:function(u,v,x){var z=this.gl,y=this.pipelines;this.width=u,this.height=v,this.resolution=x,z.viewport(0,0,u,v);for(var A in y)y[A].resize(u,v,x);return this.drawingBufferHeight=z.drawingBufferHeight,z.scissor(0,z.drawingBufferHeight-v,u,v),this.defaultCamera.setSize(u,v),this},hasExtension:function(u){return this.supportedExtensions?this.supportedExtensions.indexOf(u):!1},getExtension:function(u){return this.hasExtension(u)?(u in this.extensions||(this.extensions[u]=this.gl.getExtension(u)),this.extensions[u]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(u){return u in this.pipelines},getPipeline:function(u){return this.hasPipeline(u)?this.pipelines[u]:null},removePipeline:function(u){return delete this.pipelines[u],this},addPipeline:function(u,v){return this.hasPipeline(u)?console.warn("Pipeline exists: "+u):this.pipelines[u]=v,v.name=u,this.pipelines[u].resize(this.width,this.height,this.config.resolution),v},pushScissor:function(u,v,x,z,y){y===void 0&&(y=this.drawingBufferHeight);var A=this.scissorStack,D=[u,v,x,z];return A.push(D),this.setScissor(u,v,x,z,y),this.currentScissor=D,D},setScissor:function(u,v,x,z,y){y===void 0&&(y=this.drawingBufferHeight);var A=this.gl,D=this.currentScissor,F=x>0&&z>0;if(D&&F){var H=D[0],I=D[1],N=D[2],J=D[3];F=H!==u||I!==v||N!==x||J!==z}F&&(this.flush(),A.scissor(u,y-v-z,x,z))},popScissor:function(){var u=this.scissorStack;u.pop();var v=u[u.length-1];v&&this.setScissor(v[0],v[1],v[2],v[3]),this.currentScissor=v},setPipeline:function(u,v){return(this.currentPipeline!==u||this.currentPipeline.vertexBuffer!==this.currentVertexBuffer||this.currentPipeline.program!==this.currentProgram)&&(this.flush(),this.currentPipeline=u,this.currentPipeline.bind()),this.currentPipeline.onBind(v),this.currentPipeline},hasActiveStencilMask:function(){var u=this.currentMask.mask,v=this.currentCameraMask.mask;return u&&u.isStencil||v&&v.isStencil},rebindPipeline:function(u){var v=this.gl;v.disable(v.DEPTH_TEST),v.disable(v.CULL_FACE),this.hasActiveStencilMask()?v.clear(v.DEPTH_BUFFER_BIT):(v.disable(v.STENCIL_TEST),v.clear(v.DEPTH_BUFFER_BIT|v.STENCIL_BUFFER_BIT)),v.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=u,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(u,v){v===void 0&&(v=!1);var x=this.gl,z=this.blendModes[u];return v||u!==b.BlendModes.SKIP_CHECK&&this.currentBlendMode!==u?(this.flush(),x.enable(x.BLEND),x.blendEquation(z.equation),z.func.length>2?x.blendFuncSeparate(z.func[0],z.func[1],z.func[2],z.func[3]):x.blendFunc(z.func[0],z.func[1]),this.currentBlendMode=u,!0):!1},addBlendMode:function(u,v){var x=this.blendModes.push({func:u,equation:v});return x-1},updateBlendMode:function(u,v,x){return this.blendModes[u]&&(this.blendModes[u].func=v,x&&(this.blendModes[u].equation=x)),this},removeBlendMode:function(u){return u>17&&this.blendModes[u]&&this.blendModes.splice(u,1),this},setBlankTexture:function(u){u===void 0&&(u=!1),(u||this.currentActiveTextureUnit!==0||!this.currentTextures[0])&&this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(u,v,x){x===void 0&&(x=!0);var z=this.gl;return u!==this.currentTextures[v]&&(x&&this.flush(),this.currentActiveTextureUnit!==v&&(z.activeTexture(z.TEXTURE0+v),this.currentActiveTextureUnit=v),z.bindTexture(z.TEXTURE_2D,u),this.currentTextures[v]=u),this},setFramebuffer:function(u,v){v===void 0&&(v=!1);var x=this.gl,z=this.width,y=this.height;return u!==this.currentFramebuffer&&(u&&u.renderTexture?(z=u.renderTexture.width,y=u.renderTexture.height):this.flush(),x.bindFramebuffer(x.FRAMEBUFFER,u),x.viewport(0,0,z,y),v&&(u?(this.drawingBufferHeight=y,this.pushScissor(0,0,z,y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=u),this},setProgram:function(u){var v=this.gl;return u!==this.currentProgram&&(this.flush(),v.useProgram(u),this.currentProgram=u),this},setVertexBuffer:function(u){var v=this.gl;return u!==this.currentVertexBuffer&&(this.flush(),v.bindBuffer(v.ARRAY_BUFFER,u),this.currentVertexBuffer=u),this},setIndexBuffer:function(u){var v=this.gl;return u!==this.currentIndexBuffer&&(this.flush(),v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,u),this.currentIndexBuffer=u),this},createTextureFromSource:function(u,v,x,z){var y=this.gl,A=y.NEAREST,D=y.NEAREST,F=y.CLAMP_TO_EDGE,H=null;v=u?u.width:v,x=u?u.height:x;var I=e(v,x);return I&&(F=y.REPEAT),z===b.ScaleModes.LINEAR&&this.config.antialias&&(A=I?this.mipmapFilter:y.LINEAR,D=y.LINEAR),!u&&typeof v==="number"&&typeof x==="number"?H=this.createTexture2D(0,A,D,F,F,y.RGBA,null,v,x):H=this.createTexture2D(0,A,D,F,F,y.RGBA,u),H},createTexture2D:function(u,v,x,z,y,A,D,F,H,I,N,J){I=I===void 0||I===null?!0:I,N===void 0&&(N=!1),J===void 0&&(J=!1);var C=this.gl,B=C.createTexture();return this.setTexture2D(B,0),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,v),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,x),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,y),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,z),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I),C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,J),D===null||D===void 0?C.texImage2D(C.TEXTURE_2D,u,A,F,H,0,A,C.UNSIGNED_BYTE,null):(N||(F=D.width,H=D.height),C.texImage2D(C.TEXTURE_2D,u,A,A,C.UNSIGNED_BYTE,D)),e(F,H)&&C.generateMipmap(C.TEXTURE_2D),this.setTexture2D(null,0),B.isAlphaPremultiplied=I,B.isRenderTexture=!1,B.width=F,B.height=H,this.nativeTextures.push(B),B},createFramebuffer:function(u,v,x,z){var y=this.gl,A=y.createFramebuffer(),D=0;this.setFramebuffer(A);if(z){var F=y.createRenderbuffer();y.bindRenderbuffer(y.RENDERBUFFER,F),y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,u,v),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,F)}x.isRenderTexture=!0,x.isAlphaPremultiplied=!1,y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,x,0),D=y.checkFramebufferStatus(y.FRAMEBUFFER);if(D!==y.FRAMEBUFFER_COMPLETE){var H={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer incomplete. Framebuffer status: "+H[D])}return A.renderTexture=x,this.setFramebuffer(null),A},createProgram:function(u,v){var x=this.gl,z=x.createProgram(),y=x.createShader(x.VERTEX_SHADER),A=x.createShader(x.FRAGMENT_SHADER);x.shaderSource(y,u),x.shaderSource(A,v),x.compileShader(y),x.compileShader(A);if(!x.getShaderParameter(y,x.COMPILE_STATUS))throw new Error(`Failed to compile Vertex Shader:
`+x.getShaderInfoLog(y));if(!x.getShaderParameter(A,x.COMPILE_STATUS))throw new Error(`Failed to compile Fragment Shader:
`+x.getShaderInfoLog(A));x.attachShader(z,y),x.attachShader(z,A),x.linkProgram(z);if(!x.getProgramParameter(z,x.LINK_STATUS))throw new Error(`Failed to link program:
`+x.getProgramInfoLog(z));return z},createVertexBuffer:function(u,v){var x=this.gl,z=x.createBuffer();return this.setVertexBuffer(z),x.bufferData(x.ARRAY_BUFFER,u,v),this.setVertexBuffer(null),z},createIndexBuffer:function(u,v){var x=this.gl,z=x.createBuffer();return this.setIndexBuffer(z),x.bufferData(x.ELEMENT_ARRAY_BUFFER,u,v),this.setIndexBuffer(null),z},deleteTexture:function(u){var v=this.nativeTextures.indexOf(u);return v!==-1&&g(this.nativeTextures,v),this.gl.deleteTexture(u),this.currentTextures[0]===u&&!this.game.pendingDestroy&&this.setBlankTexture(!0),this},deleteFramebuffer:function(u){return this.gl.deleteFramebuffer(u),this},deleteProgram:function(u){return this.gl.deleteProgram(u),this},deleteBuffer:function(u){return this.gl.deleteBuffer(u),this},preRenderCamera:function(u){var v=u._cx,x=u._cy,z=u._cw,y=u._ch,A=this.pipelines.TextureTintPipeline,D=u.backgroundColor;if(u.renderToTexture){this.flush(),this.pushScissor(v,x,z,-y),this.setFramebuffer(u.framebuffer);var F=this.gl;F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),A.projOrtho(v,z+v,x,y+x,-1e3,1e3),u.mask&&(this.currentCameraMask.mask=u.mask,this.currentCameraMask.camera=u._maskCamera,u.mask.preRenderWebGL(this,u,u._maskCamera)),D.alphaGL>0&&A.drawFillRect(v,x,z+v,y+x,m.getTintFromFloats(D.redGL,D.greenGL,D.blueGL,1),D.alphaGL),u.emit(l.PRE_RENDER,u)}else this.pushScissor(v,x,z,y),u.mask&&(this.currentCameraMask.mask=u.mask,this.currentCameraMask.camera=u._maskCamera,u.mask.preRenderWebGL(this,u,u._maskCamera)),D.alphaGL>0&&A.drawFillRect(v,x,z,y,m.getTintFromFloats(D.redGL,D.greenGL,D.blueGL,1),D.alphaGL)},getCurrentStencilMask:function(){var u=null,v=this.maskStack,x=this.currentCameraMask;return v.length>0?u=v[v.length-1]:x.mask&&x.mask.isStencil&&(u=x),u},postRenderCamera:function(u){this.setPipeline(this.pipelines.TextureTintPipeline);var v=this.pipelines.TextureTintPipeline;u.flashEffect.postRenderWebGL(v,m.getTintFromFloats),u.fadeEffect.postRenderWebGL(v,m.getTintFromFloats),u.dirty=!1,this.popScissor();if(u.renderToTexture){v.flush(),this.setFramebuffer(null),u.emit(l.POST_RENDER,u);if(u.renderToGame){v.projOrtho(0,v.width,v.height,0,-1e3,1e3);var x=m.getTintAppendFloatAlpha,z=u.pipeline?u.pipeline:v;z.batchTexture(u,u.glTexture,u.width,u.height,u.x,u.y,u.width,u.height,u.zoom,u.zoom,u.rotation,u.flipX,!u.flipY,1,1,0,0,0,0,u.width,u.height,x(u._tintTL,u._alphaTL),x(u._tintTR,u._alphaTR),x(u._tintBL,u._alphaBL),x(u._tintBR,u._alphaBR),u._isTinted&&u.tintFill,0,0,this.defaultCamera,null)}this.setBlankTexture(!0)}u.mask&&(this.currentCameraMask.mask=null,u.mask.postRenderWebGL(this,u._maskCamera))},preRender:function(){if(this.contextLost)return;var u=this.gl,v=this.pipelines;u.bindFramebuffer(u.FRAMEBUFFER,null);if(this.config.clearBeforeRender){var x=this.config.backgroundColor;u.clearColor(x.redGL,x.greenGL,x.blueGL,x.alphaGL),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT|u.STENCIL_BUFFER_BIT)}u.enable(u.SCISSOR_TEST);for(var z in v)v[z].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&u.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.setPipeline(this.pipelines.TextureTintPipeline)},render:function(u,v,x,z){if(this.contextLost)return;var y=v.list,A=y.length,D=this.pipelines;for(var F in D)D[F].onRender(u,z);this.preRenderCamera(z);if(A===0){this.setBlendMode(b.BlendModes.NORMAL),this.postRenderCamera(z);return}this.currentType="";for(var H=this.currentMask,I=0;I<A;I++){var N=y[I];if(!N.willRender(z))continue;N.blendMode!==this.currentBlendMode&&this.setBlendMode(N.blendMode);var J=N.mask;H=this.currentMask,H.mask&&H.mask!==J&&H.mask.postRenderWebGL(this,H.camera),J&&H.mask!==J&&J.preRenderWebGL(this,N,z);var C=N.type;C!==this.currentType&&(this.newType=!0,this.currentType=C),this.nextTypeMatch=I<A-1?y[I+1].type===this.currentType:!1,N.renderWebGL(this,N,x,z),this.newType=!1}H=this.currentMask,H.mask&&H.mask.postRenderWebGL(this,H.camera),this.setBlendMode(b.BlendModes.NORMAL),this.postRenderCamera(z)},postRender:function(){if(this.contextLost)return;this.flush();var u=this.snapshotState;u.callback&&(n(this.canvas,u),u.callback=null);var v=this.pipelines;for(var x in v)v[x].onPostRender()},snapshot:function(u,v,x){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,u,v,x)},snapshotArea:function(u,v,x,z,y,A,D){var F=this.snapshotState;return F.callback=y,F.type=A,F.encoder=D,F.getPixel=!1,F.x=u,F.y=v,F.width=Math.min(x,this.gl.drawingBufferWidth),F.height=Math.min(z,this.gl.drawingBufferHeight),this},snapshotPixel:function(u,v,x){return this.snapshotArea(u,v,1,1,x),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(u,v,x,z,y,A,D,F,H,I,N){y===void 0&&(y=!1),A===void 0&&(A=0),D===void 0&&(D=0),F===void 0&&(F=v),H===void 0&&(H=x);var J=this.currentFramebuffer;this.snapshotArea(A,D,F,H,z,I,N);var C=this.snapshotState;return C.getPixel=y,C.isFramebuffer=!0,C.bufferWidth=v,C.bufferHeight=x,this.setFramebuffer(u),n(this.canvas,C),this.setFramebuffer(J),C.callback=null,C.isFramebuffer=!1,this},canvasToTexture:function(u,v,x,z){return x===void 0&&(x=!1),z===void 0&&(z=!1),v?this.updateCanvasTexture(u,v,z):this.createCanvasTexture(u,x,z)},createCanvasTexture:function(u,v,x){v===void 0&&(v=!1),x===void 0&&(x=!1);var z=this.gl,y=z.NEAREST,A=z.NEAREST,D=u.width,F=u.height,H=z.CLAMP_TO_EDGE,I=e(D,F);return!v&&I&&(H=z.REPEAT),this.config.antialias&&(y=I?this.mipmapFilter:z.LINEAR,A=z.LINEAR),this.createTexture2D(0,y,A,H,H,z.RGBA,u,D,F,!0,!1,x)},updateCanvasTexture:function(u,v,x){x===void 0&&(x=!1);var z=this.gl,y=u.width,A=u.height;return y>0&&A>0&&(this.setTexture2D(v,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,x),z.texImage2D(z.TEXTURE_2D,0,z.RGBA,z.RGBA,z.UNSIGNED_BYTE,u),v.width=y,v.height=A,this.setTexture2D(null,0)),v},createVideoTexture:function(u,v,x){v===void 0&&(v=!1),x===void 0&&(x=!1);var z=this.gl,y=z.NEAREST,A=z.NEAREST,D=u.videoWidth,F=u.videoHeight,H=z.CLAMP_TO_EDGE,I=e(D,F);return!v&&I&&(H=z.REPEAT),this.config.antialias&&(y=I?this.mipmapFilter:z.LINEAR,A=z.LINEAR),this.createTexture2D(0,y,A,H,H,z.RGBA,u,D,F,!0,!0,x)},updateVideoTexture:function(u,v,x){x===void 0&&(x=!1);var z=this.gl,y=u.videoWidth,A=u.videoHeight;return y>0&&A>0&&(this.setTexture2D(v,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,x),z.texImage2D(z.TEXTURE_2D,0,z.RGBA,z.RGBA,z.UNSIGNED_BYTE,u),v.width=y,v.height=A,this.setTexture2D(null,0)),v},setTextureFilter:function(u,v){var x=this.gl,z=[x.LINEAR,x.NEAREST][v];return this.setTexture2D(u,0),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,z),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,z),this.setTexture2D(null,0),this},setFloat1:function(u,v,x){return this.setProgram(u),this.gl.uniform1f(this.gl.getUniformLocation(u,v),x),this},setFloat2:function(u,v,x,z){return this.setProgram(u),this.gl.uniform2f(this.gl.getUniformLocation(u,v),x,z),this},setFloat3:function(u,v,x,z,y){return this.setProgram(u),this.gl.uniform3f(this.gl.getUniformLocation(u,v),x,z,y),this},setFloat4:function(u,v,x,z,y,A){return this.setProgram(u),this.gl.uniform4f(this.gl.getUniformLocation(u,v),x,z,y,A),this},setFloat1v:function(u,v,x){return this.setProgram(u),this.gl.uniform1fv(this.gl.getUniformLocation(u,v),x),this},setFloat2v:function(u,v,x){return this.setProgram(u),this.gl.uniform2fv(this.gl.getUniformLocation(u,v),x),this},setFloat3v:function(u,v,x){return this.setProgram(u),this.gl.uniform3fv(this.gl.getUniformLocation(u,v),x),this},setFloat4v:function(u,v,x){return this.setProgram(u),this.gl.uniform4fv(this.gl.getUniformLocation(u,v),x),this},setInt1:function(u,v,x){return this.setProgram(u),this.gl.uniform1i(this.gl.getUniformLocation(u,v),x),this},setInt2:function(u,v,x,z){return this.setProgram(u),this.gl.uniform2i(this.gl.getUniformLocation(u,v),x,z),this},setInt3:function(u,v,x,z,y){return this.setProgram(u),this.gl.uniform3i(this.gl.getUniformLocation(u,v),x,z,y),this},setInt4:function(u,v,x,z,y,A){return this.setProgram(u),this.gl.uniform4i(this.gl.getUniformLocation(u,v),x,z,y,A),this},setMatrix2:function(u,v,x,z){return this.setProgram(u),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(u,v),x,z),this},setMatrix3:function(u,v,x,z){return this.setProgram(u),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(u,v),x,z),this},setMatrix4:function(u,v,x,z){return this.setProgram(u),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(u,v),x,z),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var u=0;u<this.nativeTextures.length;u++)this.gl.deleteTexture(this.nativeTextures[u]);this.nativeTextures=[];for(var v in this.pipelines)this.pipelines[v].destroy(),delete this.pipelines[v];this.defaultCamera.destroy(),this.currentMask=null,this.currentCameraMask=null,this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.game=null,this.gl=null,this.canvas=null,this.maskStack=[],this.contextLost=!0,this.extensions={}}});o.exports=t},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l=a(31),i=a(2),b=function(f,e){var c=f.getContext("experimental-webgl"),j=i(e,"callback"),g=i(e,"type","image/png"),h=i(e,"encoder",.92),k=i(e,"x",0),m=i(e,"y",0),n=i(e,"getPixel",!1),p=i(e,"isFramebuffer",!1),q=p?i(e,"bufferWidth",1):c.drawingBufferWidth,r=p?i(e,"bufferHeight",1):c.drawingBufferHeight;if(n){var s=new Uint8Array(4),t=p?m:r-m;c.readPixels(k,t,1,1,c.RGBA,c.UNSIGNED_BYTE,s),j.call(null,new l(s[0],s[1],s[2],s[3]/255))}else{var u=i(e,"width",q),v=i(e,"height",r),x=u*v*4,z=new Uint8Array(x);c.readPixels(k,r-m-v,u,v,c.RGBA,c.UNSIGNED_BYTE,z);for(var y=d.createWebGL(this,u,v),A=y.getContext("2d"),D=A.getImageData(0,0,u,v),F=D.data,H=0;H<v;H++)for(var I=0;I<u;I++){var N=((v-H)*u+I)*4,J=p?x-(H*u+(u-I))*4:(H*u+I)*4;F[J+0]=z[N+0],F[J+1]=z[N+1],F[J+2]=z[N+2],F[J+3]=z[N+3]}A.putImageData(D,0,0);var C=new Image();C.onerror=function(){j.call(null),d.remove(y)},C.onload=function(){j.call(null,C),d.remove(y)},C.src=y.toDataURL(g,h)}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(786),i=a(787),b=a(147),f=new d({Extends:b,initialize:function e(c){b.call(this,{game:c.game,renderer:c.renderer,gl:c.renderer.gl,topology:c.topology?c.topology:c.renderer.gl.TRIANGLES,vertShader:c.vertShader?c.vertShader:i,fragShader:c.fragShader?c.fragShader:l,vertexCapacity:c.vertexCapacity?c.vertexCapacity:3,vertexSize:c.vertexSize?c.vertexSize:Float32Array.BYTES_PER_ELEMENT*2,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:c.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){b.prototype.onBind.call(this);var e=this.renderer,c=this.program;return this.resolutionDirty&&(e.setFloat2(c,"uResolution",this.width,this.height),e.setInt1(c,"uMainSampler",0),e.setInt1(c,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(e,c,j){return b.prototype.resize.call(this,e,c,j),this.resolutionDirty=!0,this},beginMask:function(e,c,j){var g=this.renderer,h=this.gl,k=e.bitmapMask;k&&h&&(g.flush(),e.prevFramebuffer=g.currentFramebuffer,g.setFramebuffer(e.mainFramebuffer),h.disable(h.STENCIL_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),g.currentCameraMask.mask!==e&&(g.currentMask.mask=e,g.currentMask.camera=j))},endMask:function(e,c){var j=this.gl,g=this.renderer,h=e.bitmapMask;if(h&&j){g.flush(),g.setFramebuffer(e.maskFramebuffer),j.clearColor(0,0,0,0),j.clear(j.COLOR_BUFFER_BIT),g.setBlendMode(0,!0),h.renderWebGL(g,h,0,c),g.flush(),g.setFramebuffer(e.prevFramebuffer);var k=g.getCurrentStencilMask();k?(j.enable(j.STENCIL_TEST),k.mask.applyStencil(g,k.camera,!0)):g.currentMask.mask=null,g.setPipeline(this),j.activeTexture(j.TEXTURE1),j.bindTexture(j.TEXTURE_2D,e.maskTexture),j.activeTexture(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,e.mainTexture),j.uniform1i(j.getUniformLocation(this.program,"uInvertMaskAlpha"),e.invertAlpha),j.drawArrays(this.topology,0,3)}}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(788),i=a(237),b=10,f=new d({Extends:i,initialize:function e(c){b=c.maxLights,c.fragShader=l.replace("%LIGHT_COUNT%",b.toString()),i.call(this,c),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(e){i.prototype.onBind.call(this);var c=this.renderer,j=this.program;return this.mvpUpdate(),c.setInt1(j,"uNormSampler",1),c.setFloat2(j,"uResolution",this.width,this.height),e&&this.setNormalMap(e),this},onRender:function(e,c){this.active=!1;var j=e.sys.lights;if(!j||j.lights.length<=0||!j.active)return this;var g=j.cull(c),h=Math.min(g.length,b);if(h===0)return this;this.active=!0;var k=this.renderer,m=this.program,n=c.matrix,p={x:0,y:0},q=k.height,r;for(r=0;r<b;++r)k.setFloat1(m,"uLights["+r+"].radius",0);for(k.setFloat4(m,"uCamera",c.x,c.y,c.rotation,c.zoom),k.setFloat3(m,"uAmbientLightColor",j.ambientColor.r,j.ambientColor.g,j.ambientColor.b),r=0;r<h;++r){var s=g[r],t="uLights["+r+"].";n.transformPoint(s.x,s.y,p),k.setFloat2(m,t+"position",p.x-c.scrollX*s.scrollFactorX*c.zoom,q-(p.y-c.scrollY*s.scrollFactorY*c.zoom)),k.setFloat3(m,t+"color",s.r,s.g,s.b),k.setFloat1(m,t+"intensity",s.intensity),k.setFloat1(m,t+"radius",s.radius)}return this.currentNormalMapRotation=null,this},batchTexture:function(e,c,j,g,h,k,m,n,p,q,r,s,t,u,v,x,z,y,A,D,F,H,I,N,J,C,B,E,K,G){if(!this.active)return;this.renderer.setPipeline(this);var L;e.displayTexture?L=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?L=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(Array.isArray(e.tileset)?L=e.tileset[0].image.dataSource[0]:L=e.tileset.image.dataSource[0]);if(!L){console.warn("Normal map missing or invalid");return}this.setTexture2D(L.glTexture,1),this.setNormalMapRotation(r);var M=this._tempMatrix1,O=this._tempMatrix2,P=this._tempMatrix3,Q=y/j+B,R=A/g+E,S=(y+D)/j+B,T=(A+F)/g+E,U=m,_=n,Z=-x,X=-z;if(e.isCropped){var Y=e._crop;U=Y.width,_=Y.height,m=Y.width,n=Y.height,y=Y.x,A=Y.y;var $=y,ba=A;s&&($=D-Y.x-Y.width),t&&!c.isRenderTexture&&(ba=F-Y.y-Y.height),Q=$/j+B,R=ba/g+E,S=($+Y.width)/j+B,T=(ba+Y.height)/g+E,Z=-x+y,X=-z+A}t=t^(c.isRenderTexture?1:0),s&&(U*=-1,Z+=m),t&&(_*=-1,X+=n);var V=Z+U,ca=X+_;O.applyITRS(h,k,r,p,q),M.copyFrom(K.matrix),G?(M.multiplyWithOffset(G,-K.scrollX*u,-K.scrollY*v),O.e=h,O.f=k,M.multiply(O,P)):(O.e-=K.scrollX*u,O.f-=K.scrollY*v,M.multiply(O,P));var W=P.getX(Z,X),aa=P.getY(Z,X),ga=P.getX(Z,ca),da=P.getY(Z,ca),ea=P.getX(V,ca),fa=P.getY(V,ca),ha=P.getX(V,X),ia=P.getY(V,X);K.roundPixels&&(W=Math.round(W),aa=Math.round(aa),ga=Math.round(ga),da=Math.round(da),ea=Math.round(ea),fa=Math.round(fa),ha=Math.round(ha),ia=Math.round(ia)),this.setTexture2D(c,0),this.batchQuad(W,aa,ga,da,ea,fa,ha,ia,Q,R,S,T,H,I,N,J,C,c,0)},setNormalMap:function(e){if(!this.active||!e)return;var c;e.texture&&(c=e.texture.dataSource[e.frame.sourceIndex]),c||(c=this.defaultNormalMap),this.setTexture2D(c.glTexture,1),this.renderer.setPipeline(e.defaultPipeline)},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||this.batches.length===0){this.batches.length>0&&this.flush();var c=this.inverseRotationMatrix;if(e){var j=-e,g=Math.cos(j),h=Math.sin(j);c[1]=h,c[3]=-h,c[0]=c[4]=g}else c[0]=c[4]=1,c[1]=c[3]=0;this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=e}},batchSprite:function(e,c,j){if(!this.active)return;var g=e.texture.dataSource[e.frame.sourceIndex];g&&(this.renderer.setPipeline(this),this.setTexture2D(g.glTexture,1),this.setNormalMapRotation(e.rotation),i.prototype.batchSprite.call(this,e,c,j))}});f.LIGHT_COUNT=b,o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(2),i=a(238),b=a(340),f=a(341),e=a(29),c=a(147),j=new d({Extends:c,Mixins:[i],initialize:function g(h){var k=h.renderer.config;c.call(this,{game:h.game,renderer:h.renderer,gl:h.renderer.gl,topology:h.renderer.gl.TRIANGLE_STRIP,vertShader:l(h,"vertShader",f),fragShader:l(h,"fragShader",b),vertexCapacity:l(h,"vertexCapacity",6*k.batchSize),vertexSize:l(h,"vertexSize",Float32Array.BYTES_PER_ELEMENT*5+Uint8Array.BYTES_PER_ELEMENT*4),attributes:[{name:"inPosition",size:2,type:h.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:h.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*2},{name:"inTintEffect",size:1,type:h.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*4},{name:"inTint",size:4,type:h.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:Float32Array.BYTES_PER_ELEMENT*5}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=k.batchSize,this.batches=[],this._tempMatrix1=new e(),this._tempMatrix2=new e(),this._tempMatrix3=new e(),this.mvpInit()},onBind:function(){return c.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(g,h,k){return c.prototype.resize.call(this,g,h,k),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(g,h){return g===void 0&&(g=this.renderer.blankTexture.glTexture),h===void 0&&(h=0),this.requireTextureBatch(g,h)&&this.pushBatch(g,h),this},requireTextureBatch:function(g,h){var k=this.batches,m=k.length;if(m>0){var n=h>0?k[m-1].textures[h-1]:k[m-1].texture;return!(n===g)}return!0},pushBatch:function(g,h){if(h===0)this.batches.push({first:this.vertexCount,texture:g,textures:[]});else{var k=[];k[h-1]=g,this.batches.push({first:this.vertexCount,texture:null,textures:k})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var g=this.gl,h=this.vertexCount,k=this.topology,m=this.vertexSize,n=this.renderer,p=this.batches,q=p.length,r=0,s=null,t,u,v;if(q===0||h===0)return this.flushLocked=!1,this;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,h*m));for(var x=0;x<q-1;x++){s=p[x],t=p[x+1];if(s.textures.length>0){for(u=0;u<s.textures.length;++u)v=s.textures[u],v&&n.setTexture2D(v,1+u,!1);g.activeTexture(g.TEXTURE0)}r=t.first-s.first;if(s.texture===null||r<=0)continue;n.setTexture2D(s.texture,0,!1),g.drawArrays(k,s.first,r)}s=p[q-1];if(s.textures.length>0){for(u=0;u<s.textures.length;++u)v=s.textures[u],v&&n.setTexture2D(v,1+u,!1);g.activeTexture(g.TEXTURE0)}return r=h-s.first,s.texture&&r>0&&(n.setTexture2D(s.texture,0,!1),g.drawArrays(k,s.first,r)),this.vertexCount=0,p.length=0,this.flushLocked=!1,this}});o.exports=j},function(o,w,a){var d={};o.exports=d;var l=a(99),i=a(42);(function(){d.fromVertices=function(b){for(var f={},e=0;e<b.length;e++){var c=(e+1)%b.length,j=l.normalise({x:b[c].y-b[e].y,y:b[e].x-b[c].x}),g=j.y===0?Infinity:j.x/j.y;g=g.toFixed(3).toString(),f[g]=j}return i.values(f)},d.rotate=function(b,f){if(f===0)return;for(var e=Math.cos(f),c=Math.sin(f),j=0;j<b.length;j++){var g=b[j],h;h=g.x*e-g.y*c,g.y=g.x*c+g.y*e,g.x=h}}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Bounce:a(1397),Collision:a(1398),Force:a(1399),Friction:a(1400),Gravity:a(1401),Mass:a(1402),Static:a(1403),Sensor:a(1404),SetBody:a(1405),Sleep:a(1406),Transform:a(1423),Velocity:a(1424)}},function(o,w,a){var d={};o.exports=d;var l=a(516),i=a(473),b=a(100);(function(){d.collisions=function(f,e){for(var c=[],j=e.pairs.table,g=e.metrics,h=0;h<f.length;h++){var k=f[h][0],m=f[h][1];if((k.isStatic||k.isSleeping)&&(m.isStatic||m.isSleeping))continue;if(!d.canCollide(k.collisionFilter,m.collisionFilter))continue;g.midphaseTests+=1;if(b.overlaps(k.bounds,m.bounds))for(var n=k.parts.length>1?1:0;n<k.parts.length;n++)for(var p=k.parts[n],q=m.parts.length>1?1:0;q<m.parts.length;q++){var r=m.parts[q];if(p===k&&r===m||b.overlaps(p.bounds,r.bounds)){var s=i.id(p,r),t=j[s],u;t&&t.isActive?u=t.collision:u=null;var v=l.collides(p,r,u);g.narrowphaseTests+=1,v.reused&&(g.narrowReuseCount+=1),v.collided&&(c.push(v),g.narrowDetections+=1)}}}return c},d.canCollide=function(f,e){return f.group===e.group&&f.group!==0?f.group>0:(f.mask&e.category)!==0&&(e.mask&f.category)!==0}})()},function(o,w,a){var d={};o.exports=d;var l=a(86),i=a(99);(function(){d.collides=function(b,f,e){var c,j,g,h,k=!1;if(e){var m=b.parent,n=f.parent,p=m.speed*m.speed+m.angularSpeed*m.angularSpeed+n.speed*n.speed+n.angularSpeed*n.angularSpeed;k=e&&e.collided&&p<.2,h=e}else h={collided:!1,bodyA:b,bodyB:f};if(e&&k){var q=h.axisBody,r=q===b?f:b,s=[q.axes[e.axisNumber]];g=d._overlapAxes(q.vertices,r.vertices,s),h.reused=!0;if(g.overlap<=0)return h.collided=!1,h}else{c=d._overlapAxes(b.vertices,f.vertices,b.axes);if(c.overlap<=0)return h.collided=!1,h;j=d._overlapAxes(f.vertices,b.vertices,f.axes);if(j.overlap<=0)return h.collided=!1,h;c.overlap<j.overlap?(g=c,h.axisBody=b):(g=j,h.axisBody=f),h.axisNumber=g.axisNumber}h.bodyA=b.id<f.id?b:f,h.bodyB=b.id<f.id?f:b,h.collided=!0,h.depth=g.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,b=h.bodyA,f=h.bodyB,i.dot(g.axis,i.sub(f.position,b.position))<0?h.normal={x:g.axis.x,y:g.axis.y}:h.normal={x:-g.axis.x,y:-g.axis.y},h.tangent=i.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var t=d._findSupports(b,f,h.normal),u=[];l.contains(b.vertices,t[0])&&u.push(t[0]),l.contains(b.vertices,t[1])&&u.push(t[1]);if(u.length<2){var v=d._findSupports(f,b,i.neg(h.normal));l.contains(f.vertices,v[0])&&u.push(v[0]),u.length<2&&l.contains(f.vertices,v[1])&&u.push(v[1])}return u.length<1&&(u=[t[0]]),h.supports=u,h},d._overlapAxes=function(b,f,e){for(var c=i._temp[0],j=i._temp[1],g={overlap:Number.MAX_VALUE},h,k,m=0;m<e.length;m++){k=e[m],d._projectToAxis(c,b,k),d._projectToAxis(j,f,k),h=Math.min(c.max-j.min,j.max-c.min);if(h<=0)return g.overlap=h,g;h<g.overlap&&(g.overlap=h,g.axis=k,g.axisNumber=m)}return g},d._projectToAxis=function(b,f,e){for(var c=i.dot(f[0],e),j=c,g=1;g<f.length;g+=1){var h=i.dot(f[g],e);h>j?j=h:h<c&&(c=h)}b.min=c,b.max=j},d._findSupports=function(b,f,e){for(var c=Number.MAX_VALUE,j=i._temp[0],g=f.vertices,h=b.position,k,m,n,p,q=0;q<g.length;q++)m=g[q],j.x=m.x-h.x,j.y=m.y-h.y,k=-i.dot(e,j),k<c&&(c=k,n=m);var r=n.index-1>=0?n.index-1:g.length-1;m=g[r],j.x=m.x-h.x,j.y=m.y-h.y,c=-i.dot(e,j),p=m;var s=(n.index+1)%g.length;return m=g[s],j.x=m.x-h.x,j.y=m.y-h.y,k=-i.dot(e,j),k<c&&(p=m),[n,p]}})()},function(o,w){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(d){typeof window==="object"&&(a=window)}o.exports=a},function(o,w,a){a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526)},function(o,w){Array.prototype.forEach||(Array.prototype.forEach=function(a){if(this===void 0||this===null)throw new TypeError();var d=Object(this),l=d.length>>>0;if(typeof a!=="function")throw new TypeError();for(var i=arguments.length>=2?arguments[1]:void 0,b=0;b<l;b++)b in d&&a.call(i,d[b],b,d)})},function(o,w){Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"})},function(o,w){(function(){function a(d){if(!d)return;d.setTargetAtTime||(d.setTargetAtTime=d.setTargetValueAtTime)}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var d=this.internal_createGain();return a(d.gain),d},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(d){var l=d?this.internal_createDelay(d):this.internal_createDelay();return a(l.delayTime),l},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var d=this.internal_createBufferSource();return d.start?(d.internal_start=d.start,d.start=function(l,i,b){typeof b!=="undefined"?d.internal_start(l||0,i,b):d.internal_start(l||0,i||0)}):d.start=function(l,i,b){i||b?this.noteGrainOn(l||0,i,b):this.noteOn(l||0)},d.stop?(d.internal_stop=d.stop,d.stop=function(l){d.internal_stop(l||0)}):d.stop=function(l){this.noteOff(l||0)},a(d.playbackRate),d},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var d=this.internal_createDynamicsCompressor();return a(d.threshold),a(d.knee),a(d.ratio),a(d.reduction),a(d.attack),a(d.release),d},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var d=this.internal_createBiquadFilter();return a(d.frequency),a(d.detune),a(d.Q),a(d.gain),d},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var d=this.internal_createOscillator();return d.start?(d.internal_start=d.start,d.start=function(l){d.internal_start(l||0)}):d.start=function(l){this.noteOn(l||0)},d.stop?(d.internal_stop=d.stop,d.stop=function(l){d.internal_stop(l||0)}):d.stop=function(l){this.noteOff(l||0)},d.setPeriodicWave||(d.setPeriodicWave=d.setWaveTable),a(d.frequency),a(d.detune),d})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)})()},function(o,w){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(o,w){Math.trunc||(Math.trunc=function a(d){return d<0?Math.ceil(d):Math.floor(d)})},function(o,w){(function(){"performance"in window===!1&&(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()};if("now"in window.performance===!1){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),window.performance.now=function d(){return Date.now()-a}}})()},function(o,w){for(var a=Date.now(),d=["ms","moz","webkit","o"],l=0;l<d.length&&!window.requestAnimationFrame;l++)window.requestAnimationFrame=window[d[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[l]+"CancelAnimationFrame"]||window[d[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i){if(typeof i!=="function")throw new TypeError(i+"is not a function");var b=Date.now(),f=16+a-b;return f<0&&(f=0),a=b,setTimeout(function(){a=Date.now(),i(performance.now())},f)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)})},function(o,w){if(typeof window.Uint32Array!=="function"&&typeof window.Uint32Array!=="object"){var a=function(d){var l=new Array();window[d]=function(i){if(typeof i==="number"){Array.call(this,i),this.length=i;for(var b=0;b<this.length;b++)this[b]=0}else{Array.call(this,i.length),this.length=i.length;for(var b=0;b<this.length;b++)this[b]=i[b]}},window[d].prototype=l,window[d].constructor=window[d]};a("Float32Array"),a("Uint32Array"),a("Uint16Array"),a("Int16Array"),a("ArrayBuffer")}},function(o,w,a){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(242),l=function(i,b,f,e){for(var c=i[0],j=1;j<i.length;j++){var g=i[j];d(g,c,b,f,e),c=g}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"angle",b,f,e,c)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){for(var b=0;b<d.length;b++){var f=d[b];l.call(i,f)}return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){i===void 0&&(i=0);for(var b=i;b<d.length;b++){var f=d[b],e=!0;for(var c in l)f[c]!==l[c]&&(e=!1);if(e)return f}return null};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){i===void 0&&(i=0);for(var b=i;b<d.length;b++){var f=d[b],e=!0;for(var c in l)f[c]!==l[c]&&(e=!1);if(e)return f}return null};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(255),l=a(105),i=a(2),b=a(1),f=a(110),e=new f({sys:{queueDepthSort:b,events:{once:b}}},0,0,1,1),c=function(j,g){g===void 0&&(g={});var h=g.hasOwnProperty("width"),k=g.hasOwnProperty("height"),m=i(g,"width",-1),n=i(g,"height",-1),p=i(g,"cellWidth",1),q=i(g,"cellHeight",p),r=i(g,"position",l.TOP_LEFT),s=i(g,"x",0),t=i(g,"y",0),u=0,v=0,x=m*p,z=n*q;e.setPosition(s,t),e.setSize(p,q);for(var y=0;y<j.length;y++){d(j[y],e,r);if(h&&m===-1)e.x+=p;else if(k&&n===-1)e.y+=q;else{u+=p,e.x+=p;if(u===x){u=0,v+=q,e.x=s,e.y+=q;if(v===z)break}}}return j};o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=2,i={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(b,f,e,c){return b===void 0&&(b=1),f===void 0?this.alpha=b:(this._alphaTL=d(b,0,1),this._alphaTR=d(f,0,1),this._alphaBL=d(e,0,1),this._alphaBR=d(c,0,1)),this},alpha:{get:function(){return this._alpha},set:function(b){var f=d(b,0,1);this._alpha=f,this._alphaTL=f,this._alphaTR=f,this._alphaBL=f,this._alphaBR=f,f===0?this.renderFlags&=~l:this.renderFlags|=l}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(b){var f=d(b,0,1);this._alphaTL=f,f!==0&&(this.renderFlags|=l)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(b){var f=d(b,0,1);this._alphaTR=f,f!==0&&(this.renderFlags|=l)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(b){var f=d(b,0,1);this._alphaBL=f,f!==0&&(this.renderFlags|=l)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(b){var f=d(b,0,1);this._alphaBR=f,f!==0&&(this.renderFlags|=l)}}};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="repeat"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="restart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pauseall"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resumeall"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationcomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationcomplete-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrepeat-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrestart-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationstart-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationupdate-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrepeat"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrestart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationupdate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,l){return this.width=d,this.height=l,this},setDisplaySize:function(d,l){return this.displayWidth=d,this.displayHeight=l,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={texture:null,frame:null,isCropped:!1,setCrop:function(d,l,i,b){if(d===void 0)this.isCropped=!1;else if(this.frame){if(typeof d==="number")this.frame.setCropUVs(this._crop,d,l,i,b,this.flipX,this.flipY);else{var f=d;this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(d){return this.flipX=d,this},setFlipY:function(d){return this.flipY=d,this},setFlip:function(d,l){return this.flipX=d,this.flipY=l,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=a(276),i=a(3),b={prepareBoundsOutput:function(f,e){e===void 0&&(e=!1),this.rotation!==0&&l(f,this.x,this.y,this.rotation);if(e&&this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();c.transformPoint(f.x,f.y,f)}return f},getCenter:function(f){return f===void 0&&(f=new i()),f.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,f.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,f},getTopLeft:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX,f.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(f,e)},getTopCenter:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,f.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(f,e)},getTopRight:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX+this.displayWidth,f.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(f,e)},getLeftCenter:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX,f.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(f,e)},getRightCenter:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX+this.displayWidth,f.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(f,e)},getBottomLeft:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX,f.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(f,e)},getBottomCenter:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,f.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(f,e)},getBottomRight:function(f,e){return f||(f=new i()),f.x=this.x-this.displayWidth*this.originX+this.displayWidth,f.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(f,e)},getBounds:function(f){f===void 0&&(f=new d());var e,c,j,g,h,k,m,n;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(f),p.transformPoint(f.x,f.y,f),e=f.x,c=f.y,this.getTopRight(f),p.transformPoint(f.x,f.y,f),j=f.x,g=f.y,this.getBottomLeft(f),p.transformPoint(f.x,f.y,f),h=f.x,k=f.y,this.getBottomRight(f),p.transformPoint(f.x,f.y,f),m=f.x,n=f.y}else this.getTopLeft(f),e=f.x,c=f.y,this.getTopRight(f),j=f.x,g=f.y,this.getBottomLeft(f),h=f.x,k=f.y,this.getBottomRight(f),m=f.x,n=f.y;return f.x=Math.min(e,j,h,m),f.y=Math.min(c,g,k,n),f.width=Math.max(e,j,h,m)-f.x,f.height=Math.max(c,g,k,n)-f.y,f}};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="blur"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="contextlost"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="contextrestored"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="focus"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="hidden"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="poststep"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prestep"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="step"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="visible"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(d){this._displayOriginX=d,this.originX=d/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(d){this._displayOriginY=d,this.originY=d/this.height}},setOrigin:function(d,l){return d===void 0&&(d=.5),l===void 0&&(l=d),this.originX=d,this.originY=l,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(d,l){return d===void 0&&(d=0),l===void 0&&(l=d),this.displayOriginX=d,this.displayOriginY=l,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(39),l=a(88),i=a(6),b=a(89),f=a(3),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:b.PLAYING_FORWARD,setPath:function(c,j){j===void 0&&(j=this.pathConfig);var g=this.pathTween;return g&&g.isPlaying()&&g.stop(),this.path=c,j&&this.startFollow(j),this},setRotateToPath:function(c,j){return j===void 0&&(j=0),this.rotateToPath=c,this.pathRotationOffset=j,this},isFollowing:function(){var c=this.pathTween;return c&&c.isPlaying()},startFollow:function(c,j){c===void 0&&(c={}),j===void 0&&(j=0);var g=this.pathTween;g&&g.isPlaying()&&g.stop(),typeof c==="number"&&(c={duration:c}),c.from=i(c,"from",0),c.to=i(c,"to",1);var h=l(c,"positionOnPath",!1);this.rotateToPath=l(c,"rotateToPath",!1),this.pathRotationOffset=i(c,"rotationOffset",0);var k=i(c,"startAt",j);k&&(c.onStart=function(n){var p=n.data[0];p.progress=k,p.elapsed=p.duration*k;var q=p.ease(p.progress);p.current=p.start+(p.end-p.start)*q,p.target[p.key]=p.current}),this.pathOffset||(this.pathOffset=new f(this.x,this.y)),this.pathVector||(this.pathVector=new f()),this.pathDelta||(this.pathDelta=new f()),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(c),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=b.PLAYING_FORWARD;if(this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+d(this.pathRotationOffset)}return this.pathConfig=c,this},pauseFollow:function(){var c=this.pathTween;return c&&c.isPlaying()&&c.pause(),this},resumeFollow:function(){var c=this.pathTween;return c&&c.isPaused()&&c.resume(),this},stopFollow:function(){var c=this.pathTween;return c&&c.isPlaying()&&c.stop(),this},pathUpdate:function(){var c=this.pathTween;if(c){var j=c.data[0],g=this.pathDelta,h=this.pathVector;g.copy(h).negate();if(j.state===b.COMPLETE){this.path.getPoint(1,h),g.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(j.state!==b.PLAYING_FORWARD&&j.state!==b.PLAYING_BACKWARD)return;this.path.getPoint(c.getValue(),h),g.add(h),h.add(this.pathOffset);var k=this.x,m=this.y;this.setPosition(h.x,h.y);var n=this.x-k,p=this.y-m;if(n===0&&p===0)return;if(j.state!==this._prevDirection){this._prevDirection=j.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,n)+d(this.pathRotationOffset))}}};o.exports=e},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(d){this.scaleX=d/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(d){this.scaleY=d/this.frame.realHeight}},setSizeToFrame:function(d){return d===void 0&&(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this},setSize:function(d,l){return this.width=d,this.height=l,this},setDisplaySize:function(d,l){return this.displayWidth=d,this.displayHeight=l,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(l,i){return this.texture=this.scene.sys.textures.get(l),this.setFrame(i)},setFrame:function(l,i,b){return i===void 0&&(i=!0),b===void 0&&(b=!0),this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~a:this.renderFlags|=a,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&b&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(l,i,b,f){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l==="number")this.frame.setCropUVs(this._crop,l,i,b,f,this.flipX,this.flipY);else{var e=l;this.frame.setCropUVs(this._crop,e.x,e.y,e.width,e.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,i){return this.texture=this.scene.sys.textures.get(l),this.setFrame(i)},setFrame:function(l,i,b){return i===void 0&&(i=!0),b===void 0&&(b=!0),this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~a:this.renderFlags|=a,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&b&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(l){return(l>>16)+(l&65280)+((l&255)<<16)},d={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(l,i,b,f){return l===void 0&&(l=16777215),i===void 0&&(i=l,b=l,f=l),this._tintTL=a(l),this._tintTR=a(i),this._tintBL=a(b),this._tintBR=a(f),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(l,i,b,f){return this.setTint(l,i,b,f),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(l){this._tintTL=a(l),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(l){this._tintTR=a(l),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(l){this._tintBL=a(l),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(l){this._tintBR=a(l),this._isTinted=!0}},tint:{set:function(l){this.setTint(l,l,l,l)}},isTinted:{get:function(){return this._isTinted}}};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="changedata"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="changedata-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedata"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="setdata"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="created"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="error"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="play"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seeked"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seeking"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="timeout"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unlocked"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"alpha",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"x",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c,j,g){return(f===void 0||f===null)&&(f=b),d(i,"x",b,e,j,g),d(i,"y",f,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"y",b,f,e,c)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){i===void 0&&(i=0),b===void 0&&(b=6.28);for(var f=i,e=(b-i)/d.length,c=0;c<d.length;c++)d[c].x=l.x+l.radius*Math.cos(f),d[c].y=l.y+l.radius*Math.sin(f),f+=e;return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){i===void 0&&(i=0),b===void 0&&(b=6.28);for(var f=i,e=(b-i)/d.length,c=l.width/2,j=l.height/2,g=0;g<d.length;g++)d[g].x=l.x+c*Math.cos(f),d[g].y=l.y+j*Math.sin(f),f+=e;return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(153),l=function(i,b){for(var f=d(b,i.length),e=0;e<i.length;e++){var c=i[e],j=f[e];c.x=j.x,c.y=j.y}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(285),l=a(286),i=a(287),b=function(f,e,c){c===void 0&&(c=0);var j=d(e,!1,f.length);c>0?l(j,c):c<0&&i(j,Math.abs(c));for(var g=0;g<f.length;g++)f[g].x=j[g].x,f[g].y=j[g].y;return f};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(288),l=function(i,b,f){var e=d({x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2},f),c=d({x1:b.x2,y1:b.y2,x2:b.x3,y2:b.y3},f),j=d({x1:b.x3,y1:b.y3,x2:b.x1,y2:b.y1},f);e.pop(),c.pop(),j.pop(),e=e.concat(c,j);for(var g=e.length/i.length,h=0,k=0;k<i.length;k++){var m=i[k],n=e[Math.floor(h)];m.x=n.x,m.y=n.y,h+=g}return i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){for(var b=0;b<d.length;b++)d[b].anims.play(l,i);return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(150),l=function(i,b){for(var f=0;f<i.length;f++)d(b,i[f]);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(157),l=function(i,b){for(var f=0;f<i.length;f++)d(b,i[f]);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(154),l=function(i,b){for(var f=0;f<i.length;f++)d(b,i[f]);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(155),l=function(i,b){for(var f=0;f<i.length;f++)d(b,i[f]);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(158),l=function(i,b){for(var f=0;f<i.length;f++)d(b,i[f]);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"rotation",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(159),l=a(53),i=function(b,f,e){for(var c=f.x,j=f.y,g=0;g<b.length;g++){var h=b[g];d(h,c,j,e,Math.max(1,l(h.x,h.y,c,j)))}return b};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(159),l=function(i,b,f,e){var c=b.x,j=b.y;if(e===0)return i;for(var g=0;g<i.length;g++)d(i[g],c,j,f,e);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"scaleX",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c,j,g){return(f===void 0||f===null)&&(f=b),d(i,"scaleX",b,e,j,g),d(i,"scaleY",f,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(38),l=function(i,b,f,e,c){return d(i,"scaleY",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"alpha",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e){return d(i,"blendMode",b,0,f,e)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"depth",b,f,e,c)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){for(var b=0;b<d.length;b++)d[b].setInteractive(l,i);return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c,j,g){return(f===void 0||f===null)&&(f=b),d(i,"originX",b,e,j,g),d(i,"originY",f,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"rotation",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c,j,g){return(f===void 0||f===null)&&(f=b),d(i,"scaleX",b,e,j,g),d(i,"scaleY",f,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"scaleX",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"scaleY",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c,j,g){return(f===void 0||f===null)&&(f=b),d(i,"scrollFactorX",b,e,j,g),d(i,"scrollFactorY",f,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"scrollFactorX",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"scrollFactorY",b,f,e,c)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){for(var e=0;e<d.length;e++)d[e].setTint(l,i,b,f);return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e){return d(i,"visible",b,0,f,e)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"x",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c,j,g){return(f===void 0||f===null)&&(f=b),d(i,"x",b,e,j,g),d(i,"y",f,c,j,g)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(25),l=function(i,b,f,e,c){return d(i,"y",b,f,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(3),l=function(i,b,f,e,c){e===void 0&&(e=0),c===void 0&&(c=new d());var j,g;if(i.length>1){var h,k,m,n;if(e===0){var p=i.length-1;for(j=i[p].x,g=i[p].y,h=p-1;h>=0;h--)n=i[h],k=n.x,m=n.y,n.x=j,n.y=g,j=k,g=m;i[p].x=b,i[p].y=f}else{for(j=i[0].x,g=i[0].y,h=1;h<i.length;h++)n=i[h],k=n.x,m=n.y,n.x=j,n.y=g,j=k,g=m;i[0].x=b,i[0].y=f}}else j=i[0].x,g=i[0].y,i[0].x=b,i[0].y=f;return c.x=j,c.y=g,c};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(114),l=function(i){return d(i)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(160),l=function(i,b,f,e,c){c===void 0&&(c=!1);var j=Math.abs(e-f)/i.length,g;if(c)for(g=0;g<i.length;g++)i[g][b]+=d(g*j,f,e);else for(g=0;g<i.length;g++)i[g][b]=d(g*j,f,e);return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(161),l=function(i,b,f,e,c){c===void 0&&(c=!1);var j=Math.abs(e-f)/i.length,g;if(c)for(g=0;g<i.length;g++)i[g][b]+=d(g*j,f,e);else for(g=0;g<i.length;g++)i[g][b]=d(g*j,f,e);return i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){f===void 0&&(f=!1);var e=Math.abs(b-i)/d.length,c;if(f)for(c=0;c<d.length;c++)d[c][l]+=c*e+i;else for(c=0;c<d.length;c++)d[c][l]=c*e+i;return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){for(var l=0;l<d.length;l++)d[l].visible=!d[l].visible;return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(58),l=function(i,b,f){f===void 0&&(f=0);for(var e=0;e<i.length;e++){var c=i[e];c.x=d(c.x,b.left-f,b.right+f),c.y=d(c.y,b.top-f,b.bottom+f)}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Animation:a(151),AnimationFrame:a(271),AnimationManager:a(289),Events:a(111)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BaseCache:a(290),CacheManager:a(292),Events:a(291)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Controls:a(643),Scene2D:a(646)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={FixedKeyControl:a(644),SmoothedKeyControl:a(645)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(6),i=new d({initialize:function b(f){this.camera=l(f,"camera",null),this.left=l(f,"left",null),this.right=l(f,"right",null),this.up=l(f,"up",null),this.down=l(f,"down",null),this.zoomIn=l(f,"zoomIn",null),this.zoomOut=l(f,"zoomOut",null),this.zoomSpeed=l(f,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var e=l(f,"speed",null);typeof e==="number"?(this.speedX=e,this.speedY=e):(this.speedX=l(f,"speed.x",0),this.speedY=l(f,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(b){return this.camera=b,this},update:function(b){if(!this.active)return;b===void 0&&(b=1);var f=this.camera;this.up&&this.up.isDown?f.scrollY-=this.speedY*b|0:this.down&&this.down.isDown&&(f.scrollY+=this.speedY*b|0),this.left&&this.left.isDown?f.scrollX-=this.speedX*b|0:this.right&&this.right.isDown&&(f.scrollX+=this.speedX*b|0),this.zoomIn&&this.zoomIn.isDown?(f.zoom-=this.zoomSpeed,f.zoom<.1&&(f.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(f.zoom+=this.zoomSpeed)},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(6),i=new d({initialize:function b(f){this.camera=l(f,"camera",null),this.left=l(f,"left",null),this.right=l(f,"right",null),this.up=l(f,"up",null),this.down=l(f,"down",null),this.zoomIn=l(f,"zoomIn",null),this.zoomOut=l(f,"zoomOut",null),this.zoomSpeed=l(f,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var e=l(f,"acceleration",null);typeof e==="number"?(this.accelX=e,this.accelY=e):(this.accelX=l(f,"acceleration.x",0),this.accelY=l(f,"acceleration.y",0)),this.dragX=0,this.dragY=0;var c=l(f,"drag",null);typeof c==="number"?(this.dragX=c,this.dragY=c):(this.dragX=l(f,"drag.x",0),this.dragY=l(f,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var j=l(f,"maxSpeed",null);typeof j==="number"?(this.maxSpeedX=j,this.maxSpeedY=j):(this.maxSpeedX=l(f,"maxSpeed.x",0),this.maxSpeedY=l(f,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(b){return this.camera=b,this},update:function(b){if(!this.active)return;b===void 0&&(b=1);var f=this.camera;this._speedX>0?(this._speedX-=this.dragX*b,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*b,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*b,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*b,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(f.scrollX-=this._speedX*b|0),this._speedY!==0&&(f.scrollY-=this._speedY*b|0),this._zoom!==0&&(f.zoom+=this._zoom,f.zoom<.001&&(f.zoom=.001))},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Camera:a(293),BaseCamera:a(91),CameraManager:a(702),Effects:a(301),Events:a(40)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameradestroy"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeincomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeinstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeoutcomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeoutstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameraflashcomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameraflashstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerapancomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerapanstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerarotatecomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerarotatestart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerashakecomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerashakestart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerazoomcomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerazoomstart"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(40),b=new l({initialize:function f(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,e,c,j,g,h,k,m){f===void 0&&(f=!0),e===void 0&&(e=1e3),c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g=0),h===void 0&&(h=!1),k===void 0&&(k=null),m===void 0&&(m=this.camera.scene);if(!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=f,this.progress=0,this.red=c,this.green=j,this.blue=g,this.alpha=f?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=k,this._onUpdateScope=m;var n=f?i.FADE_OUT_START:i.FADE_IN_START;return this.camera.emit(n,this.camera,this,e,c,j,g),this.camera},update:function(f,e){if(!this.isRunning)return;this._elapsed+=e,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete())},postRenderCanvas:function(f){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return f.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",f.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(f,e){if(!this.isRunning&&!this.isComplete)return!1;var c=this.camera,j=this.red/255,g=this.blue/255,h=this.green/255;return f.drawFillRect(c._cx,c._cy,c._cw,c._ch,e(j,h,g,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var f=this.direction?i.FADE_OUT_COMPLETE:i.FADE_IN_COMPLETE;this.camera.emit(f,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(40),b=new l({initialize:function f(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,e,c,j,g,h,k){return f===void 0&&(f=250),e===void 0&&(e=255),c===void 0&&(c=255),j===void 0&&(j=255),g===void 0&&(g=!1),h===void 0&&(h=null),k===void 0&&(k=this.camera.scene),!g&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=f,this.progress=0,this.red=e,this.green=c,this.blue=j,this.alpha=1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=k,this.camera.emit(i.FLASH_START,this.camera,this,f,e,c,j),this.camera)},update:function(f,e){if(!this.isRunning)return;this._elapsed+=e,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete()},postRenderCanvas:function(f){if(!this.isRunning)return!1;var e=this.camera;return f.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",f.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(f,e){if(!this.isRunning)return!1;var c=this.camera,j=this.red/255,g=this.blue/255,h=this.green/255;return f.drawFillRect(c._cx,c._cy,c._cw,c._ch,e(j,h,g,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(115),b=a(40),f=a(3),e=new l({initialize:function c(j){this.camera=j,this.isRunning=!1,this.duration=0,this.source=new f(),this.current=new f(),this.destination=new f(),this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(c,j,g,h,k,m,n){g===void 0&&(g=1e3),h===void 0&&(h=i.Linear),k===void 0&&(k=!1),m===void 0&&(m=null),n===void 0&&(n=this.camera.scene);var p=this.camera;return!k&&this.isRunning?p:(this.isRunning=!0,this.duration=g,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(c,j),p.getScroll(c,j,this.current),typeof h==="string"&&i.hasOwnProperty(h)?this.ease=i[h]:typeof h==="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=n,this.camera.emit(b.PAN_START,this.camera,this,g,c,j),p)},update:function(c,j){if(!this.isRunning)return;this._elapsed+=j;var g=d(this._elapsed/this.duration,0,1);this.progress=g;var h=this.camera;if(this._elapsed<this.duration){var k=this.ease(g);h.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*k,n=this.source.y+(this.current.y-this.source.y)*k;h.setScroll(m,n),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,g,m,n)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,g,h.scrollX,h.scrollY),this.effectComplete()},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(b.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=e},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=1.70158),d*d*((l+1)*d-l)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=1.70158),--d*d*((l+1)*d+l)+1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=1.70158);var i=l*1.525;return(d*=2)<1?.5*(d*d*((i+1)*d-i)):.5*((d-=2)*d*((i+1)*d+i)+2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d=1-d,d<1/2.75?1-7.5625*d*d:d<2/2.75?1-(7.5625*(d-=1.5/2.75)*d+.75):d<2.5/2.75?1-(7.5625*(d-=2.25/2.75)*d+.9375):1-(7.5625*(d-=2.625/2.75)*d+.984375)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l=!1;return d<.5?(d=1-d*2,l=!0):d=d*2-1,d<1/2.75?d=7.5625*d*d:d<2/2.75?d=7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?d=7.5625*(d-=2.25/2.75)*d+.9375:d=7.5625*(d-=2.625/2.75)*d+.984375,l?(1-d)*.5:d*.5+.5};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return 1-Math.sqrt(1-d*d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.sqrt(1- --d*d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d*=2)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d*d*d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return--d*d*d+1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d*=2)<1?.5*d*d*d:.5*((d-=2)*d*d+2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=.1),i===void 0&&(i=.1);if(d===0)return 0;{if(d===1)return 1;{var b=i/4;return l<1?l=1:b=i*Math.asin(1/l)/(2*Math.PI),-(l*Math.pow(2,10*(d-=1))*Math.sin((d-b)*(2*Math.PI)/i))}}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=.1),i===void 0&&(i=.1);if(d===0)return 0;{if(d===1)return 1;{var b=i/4;return l<1?l=1:b=i*Math.asin(1/l)/(2*Math.PI),l*Math.pow(2,-10*d)*Math.sin((d-b)*(2*Math.PI)/i)+1}}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=.1),i===void 0&&(i=.1);if(d===0)return 0;{if(d===1)return 1;{var b=i/4;return l<1?l=1:b=i*Math.asin(1/l)/(2*Math.PI),(d*=2)<1?-.5*(l*Math.pow(2,10*(d-=1))*Math.sin((d-b)*(2*Math.PI)/i)):l*Math.pow(2,-10*(d-=1))*Math.sin((d-b)*(2*Math.PI)/i)*.5+1}}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.pow(2,10*(d-1))-.001};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return 1-Math.pow(2,-10*d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d*=2)<1?.5*Math.pow(2,10*(d-1)):.5*(2-Math.pow(2,-10*(d-1)))};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d*d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d*(2-d)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d*=2)<1?.5*d*d:-.5*(--d*(d-2)-1)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d*d*d*d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return 1- --d*d*d*d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d*=2)<1?.5*d*d*d*d:-.5*((d-=2)*d*d*d-2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d*d*d*d*d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return--d*d*d*d*d+1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d*=2)<1?.5*d*d*d*d*d:.5*((d-=2)*d*d*d*d+2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d===0?0:d===1?1:1-Math.cos(d*Math.PI/2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d===0?0:d===1?1:Math.sin(d*Math.PI/2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d===0?0:d===1?1:.5*(1-Math.cos(Math.PI*d))};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=1),d<=0?0:d>=1?1:((l*d|0)+1)*(1/l)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(40),b=a(3),f=new l({initialize:function e(c){this.camera=c,this.isRunning=!1,this.duration=0,this.intensity=new b(),this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,c,j,g,h){return e===void 0&&(e=100),c===void 0&&(c=.05),j===void 0&&(j=!1),g===void 0&&(g=null),h===void 0&&(h=this.camera.scene),!j&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof c==="number"?this.intensity.set(c):this.intensity.set(c.x,c.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=g,this._onUpdateScope=h,this.camera.emit(i.SHAKE_START,this.camera,this,e,c),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,c){if(!this.isRunning)return;this._elapsed+=c,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress);if(this._elapsed<this.duration){var j=this.intensity,g=this.camera._cw,h=this.camera._ch,k=this.camera.zoom;this._offsetX=(Math.random()*j.x*g*2-j.x*g)*k,this._offsetY=(Math.random()*j.y*h*2-j.y*h)*k,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});o.exports=f},function(o,w,a){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d=a(19),l=a(0),i=a(40),b=a(115),f=new l({initialize:function e(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,c,j,g,h,k,m){j===void 0&&(j=1e3),g===void 0&&(g=b.Linear),h===void 0&&(h=!1),k===void 0&&(k=null),m===void 0&&(m=this.camera.scene),c===void 0&&(c=!1),this.shortestPath=c;var n=e;e<0?(n=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;n=n-Math.floor(n/p)*p;var q=this.camera;if(!h&&this.isRunning)return q;this.isRunning=!0,this.duration=j,this.progress=0,this.source=q.rotation,this.destination=n,typeof g==="string"&&b.hasOwnProperty(g)?this.ease=b[g]:typeof g==="function"&&(this.ease=g),this._elapsed=0,this._onUpdate=k,this._onUpdateScope=m;if(this.shortestPath){var r=0,s=0;this.destination>this.source?r=Math.abs(this.destination-this.source):r=Math.abs(this.destination+p)-this.source,this.source>this.destination?s=Math.abs(this.source-this.destination):s=Math.abs(this.source+p)-this.destination,r<s?this.clockwise=!0:r>s&&(this.clockwise=!1)}return this.camera.emit(i.ROTATE_START,this.camera,this,j,n),q},update:function(e,c){if(!this.isRunning)return;this._elapsed+=c;var j=d(this._elapsed/this.duration,0,1);this.progress=j;var g=this.camera;if(this._elapsed<this.duration){var h=this.ease(j);this.current=g.rotation;var k=0,m=360*Math.PI/180,n=this.destination,p=this.current;this.clockwise===!1&&(n=this.current,p=this.destination),n>=p?k=Math.abs(n-p):k=Math.abs(n+m)-p;var q=0;this.clockwise?q=g.rotation+k*h:q=g.rotation-k*h,g.rotation=q,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,j,q)}else g.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,j,this.destination),this.effectComplete()},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(115),b=a(40),f=new l({initialize:function e(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,c,j,g,h,k){c===void 0&&(c=1e3),j===void 0&&(j=i.Linear),g===void 0&&(g=!1),h===void 0&&(h=null),k===void 0&&(k=this.camera.scene);var m=this.camera;return!g&&this.isRunning?m:(this.isRunning=!0,this.duration=c,this.progress=0,this.source=m.zoom,this.destination=e,typeof j==="string"&&i.hasOwnProperty(j)?this.ease=i[j]:typeof j==="function"&&(this.ease=j),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=k,this.camera.emit(b.ZOOM_START,this.camera,this,c,e),m)},update:function(e,c){if(!this.isRunning)return;this._elapsed+=c,this.progress=d(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete())},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(b.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(293),l=a(0),i=a(2),b=a(23),f=a(48),e=a(92),c=a(22),j=new l({initialize:function g(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(c.BOOT,this.boot,this),h.sys.events.on(c.START,this.start,this)},boot:function(){var g=this.systems;g.settings.cameras?this.fromJSON(g.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new d(0,0,g.scale.width,g.scale.height).setScene(this.scene),g.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){if(!this.main){var g=this.systems;g.settings.cameras?this.fromJSON(g.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(c.UPDATE,this.update,this),h.once(c.SHUTDOWN,this.shutdown,this)},add:function(g,h,k,m,n,p){g===void 0&&(g=0),h===void 0&&(h=0),k===void 0&&(k=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),n===void 0&&(n=!1),p===void 0&&(p="");var q=new d(g,h,k,m);return q.setName(p),q.setScene(this.scene),q.setRoundPixels(this.roundPixels),q.id=this.getNextID(),this.cameras.push(q),n&&(this.main=q),q},addExisting:function(g,h){h===void 0&&(h=!1);var k=this.cameras.indexOf(g);return k===-1?(g.id=this.getNextID(),g.setRoundPixels(this.roundPixels),this.cameras.push(g),h&&(this.main=g),g):null},getNextID:function(){for(var g=this.cameras,h=1,k=0;k<32;k++){for(var m=!1,n=0;n<g.length;n++){var p=g[n];if(p&&p.id===h){m=!0;continue}}if(m)h=h<<1;else return h}return 0},getTotal:function(g){g===void 0&&(g=!1);for(var h=0,k=this.cameras,m=0;m<k.length;m++){var n=k[m];(!g||g&&n.visible)&&h++}return h},fromJSON:function(g){Array.isArray(g)||(g=[g]);for(var h=this.scene.sys.scale.width,k=this.scene.sys.scale.height,m=0;m<g.length;m++){var n=g[m],p=i(n,"x",0),q=i(n,"y",0),r=i(n,"width",h),s=i(n,"height",k),t=this.add(p,q,r,s);t.name=i(n,"name",""),t.zoom=i(n,"zoom",1),t.rotation=i(n,"rotation",0),t.scrollX=i(n,"scrollX",0),t.scrollY=i(n,"scrollY",0),t.roundPixels=i(n,"roundPixels",!1),t.visible=i(n,"visible",!0);var u=i(n,"backgroundColor",!1);u&&t.setBackgroundColor(u);var v=i(n,"bounds",null);if(v){var x=i(v,"x",0),z=i(v,"y",0),y=i(v,"width",h),A=i(v,"height",k);t.setBounds(x,z,y,A)}}return this},getCamera:function(g){for(var h=this.cameras,k=0;k<h.length;k++)if(h[k].name===g)return h[k];return null},getCamerasBelowPointer:function(g){for(var h=this.cameras,k=g.x,m=g.y,n=[],p=0;p<h.length;p++){var q=h[p];q.visible&&q.inputEnabled&&f(q,k,m)&&n.unshift(q)}return n},remove:function(g,h){h===void 0&&(h=!0),Array.isArray(g)||(g=[g]);for(var k=0,m=this.cameras,n=0;n<g.length;n++){var p=m.indexOf(g[n]);p!==-1&&(h&&m[p].destroy(),m.splice(p,1),k++)}return!this.main&&m[0]&&(this.main=m[0]),k},render:function(g,h,k){for(var m=this.scene,n=this.cameras,p=0;p<this.cameras.length;p++){var q=n[p];q.visible&&q.alpha>0&&(q.preRender(1),g.render(m,h,k,q))}},resetAll:function(){for(var g=0;g<this.cameras.length;g++)this.cameras[g].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(g,h){for(var k=0;k<this.cameras.length;k++)this.cameras[k].update(g,h)},onResize:function(g,h,k,m,n,p){for(var q=0;q<this.cameras.length;q++){var r=this.cameras[q];r._x===0&&r._y===0&&r._width===n&&r._height===p&&r.setSize(h.width,h.height)}},resize:function(g,h){for(var k=0;k<this.cameras.length;k++)this.cameras[k].setSize(g,h)},shutdown:function(){this.main=void 0;for(var g=0;g<this.cameras.length;g++)this.cameras[g].destroy();this.cameras=[];var h=this.systems.events;h.off(c.UPDATE,this.update,this),h.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});b.register("CameraManager",j,"cameras"),o.exports=j},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="enterfullscreen"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fullscreenfailed"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fullscreenunsupported"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="leavefullscreen"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="orientationchange"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resize"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="create"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postupdate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="preupdate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="render"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="shutdown"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleep"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitioncomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitioninit"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionout"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionwake"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wake"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Config:a(314),CreateRenderer:a(338),DebugHeader:a(342),Events:a(20),TimeStep:a(343),VisibilityHandler:a(345)}},function(o,w){var a=o.exports={},d,l;function i(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout==="function"?d=setTimeout:d=i}catch(q){d=i}try{typeof clearTimeout==="function"?l=clearTimeout:l=b}catch(q){l=b}})();function f(q){if(d===setTimeout)return setTimeout(q,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(q,0);try{return d(q,0)}catch(r){try{return d.call(null,q,0)}catch(s){return d.call(this,q,0)}}}function e(q){if(l===clearTimeout)return clearTimeout(q);if((l===b||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(q);try{return l(q)}catch(r){try{return l.call(null,q)}catch(s){return l.call(this,q)}}}var c=[],j=!1,g,h=-1;function k(){if(!j||!g)return;j=!1,g.length?c=g.concat(c):h=-1,c.length&&m()}function m(){if(j)return;var q=f(k);j=!0;for(var r=c.length;r;){for(g=c,c=[];++h<r;)g&&g[h].run();h=-1,r=c.length}g=null,j=!1,e(q)}a.nextTick=function(q){var r=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)r[s-1]=arguments[s];c.push(new n(q,r)),c.length===1&&!j&&f(m)};function n(q,r){this.fun=q,this.array=r}n.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function p(){}a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(q){return[]},a.binding=function(q){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(q){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(118),l={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function i(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(l.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(l.mspointer=!0),navigator.getGamepads&&(l.gamepads=!0),"onwheel"in window||d.ie&&"WheelEvent"in window?l.wheelEvent="wheel":"onmousewheel"in window?l.wheelEvent="mousewheel":d.firefox&&"MouseScrollEvent"in window&&(l.wheelEvent="DOMMouseScroll"),l}o.exports=i()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(118),l={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function i(){l.audioData=!!window.Audio,l.webAudio=!!(window.AudioContext||window.webkitAudioContext);var b=document.createElement("audio"),f=!!b.canPlayType;try{if(f){b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(l.ogg=!0),(b.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||b.canPlayType("audio/opus;").replace(/^no$/,""))&&(l.opus=!0),b.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(l.mp3=!0),b.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(l.wav=!0),(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;").replace(/^no$/,""))&&(l.m4a=!0),b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(l.webm=!0);if(b.canPlayType('audio/mp4;codecs="ec-3"')!==""){if(d.edge)l.dolby=!0;else if(d.safari&&d.safariVersion>=9){if(/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var e=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(e===10&&c>=11||e>10)&&(l.dolby=!0)}}}}}catch(j){}return l}o.exports=i()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function d(){var l=document.createElement("video"),i=!!l.canPlayType;try{i&&(l.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(a.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(a.h264=!0,a.mp4=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(a.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(a.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(a.hls=!0))}catch(b){}return a}o.exports=d()},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={available:!1,cancel:"",keyboard:!1,request:""};function d(){var l,i="Fullscreen",b="FullScreen",f=["request"+i,"request"+b,"webkitRequest"+i,"webkitRequest"+b,"msRequest"+i,"msRequest"+b,"mozRequest"+b,"mozRequest"+i];for(l=0;l<f.length;l++)if(document.documentElement[f[l]]){a.available=!0,a.request=f[l];break}var e=["cancel"+b,"exit"+i,"webkitCancel"+b,"webkitExit"+i,"msCancel"+b,"msExit"+i,"mozCancel"+b,"mozExit"+i];if(a.available){for(l=0;l<e.length;l++)if(document[e[l]]){a.cancel=e[l];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(a.keyboard=!0),Object.defineProperty(a,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),a}o.exports=d()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Between:a(317),BetweenPoints:a(318),BetweenPointsY:a(735),BetweenY:a(736),CounterClockwise:a(737),Normalize:a(319),Random:a(738),RandomDegrees:a(739),Reverse:a(740),RotateTo:a(741),ShortestBetween:a(742),Wrap:a(235),WrapDegrees:a(236)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return Math.atan2(l.x-d.x,l.y-d.y)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return Math.atan2(i-d,b-l)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=function(i){return i>Math.PI&&(i-=d.PI2),Math.abs(((i+d.TAU)%d.PI2-d.PI2)%d.PI2)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(119),l=function(){return d(-Math.PI,Math.PI)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(119),l=function(){return d(-180,180)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(319),l=function(i){return d(i+Math.PI)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=function(i,b,f){return f===void 0&&(f=.05),i===b?i:(Math.abs(b-i)<=f||Math.abs(b-i)>=d.PI2-f?i=b:(Math.abs(b-i)>Math.PI&&(b<i?b+=d.PI2:b-=d.PI2),b>i?i+=f:b<i&&(i-=f)),i)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=l-d;if(i===0)return 0;var b=Math.floor((i- -180)/360);return i-b*360};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Between:a(53),BetweenPoints:a(320),BetweenPointsSquared:a(744),Chebyshev:a(745),Power:a(746),Snake:a(747),Squared:a(321)}},function(o,w){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.x-l.x,b=d.y-l.y;return i*i+b*b};o.exports=a},function(o,w){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return Math.max(Math.abs(d-i),Math.abs(l-b))};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){return f===void 0&&(f=2),Math.sqrt(Math.pow(i-d,f)+Math.pow(b-l,f))};o.exports=a},function(o,w){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return Math.abs(d-i)+Math.abs(l-b)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Back:a(302),Bounce:a(303),Circular:a(304),Cubic:a(305),Elastic:a(306),Expo:a(307),Linear:a(308),Quadratic:a(309),Quartic:a(310),Quintic:a(311),Sine:a(312),Stepped:a(313)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Ceil:a(750),Equal:a(106),Floor:a(751),GreaterThan:a(322),LessThan:a(323)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=1e-4),Math.ceil(d-l)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=1e-4),Math.floor(d+l)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Bezier:a(753),CatmullRom:a(754),CubicBezier:a(326),Linear:a(755),QuadraticBezier:a(327),SmoothStep:a(328),SmootherStep:a(756)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(324),l=function(i,b){for(var f=0,e=i.length-1,c=0;c<=e;c++)f+=Math.pow(1-b,e-c)*Math.pow(b,c)*i[c]*d(e,c);return f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(171),l=function(i,b){var f=i.length-1,e=f*b,c=Math.floor(e);return i[0]===i[f]?(b<0&&(c=Math.floor(e=f*(1+b))),d(e-c,i[(c-1+f)%f],i[c],i[(c+1)%f],i[(c+2)%f])):b<0?i[0]-(d(-e,i[0],i[0],i[1],i[1])-i[0]):b>1?i[f]-(d(e-f,i[f],i[f],i[f-1],i[f-1])-i[f]):d(e-c,i[c?c-1:0],i[c],i[f<c+1?f:c+1],i[f<c+2?f:c+2])};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(116),l=function(i,b){var f=i.length-1,e=f*b,c=Math.floor(e);return b<0?d(i[0],i[1],e):b>1?d(i[f],i[f-1],f-e):d(i[c],i[c+1>f?f:c+1],e-c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(160),l=function(i,b,f){return b+(f-b)*d(i,0,1)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GetNext:a(329),IsSize:a(120),IsValue:a(758)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d>0&&(d&d-1)===0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Ceil:a(330),Floor:a(93),To:a(760)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){return i===void 0&&(i=0),l===0?d:(d-=i,d=l*Math.round(d/l),b?(i+d)/l:i+d)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=new d({initialize:function i(b){b===void 0&&(b=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],b&&this.init(b)},rnd:function(){var i=2091639*this.s0+this.c*23283064365386963e-26;return this.c=i|0,this.s0=this.s1,this.s1=this.s2,this.s2=i-this.c,this.s2},hash:function(i){var b,f=this.n;i=i.toString();for(var e=0;e<i.length;e++)f+=i.charCodeAt(e),b=.02519603282416938*f,f=b>>>0,b-=f,b*=f,f=b>>>0,b-=f,f+=b*4294967296;return this.n=f,(f>>>0)*23283064365386963e-26},init:function(i){typeof i==="string"?this.state(i):this.sow(i)},sow:function(i){this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1;if(!i)return;for(var b=0;b<i.length&&i[b]!=null;b++){var f=i[b];this.s0-=this.hash(f),this.s0+=~~(this.s0<0),this.s1-=this.hash(f),this.s1+=~~(this.s1<0),this.s2-=this.hash(f),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(i,b){return Math.floor(this.realInRange(0,b-i+1)+i)},between:function(i,b){return Math.floor(this.realInRange(0,b-i+1)+i)},realInRange:function(i,b){return this.frac()*(b-i)+i},normal:function(){return 1-2*this.frac()},uuid:function(){var i="",b="";for(b=i="";i++<36;b+=~i%5|i*3&4?(i^15?8^this.frac()*(i^20?16:4):4).toString(16):"-");return b},pick:function(i){return i[this.integerInRange(0,i.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(i){return i[~~(Math.pow(this.frac(),2)*(i.length-1)+.5)]},timestamp:function(i,b){return this.realInRange(i||9466848e5,b||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(i){return typeof i==="string"&&i.match(/^!rnd/)&&(i=i.split(","),this.c=parseFloat(i[1]),this.s0=parseFloat(i[2]),this.s1=parseFloat(i[3]),this.s2=parseFloat(i[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(i){for(var b=i.length-1,f=b;f>0;f--){var e=Math.floor(this.frac()*(f+1)),c=i[e];i[e]=i[f],i[f]=c}return i}});o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){for(var l=0,i=0;i<d.length;i++)l+=+d[i];return l/d.length};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=0),i===void 0&&(i=10);var b=Math.pow(i,-l);return Math.ceil(d*b)/b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return Math.abs(d-l)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=0),i===void 0&&(i=10);var b=Math.pow(i,-l);return Math.floor(d*b)/b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d/l/1e3};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d==parseFloat(d)?!(d%2):void 0};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d===parseFloat(d)?!(d%2):void 0};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return Math.min(d+l,i)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return Math.max(d-l,i)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){i===void 0&&(i=l+1);var f=(d-l)/(i-l);return f>1?b!==void 0?(f=(b-d)/(b-i),f<0&&(f=0)):f=1:f<0&&(f=0),f};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=1);var i=Math.random()*2*Math.PI;return d.x=Math.cos(i)*l,d.y=Math.sin(i)*l,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=1);var i=Math.random()*2*Math.PI,b=Math.random()*2-1,f=Math.sqrt(1-b*b)*l;return d.x=Math.cos(i)*f,d.y=Math.sin(i)*f,d.z=b*l,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l=1),d.x=(Math.random()*2-1)*l,d.y=(Math.random()*2-1)*l,d.z=(Math.random()*2-1)*l,d.w=(Math.random()*2-1)*l,d};o.exports=a},function(o,w){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){return d.x=l+f*Math.cos(b),d.y=i+f*Math.sin(b),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){l===void 0&&(l=0),i===void 0&&(i=10);var b=Math.pow(i,-l);return Math.round(d*b)/b};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){l===void 0&&(l=1),i===void 0&&(i=1),b===void 0&&(b=1),b*=Math.PI/d;for(var f=[],e=[],c=0;c<d;c++)i-=l*b,l+=i*b,f[c]=i,e[c]=l;return{sin:e,cos:f,length:d}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(3),l=function(i,b,f,e){e===void 0&&(e=new d());var c=0,j=0,g=b*f;return i>0&&i<=g&&(i>b-1?(j=Math.floor(i/b),c=i-j*b):c=i,e.set(c,j)),e};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return Math.abs(d-l)<=i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(174),l=a(336),i=a(337),b=new l(),f=new i(),e=new d(),c=function(j,g,h){return f.setAxisAngle(g,h),b.fromRotationTranslation(f,e.set(0,0,0)),j.transformMat4(b)};o.exports=c},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addtexture"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="onerror"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="onload"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removetexture"},function(o,w){o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(o,w){o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(o,w){o.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join(`
`)},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GenerateTexture:a(346),Palettes:a(790)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ARNE16:a(347),C64:a(791),CGA:a(792),JMP:a(793),MSX:a(794)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Path:a(796),CubicBezier:a(348),Curve:a(81),Ellipse:a(349),Line:a(350),QuadraticBezier:a(351),Spline:a(352)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(348),i=a(349),b=a(5),f=a(350),e=a(797),c=a(351),j=a(11),g=a(352),h=a(3),k=a(13),m=new d({initialize:function n(p,q){p===void 0&&(p=0),q===void 0&&(q=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h(),this._tmpVec2A=new h(),this._tmpVec2B=new h(),typeof p==="object"?this.fromJSON(p):this.startPoint.set(p,q)},add:function(n){return this.curves.push(n),this},circleTo:function(n,p,q){return p===void 0&&(p=!1),this.ellipseTo(n,n,0,360,p,q)},closePath:function(){var n=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return n.equals(p)||this.curves.push(new f(p,n)),this},cubicBezierTo:function(n,p,q,r,s,t){var u=this.getEndPoint(),v,x,z;return n instanceof h?(v=n,x=p,z=q):(v=new h(q,r),x=new h(s,t),z=new h(n,p)),this.add(new l(u,v,x,z))},quadraticBezierTo:function(n,p,q,r){var s=this.getEndPoint(),t,u;return n instanceof h?(t=n,u=p):(t=new h(q,r),u=new h(n,p)),this.add(new c(s,t,u))},draw:function(n,p){for(var q=0;q<this.curves.length;q++){var r=this.curves[q];if(!r.active)continue;r.draw(n,p)}return n},ellipseTo:function(n,p,q,r,s,t){var u=new i(0,0,n,p,q,r,s,t),v=this.getEndPoint(this._tmpVec2A),x=u.getStartPoint(this._tmpVec2B);return v.subtract(x),u.x=v.x,u.y=v.y,this.add(u)},fromJSON:function(n){this.curves=[],this.cacheLengths=[],this.startPoint.set(n.x,n.y),this.autoClose=n.autoClose;for(var p=0;p<n.curves.length;p++){var q=n.curves[p];switch(q.type){case"LineCurve":this.add(f.fromJSON(q));break;case"EllipseCurve":this.add(i.fromJSON(q));break;case"SplineCurve":this.add(g.fromJSON(q));break;case"CubicBezierCurve":this.add(l.fromJSON(q));break;case"QuadraticBezierCurve":this.add(c.fromJSON(q));break}}return this},getBounds:function(n,p){n===void 0&&(n=new j()),p===void 0&&(p=16),n.x=Number.MAX_VALUE,n.y=Number.MAX_VALUE;for(var q=new j(),r=k.MIN_SAFE_INTEGER,s=k.MIN_SAFE_INTEGER,t=0;t<this.curves.length;t++){var u=this.curves[t];if(!u.active)continue;u.getBounds(q,p),n.x=Math.min(n.x,q.x),n.y=Math.min(n.y,q.y),r=Math.max(r,q.right),s=Math.max(s,q.bottom)}return n.right=r,n.bottom=s,n},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var n=[],p=0,q=0;q<this.curves.length;q++)p+=this.curves[q].getLength(),n.push(p);return this.cacheLengths=n,n},getEndPoint:function(n){return n===void 0&&(n=new h()),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,n):n.copy(this.startPoint),n},getLength:function(){var n=this.getCurveLengths();return n[n.length-1]},getPoint:function(n,p){p===void 0&&(p=new h());for(var q=n*this.getLength(),r=this.getCurveLengths(),s=0;s<r.length;){if(r[s]>=q){var t=r[s]-q,u=this.curves[s],v=u.getLength(),x=v===0?0:1-t/v;return u.getPointAt(x,p)}s++}return null},getPoints:function(n){n===void 0&&(n=12);for(var p=[],q,r=0;r<this.curves.length;r++){var s=this.curves[r];if(!s.active)continue;for(var t=s.getResolution(n),u=s.getPoints(t),v=0;v<u.length;v++){var x=u[v];if(q&&q.equals(x))continue;p.push(x),q=x}}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},getRandomPoint:function(n){return n===void 0&&(n=new h()),this.getPoint(Math.random(),n)},getSpacedPoints:function(n){n===void 0&&(n=40);for(var p=[],q=0;q<=n;q++)p.push(this.getPoint(q/n));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(n){return n===void 0&&(n=new h()),n.copy(this.startPoint)},getTangent:function(n,p){p===void 0&&(p=new h());for(var q=n*this.getLength(),r=this.getCurveLengths(),s=0;s<r.length;){if(r[s]>=q){var t=r[s]-q,u=this.curves[s],v=u.getLength(),x=v===0?0:1-t/v;return u.getTangentAt(x,p)}s++}return null},lineTo:function(n,p){n instanceof h?this._tmpVec2B.copy(n):this._tmpVec2B.set(n,p);var q=this.getEndPoint(this._tmpVec2A);return this.add(new f([q.x,q.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(n){return n.unshift(this.getEndPoint()),this.add(new g(n))},moveTo:function(n,p){return n instanceof h?this.add(new e(n.x,n.y)):this.add(new e(n,p))},toJSON:function(){for(var n=[],p=0;p<this.curves.length;p++)n.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:n}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});b.register("path",function(n,p){return new m(n,p)}),o.exports=m},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(3),i=new d({initialize:function b(f,e){this.active=!1,this.p0=new l(f,e)},getPoint:function(b,f){return f===void 0&&(f=new l()),f.copy(this.p0)},getPointAt:function(b,f){return this.getPoint(b,f)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DataManager:a(113),DataManagerPlugin:a(799),Events:a(284)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(113),i=a(23),b=a(22),f=new d({Extends:l,initialize:function e(c){l.call(this,c,c.sys.events),this.scene=c,this.systems=c.sys,c.sys.events.once(b.BOOT,this.boot,this),c.sys.events.on(b.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(b.DESTROY,this.destroy,this)},start:function(){this.events.once(b.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(b.SHUTDOWN,this.shutdown,this)},destroy:function(){l.prototype.destroy.call(this),this.events.off(b.START,this.start,this),this.scene=null,this.systems=null}});i.register("DataManagerPlugin",f,"data"),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Align:a(801),BaseShader:a(353),Bounds:a(804),Canvas:a(808),Color:a(354),Masks:a(817)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(105),l=a(18),i={In:a(802),To:a(803)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BottomCenter:a(256),BottomLeft:a(257),BottomRight:a(258),Center:a(259),LeftCenter:a(261),QuickSet:a(255),RightCenter:a(262),TopCenter:a(263),TopLeft:a(264),TopRight:a(265)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BottomCenter:a(243),BottomLeft:a(244),BottomRight:a(245),LeftBottom:a(246),LeftCenter:a(247),LeftTop:a(248),QuickSet:a(242),RightBottom:a(249),RightCenter:a(250),RightTop:a(251),TopCenter:a(252),TopLeft:a(253),TopRight:a(254)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CenterOn:a(260),GetBottom:a(34),GetBounds:a(805),GetCenterX:a(76),GetCenterY:a(78),GetLeft:a(35),GetOffsetX:a(806),GetOffsetY:a(807),GetRight:a(36),GetTop:a(37),SetBottom:a(46),SetCenterX:a(77),SetCenterY:a(79),SetLeft:a(44),SetRight:a(45),SetTop:a(43)}},function(o,w,a){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(34),l=a(35),i=a(36),b=a(37),f=function(e,c){c===void 0&&(c={});var j=l(e),g=b(e);return c.x=j,c.y=g,c.width=i(e)-j,c.height=d(e)-g,c};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.width*d.originX};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.height*d.originY};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CanvasInterpolation:a(339),CanvasPool:a(26),Smoothing:a(167),TouchAction:a(809),UserSelect:a(810)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l===void 0&&(l="none"),d.style.msTouchAction=l,d.style["ms-touch-action"]=l,d.style["touch-action"]=l,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l="none");var i=["-webkit-","-khtml-","-moz-","-ms-",""];return i.forEach(function(b){d.style[b+"user-select"]=l}),d.style["-webkit-touch-callout"]=l,d.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l={r:d>>16&255,g:d>>8&255,b:d&255,a:255};return d>16777215&&(l.a=d>>>24),l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(31),l=a(356),i=function(b,f,e){var c=e,j=e,g=e;if(f!==0){var h=e<.5?e*(1+f):e+f-e*f,k=2*e-h;c=l(k,h,b+1/3),j=l(k,h,b),g=l(k,h,b-1/3)}var m=new d();return m.setGLTo(c,j,g,1)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(166),l=function(i,b){i===void 0&&(i=1),b===void 0&&(b=1);for(var f=[],e=0;e<=359;e++)f.push(d(e/359,i,b));return f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(116),l=function(f,e,c,j,g,h,k,m){k===void 0&&(k=100),m===void 0&&(m=0);var n=m/k;return{r:d(f,j,n),g:d(e,g,n),b:d(c,h,n)}},i=function(f,e,c,j){return c===void 0&&(c=100),j===void 0&&(j=0),l(f.r,f.g,f.b,e.r,e.g,e.b,c,j)},b=function(f,e,c,j,g,h){return g===void 0&&(g=100),h===void 0&&(h=0),l(f.r,f.g,f.b,e,c,j,g,h)};o.exports={RGBWithRGB:l,ColorWithRGB:b,ColorWithColor:i}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(172),l=a(31),i=function(b,f){return b===void 0&&(b=0),f===void 0&&(f=255),new l(d(b,f),d(b,f),d(b,f))};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(355),l=function(i,b,f,e,c){return e===void 0&&(e=255),c===void 0&&(c="#"),c==="#"?"#"+((1<<24)+(i<<16)+(b<<8)+f).toString(16).slice(1):"0x"+d(e)+d(i)+d(b)+d(f)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BitmapMask:a(278),GeometryMask:a(279)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={AddToDOM:a(122),DOMContentLoaded:a(357),GetScreenOrientation:a(358),GetTarget:a(363),ParseXML:a(364),RemoveFromDOM:a(178),RequestAnimationFrame:a(344)};o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={EventEmitter:a(820)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(23),b=new d({Extends:l,initialize:function f(){l.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});i.register("EventEmitter",b,"events"),o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(122),l=a(289),i=a(292),b=a(26),f=a(0),e=a(314),c=a(822),j=a(338),g=a(113),h=a(342),k=a(315),m=a(357),n=a(10),p=a(20),q=a(365),r=a(23),s=a(370),t=a(371),u=a(373),v=a(121),x=a(376),z=a(343),y=a(345),A=a(380),D=new f({initialize:function F(H){this.config=new e(H),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new n(),this.anims=new l(this),this.textures=new x(this),this.cache=new i(this),this.registry=new g(this),this.input=new q(this,this.config),this.scene=new u(this,this.config.sceneConfig),this.device=k,this.scale=new t(this,this.config),this.sound=null,this.sound=A.create(this),this.loop=new z(this,this.config.fps),this.plugins=new s(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,m(this.boot.bind(this))},boot:function(){if(!r.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),j(this),c(this),h(this),d(this.canvas,this.config.parent),this.textures.once(v.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),y(this);var F=this.events;F.on(p.HIDDEN,this.onHidden,this),F.on(p.VISIBLE,this.onVisible,this),F.on(p.BLUR,this.onBlur,this),F.on(p.FOCUS,this.onFocus,this)},step:function(F,H){if(this.pendingDestroy)return this.runDestroy();var I=this.events;I.emit(p.PRE_STEP,F,H),I.emit(p.STEP,F,H),this.scene.update(F,H),I.emit(p.POST_STEP,F,H);var N=this.renderer;N.preRender(),I.emit(p.PRE_RENDER,N,F,H),this.scene.render(N),N.postRender(),I.emit(p.POST_RENDER,N,F,H)},headlessStep:function(F,H){if(this.pendingDestroy)return this.runDestroy();var I=this.events;I.emit(p.PRE_STEP,F,H),I.emit(p.STEP,F,H),this.scene.update(F,H),I.emit(p.POST_STEP,F,H),I.emit(p.PRE_RENDER),I.emit(p.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(F,H){H===void 0&&(H=!1),this.pendingDestroy=!0,this.removeCanvas=F,this.noReturn=H},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(b.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});o.exports=D},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(122),l=function(i){var b=i.config;if(!b.parent||!b.domCreateContainer)return;var f=document.createElement("div");f.style.cssText=["display: block;","width: "+i.scale.width+"px;","height: "+i.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),i.domContainer=f,d(f,b.parent)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragenter"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragleave"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragover"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameout"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameover"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectdown"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragenter"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragleave"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragover"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectmove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectout"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectover"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdown"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointermove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerout"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerover"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerup"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wheel"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectup"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectwheel"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="process"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdown"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdownoutside"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointermove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerout"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerover"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerup"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerupoutside"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wheel"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerlockchange"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="preupdate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="shutdown"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){if(!d)return window.innerHeight;var l=Math.abs(window.orientation),i={w:0,h:0},b=document.createElement("div");return b.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(b),i.w=l===90?b.offsetHeight:window.innerWidth,i.h=l===90?window.innerWidth:b.offsetHeight,document.documentElement.removeChild(b),b=null,Math.abs(window.orientation)!==90?i.h:i.w};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addfile"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="filecomplete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="filecomplete-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loaderror"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="load"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fileprogress"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postprocess"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="progress"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=a(181),i=function(b){var f=b.game.config.defaultPhysicsSystem,e=d(b.settings,"physics",!1);if(!f&&!e)return;var c=[];f&&c.push(l(f+"Physics"));if(e)for(var j in e)j=l(j.concat("Physics")),c.indexOf(j)===-1&&c.push(j);return c};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=function(i){var b=i.plugins.getDefaultScenePlugins(),f=d(i.settings,"plugins",!1);return Array.isArray(f)?f:b?b:[]};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var b=d.source[l];d.add("__BASE",l,0,0,b.width,b.height);for(var f=i.getElementsByTagName("SubTexture"),e,c=0;c<f.length;c++){var j=f[c].attributes,g=j.name.value,h=parseInt(j.x.value,10),k=parseInt(j.y.value,10),m=parseInt(j.width.value,10),n=parseInt(j.height.value,10);e=d.add(g,l,h,k,m,n);if(j.frameX){var p=Math.abs(parseInt(j.frameX.value,10)),q=Math.abs(parseInt(j.frameY.value,10)),r=parseInt(j.frameWidth.value,10),s=parseInt(j.frameHeight.value,10);e.setTrim(m,n,p,q,r,s)}}return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.source[l];return d.add("__BASE",l,0,0,i.width,i.height),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.source[l];return d.add("__BASE",l,0,0,i.width,i.height),d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(67),l=function(i,b,f){if(!f.frames&&!f.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=i.source[b];i.add("__BASE",b,0,0,e.width,e.height);for(var c=Array.isArray(f.textures)?f.textures[b].frames:f.frames,j,g=0;g<c.length;g++){var h=c[g];j=i.add(h.filename,b,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&j.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(j.rotated=!0,j.updateUVsInverted());var k=h.anchor||h.pivot;k&&(j.customPivot=!0,j.pivotX=k.x,j.pivotY=k.y),j.customData=d(h)}for(var m in f){if(m==="frames")continue;Array.isArray(f[m])?i.customData[m]=f[m].slice(0):i.customData[m]=f[m]}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(67),l=function(i,b,f){if(!f.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=i.source[b];i.add("__BASE",b,0,0,e.width,e.height);var c=f.frames,j;for(var g in c){var h=c[g];j=i.add(g,b,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&j.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(j.rotated=!0,j.updateUVsInverted());var k=h.anchor||h.pivot;k&&(j.customPivot=!0,j.pivotX=k.x,j.pivotY=k.y),j.customData=d(h)}for(var m in f){if(m==="frames")continue;Array.isArray(f[m])?i.customData[m]=f[m].slice(0):i.customData[m]=f[m]}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=function(i,b,f,e,c,j,g){var h=d(g,"frameWidth",null),k=d(g,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=i.source[b];i.add("__BASE",b,0,0,m.width,m.height);var n=d(g,"startFrame",0),p=d(g,"endFrame",-1),q=d(g,"margin",0),r=d(g,"spacing",0),s=Math.floor((c-q+r)/(h+r)),t=Math.floor((j-q+r)/(k+r)),u=s*t;u===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",i.key),(n>u||n<-u)&&(n=0),n<0&&(n=u+n),p!==-1&&(u=n+(p+1));for(var v=q,x=q,z=0,y=0,A=0;A<u;A++){z=0,y=0;var D=v+h,F=x+k;D>c&&(z=D-c),F>j&&(y=F-j),i.add(A,b,f+v,e+x,h-z,k-y),v+=h+r,v+h>c&&(v=q,x+=k+r)}return i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(2),l=function(i,b,f){var e=d(f,"frameWidth",null),c=d(f,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var j=i.source[0];i.add("__BASE",0,0,0,j.width,j.height);var g=d(f,"startFrame",0),h=d(f,"endFrame",-1),k=d(f,"margin",0),m=d(f,"spacing",0),n=b.cutX,p=b.cutY,q=b.cutWidth,r=b.cutHeight,s=b.realWidth,t=b.realHeight,u=Math.floor((s-k+m)/(e+m)),v=Math.floor((t-k+m)/(c+m)),x=u*v,z=b.x,y=e-z,A=e-(s-q-z),D=b.y,F=c-D,H=c-(t-r-D);(g>x||g<-x)&&(g=0),g<0&&(g=x+g),h!==-1&&(x=g+(h+1));for(var I,N=k,J=k,C=0,B=b.sourceIndex,E=0;E<v;E++){for(var K=E===0,G=E===v-1,L=0;L<u;L++){var M=L===0,O=L===u-1;I=i.add(C,B,n+N,p+J,e,c);if(M||K||O||G){var P=M?z:0,Q=K?D:0,R=0,S=0;M&&(R+=e-y),O&&(R+=e-A),K&&(S+=c-F),G&&(S+=c-H);var T=e-R,U=c-S;I.cutWidth=T,I.cutHeight=U,I.setTrim(e,c,P,Q,T,U)}N+=m,M?N+=y:O?N+=A:N+=e,C++}N=k,J+=m,K?J+=F:G?J+=H:J+=c}return i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=0,d=function(i,b,f,e){var c=a-e.y-e.height;i.add(f,b,e.x,c,e.width,e.height)},l=function(i,b,f){var e=i.source[b];i.add("__BASE",b,0,0,e.width,e.height),a=e.height;for(var c=f.split(`
`),j=/^[ ]*(- )*(\w+)+[: ]+(.*)/,g="",h="",k={x:0,y:0,width:0,height:0},m=0;m<c.length;m++){var n=c[m].match(j);if(!n)continue;var p=n[1]==="- ",q=n[2],r=n[3];p&&(h!==g&&(d(i,b,h,k),g=h),k={x:0,y:0,width:0,height:0});if(q==="name"){h=r;continue}switch(q){case"x":case"y":case"width":case"height":k[q]=parseInt(r,10);break}}return h!==g&&d(i,b,h,k),i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="decoded"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="decodedall"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="detune"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="detune"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="mute"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="rate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="volume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="looped"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="mute"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pauseall"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="play"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="rate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resumeall"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seek"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stopall"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unlocked"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="volume"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Events:a(90),DisplayList:a(915),GameObjectCreator:a(16),GameObjectFactory:a(5),UpdateList:a(941),Components:a(12),BuildGameObject:a(27),BuildGameObjectAnimation:a(393),GameObject:a(14),BitmapText:a(132),Blitter:a(188),Container:a(189),DOMElement:a(395),DynamicBitmapText:a(190),Extern:a(397),Graphics:a(191),Group:a(97),Image:a(107),Particles:a(973),PathFollower:a(409),RenderTexture:a(195),RetroFont:a(982),Rope:a(197),Sprite:a(75),Text:a(198),TileSprite:a(199),Zone:a(110),Video:a(200),Shape:a(30),Arc:a(410),Curve:a(411),Ellipse:a(412),Grid:a(413),IsoBox:a(414),IsoTriangle:a(415),Line:a(416),Polygon:a(417),Rectangle:a(422),Star:a(423),Triangle:a(424),Factories:{Blitter:a(1033),Container:a(1034),DOMElement:a(1035),DynamicBitmapText:a(1036),Extern:a(1037),Graphics:a(1038),Group:a(1039),Image:a(1040),Particles:a(1041),PathFollower:a(1042),RenderTexture:a(1043),Rope:a(1044),Sprite:a(1045),StaticBitmapText:a(1046),Text:a(1047),TileSprite:a(1048),Zone:a(1049),Video:a(1050),Arc:a(1051),Curve:a(1052),Ellipse:a(1053),Grid:a(1054),IsoBox:a(1055),IsoTriangle:a(1056),Line:a(1057),Polygon:a(1058),Rectangle:a(1059),Star:a(1060),Triangle:a(1061)},Creators:{Blitter:a(1062),Container:a(1063),DynamicBitmapText:a(1064),Graphics:a(1065),Group:a(1066),Image:a(1067),Particles:a(1068),RenderTexture:a(1069),Rope:a(1070),Sprite:a(1071),StaticBitmapText:a(1072),Text:a(1073),TileSprite:a(1074),Zone:a(1075),Video:a(1076)}};d.Mesh=a(134),d.Quad=a(203),d.Shader=a(204),d.Factories.Mesh=a(1083),d.Factories.Quad=a(1084),d.Factories.Shader=a(1085),d.Creators.Mesh=a(1086),d.Creators.Quad=a(1087),d.Creators.Shader=a(1088),d.Light=a(428),a(429),a(1089),o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(129),i=a(23),b=a(22),f=a(131),e=new d({Extends:l,initialize:function c(j){l.call(this,j),this.sortChildrenFlag=!1,this.scene=j,this.systems=j.sys,j.sys.events.once(b.BOOT,this.boot,this),j.sys.events.on(b.START,this.start,this)},boot:function(){this.systems.events.once(b.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(b.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,j){return c._depth-j._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list.length;c--;)this.list[c].destroy(!0);this.list.length=0,this.systems.events.off(b.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(b.START,this.start,this),this.scene=null,this.systems=null}});i.register("DisplayList",e,"displayList"),o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CheckMatrix:a(184),MatrixToString:a(917),ReverseColumns:a(918),ReverseRows:a(919),Rotate180:a(920),RotateLeft:a(921),RotateMatrix:a(130),RotateRight:a(922),TransposeMatrix:a(390)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(163),l=a(184),i=function(b){var f="";if(!l(b))return f;for(var e=0;e<b.length;e++){for(var c=0;c<b[e].length;c++){var j=b[e][c].toString();j!=="undefined"?f+=d(j,2):f+="?",c<b[e].length-1&&(f+=" |")}if(e<b.length-1){f+=`
`;for(var g=0;g<b[e].length;g++)f+="---",g<b[e].length-1&&(f+="+");f+=`
`}}return f};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.reverse()};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){for(var l=0;l<d.length;l++)d[l].reverse();return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(130),l=function(i){return d(i,180)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(130),l=function(i){return d(i,90)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(130),l=function(i){return d(i,-90)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){f===void 0&&(f=d);if(i>0){var e=i-d.length;if(e<=0)return null}if(!Array.isArray(l))return d.indexOf(l)===-1?(d.push(l),b&&b.call(f,l),l):null;for(var c=l.length-1;c>=0;)d.indexOf(l[c])!==-1&&l.splice(c,1),c--;c=l.length;if(c===0)return null;i>0&&c>e&&(l.splice(e),c=e);for(var j=0;j<c;j++){var g=l[j];d.push(g),b&&b.call(f,g)}return l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f,e){i===void 0&&(i=0),e===void 0&&(e=d);if(b>0){var c=b-d.length;if(c<=0)return null}if(!Array.isArray(l))return d.indexOf(l)===-1?(d.splice(i,0,l),f&&f.call(e,l),l):null;for(var j=l.length-1;j>=0;)d.indexOf(l[j])!==-1&&l.pop(),j--;j=l.length;if(j===0)return null;b>0&&j>c&&(l.splice(c),j=c);for(var g=j-1;g>=0;g--){var h=l[g];d.splice(i,0,h),f&&f.call(e,h)}return l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.indexOf(l);return i!==-1&&i<d.length&&(d.splice(i,1),d.push(l)),l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(68),l=function(i,b,f,e,c){e===void 0&&(e=0),c===void 0&&(c=i.length);var j=0;if(d(i,e,c))for(var g=e;g<c;g++){var h=i[g];h[b]===f&&j++}return j};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b,f=[null];for(b=3;b<arguments.length;b++)f.push(arguments[b]);for(b=0;b<d.length;b++)f[0]=d[b],l.apply(i,f);return d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(68),l=function(i,b,f,e,c){e===void 0&&(e=0),c===void 0&&(c=i.length);if(d(i,e,c)){var j,g=[null];for(j=5;j<arguments.length;j++)g.push(arguments[j]);for(j=e;j<c;j++)g[0]=i[j],b.apply(f,g)}return i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.indexOf(l);if(i>0){var b=d[i-1],f=d.indexOf(b);d[i]=b,d[f]=l}return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=d.indexOf(l);if(b===-1||i<0||i>=d.length)throw new Error("Supplied index out of bounds");return b!==i&&(d.splice(b,1),d.splice(i,0,l)),l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.indexOf(l);if(i!==-1&&i<d.length-1){var b=d[i+1],f=d.indexOf(b);d[i]=b,d[f]=l}return d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){for(var f=[],e=d;e<=l;e++)if(i||b){var c=i?i+e.toString():e.toString();b&&(c=c.concat(b)),f.push(c)}else f.push(e);return f};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(332),l=function(i,b,f){i===void 0&&(i=0),b===void 0&&(b=null),f===void 0&&(f=1),b===null&&(b=i,i=0);for(var e=[],c=Math.max(d((b-i)/(f||1)),0),j=0;j<c;j++)e.push(i),i+=f;return e};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(80),l=function(i,b,f,e){e===void 0&&(e=i);if(b<0||b>i.length-1)throw new Error("Index out of bounds");var c=d(i,b);return f&&f.call(e,c),c};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(68),l=function(i,b,f,e,c){b===void 0&&(b=0),f===void 0&&(f=i.length),c===void 0&&(c=i);if(d(i,b,f)){var j=f-b,g=i.splice(b,j);if(e)for(var h=0;h<g.length;h++){var k=g[h];e.call(c,k)}return g}else return[]};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(80),l=function(i,b,f){b===void 0&&(b=0),f===void 0&&(f=i.length);var e=b+Math.floor(Math.random()*f);return d(i,e)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=d.indexOf(l),f=d.indexOf(i);return b!==-1&&f===-1?(d[b]=i,!0):!1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.indexOf(l);return i!==-1&&i>0&&(d.splice(i,1),d.unshift(l)),l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(68),l=function(i,b,f,e,c){e===void 0&&(e=0),c===void 0&&(c=i.length);if(d(i,e,c))for(var j=e;j<c;j++){var g=i[j];g.hasOwnProperty(b)&&(g[b]=f)}return i};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(l===i)return;var b=d.indexOf(l),f=d.indexOf(i);if(b<0||f<0)throw new Error("Supplied items must be elements of the same array");return d[b]=i,d[f]=l,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(186),i=a(23),b=a(22),f=new d({Extends:l,initialize:function e(c){l.call(this),this.scene=c,this.systems=c.sys,c.sys.events.once(b.BOOT,this.boot,this),c.sys.events.on(b.START,this.start,this)},boot:function(){this.systems.events.once(b.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(b.PRE_UPDATE,this.update,this),e.on(b.UPDATE,this.sceneUpdate,this),e.once(b.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,c){for(var j=this._active,g=j.length,h=0;h<g;h++){var k=j[h];k.active&&k.preUpdate.call(k,e,c)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var c=this.systems.events;c.off(b.PRE_UPDATE,this.preUpdate,this),c.off(b.UPDATE,this.sceneUpdate,this),c.off(b.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(b.START,this.start,this),this.scene=null,this.systems=null}});i.register("UpdateList",f,"updateList"),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={PROCESS_QUEUE_ADD:a(943),PROCESS_QUEUE_REMOVE:a(944)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){if(i===void 0)return i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],scaleX:0,scaleY:0},i;var b=d.text,f=b.length,e=d.maxWidth,c=d.wordWrapCharCode,j=Number.MAX_VALUE,g=Number.MAX_VALUE,h=0,k=0,m=d.fontData.chars,n=d.fontData.lineHeight,p=d.letterSpacing,q=0,r=0,s=0,t=null,u=0,v=0,x=d.fontSize/d.fontData.size,z=x*d.scaleX,y=x*d.scaleY,A=null,D=0,F=[],H=Number.MAX_VALUE,I=0,N=0,J=0,C,B=[],E=null;if(e>0){for(C=0;C<f;C++){s=b.charCodeAt(C);if(s===10){E!==null&&(B.push({word:E.word,i:E.i,x:E.x*z,y:E.y*y,w:E.w*z,h:E.h*y,cr:!0}),E=null),q=0,r+=n,A=null;continue}t=m[s];if(!t)continue;if(A!==null)var K=t.kerning[D];s===c?E!==null&&(B.push({word:E.word,i:E.i,x:E.x*z,y:E.y*y,w:E.w*z,h:E.h*y,cr:!1}),E=null):(E===null&&(E={word:"",i:C,x:q,y:r,w:0,h:n,cr:!1}),E.word=E.word.concat(b[C]),E.w+=t.xOffset+t.xAdvance+(K!==void 0?K:0)),q+=t.xAdvance+p,A=t,D=s}E!==null&&B.push({word:E.word,i:E.i,x:E.x*z,y:E.y*y,w:E.w*z,h:E.h*y,cr:!1}),q=0,r=0,A=null,D=0;var G,L=0,M=[];for(C=0;C<B.length;C++){var O=B[C],P=O.x,Q=O.x+O.w;if(G){var R=P-(G.x+G.w);L=P-(R+G.w),G=null}var S=P-L,T=Q-L;S>e||T>e?(M.push(O.i-1),O.cr?(M.push(O.i+O.word.length),L=0,G=null):G=O):O.cr&&(M.push(O.i+O.word.length),L=0,G=null)}var U=function(V,ca,W){return V.substr(0,ca)+W+V.substr(ca+1)};for(C=M.length-1;C>=0;C--)b=U(b,M[C],`
`);i.wrappedText=b,f=b.length,B=[],E=null}for(C=0;C<f;C++){s=b.charCodeAt(C);if(s===10){E!==null&&(B.push({word:E.word,i:E.i,x:E.x*z,y:E.y*y,w:E.w*z,h:E.h*y}),E=null),q=0,r+=n,A=null,F[N]=J,J>I&&(I=J),J<H&&(H=J),N++,J=0;continue}t=m[s];if(!t)continue;u=q,v=r;if(A!==null){var _=t.kerning[D];u+=_!==void 0?_:0}j>u&&(j=u),g>v&&(g=v);var Z=u+t.xAdvance,X=v+n;h<Z&&(h=Z),k<X&&(k=X),s===c?E!==null&&(B.push({word:E.word,i:E.i,x:E.x*z,y:E.y*y,w:E.w*z,h:E.h*y}),E=null):(E===null&&(E={word:"",i:C,x:q,y:r,w:0,h:n}),E.word=E.word.concat(b[C]),E.w+=t.xOffset+t.xAdvance+(_!==void 0?_:0)),q+=t.xAdvance+p,A=t,D=s,J=Z*x}E!==null&&B.push({word:E.word,i:E.i,x:E.x*z,y:E.y*y,w:E.w*z,h:E.h*y}),F[N]=J,J>I&&(I=J),J<H&&(H=J);var Y=i.local,$=i.global,ba=i.lines;return Y.x=j*x,Y.y=g*x,Y.width=h*x,Y.height=k*x,$.x=d.x-d.displayOriginX+j*z,$.y=d.y-d.displayOriginY+g*y,$.width=h*z,$.height=k*y,ba.shortest=H,ba.longest=I,ba.lengths=F,l&&(Y.x=Math.round(Y.x),Y.y=Math.round(Y.y),Y.width=Math.round(Y.width),Y.height=Math.round(Y.height),$.x=Math.round($.x),$.y=Math.round($.y),$.width=Math.round($.width),$.height=Math.round($.height),ba.shortest=Math.round(H),ba.longest=Math.round(I)),i.words=B,i.lines.height=n,i.scaleX=d.scaleX,i.scaleY=d.scaleY,i};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(187),l=function(i,b,f,e,c,j,g){var h=i.sys.textures.getFrame(f,e),k=i.sys.cache.xml.get(c);if(h&&k){var m=d(k,j,g,h);return i.sys.cache.bitmapFont.add(b,{data:m,texture:f,frame:e}),!0}else return!1};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(948),l=a(949),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=b._text,g=j.length;if(g===0)return;var h=this.pipeline;i.setPipeline(h,b);var k=h._tempMatrix1,m=h._tempMatrix2,n=h._tempMatrix3;m.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),k.copyFrom(e.matrix),c?(k.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),m.e=b.x,m.f=b.y,k.multiply(m,n)):(m.e-=e.scrollX*b.scrollFactorX,m.f-=e.scrollY*b.scrollFactorY,k.multiply(m,n));var p=b.frame,q=p.glTexture,r=p.cutX,s=p.cutY,t=q.width,u=q.height,v=b._isTinted&&b.tintFill,x=d.getTintAppendFloatAlpha(b._tintTL,e.alpha*b._alphaTL),z=d.getTintAppendFloatAlpha(b._tintTR,e.alpha*b._alphaTR),y=d.getTintAppendFloatAlpha(b._tintBL,e.alpha*b._alphaBL),A=d.getTintAppendFloatAlpha(b._tintBR,e.alpha*b._alphaBR);h.setTexture2D(q,0);var D=0,F=0,H=0,I=0,N=b._letterSpacing,J,C=0,B=0,E=0,K=0,G,L=b.fontData,M=L.chars,O=L.lineHeight,P=b._fontSize/L.size,Q=b._align,R=0,S=0,T=b.getTextBounds(!1);b.maxWidth>0&&(j=T.wrappedText,g=j.length);var U=b._bounds.lines;Q===1?S=(U.longest-U.lengths[0])/2:Q===2&&(S=U.longest-U.lengths[0]);for(var _=e.roundPixels,Z=0;Z<g;Z++){H=j.charCodeAt(Z);if(H===10){R++,Q===1?S=(U.longest-U.lengths[R])/2:Q===2&&(S=U.longest-U.lengths[R]),D=0,F+=O,G=null;continue}J=M[H];if(!J)continue;C=r+J.x,B=s+J.y,E=J.width,K=J.height;var X=J.xOffset+D,Y=J.yOffset+F;if(G!==null){var $=J.kerning[I];X+=$!==void 0?$:0}D+=J.xAdvance+N,G=J,I=H;if(E===0||K===0||H===32)continue;X*=P,Y*=P,X-=b.displayOriginX,Y-=b.displayOriginY,X+=S;var ba=C/t,V=B/u,ca=(C+E)/t,W=(B+K)/u,aa=X+E*P,ga=Y+K*P,da=n.getX(X,Y),ea=n.getY(X,Y),fa=n.getX(X,ga),ha=n.getY(X,ga),ia=n.getX(aa,ga),ja=n.getY(aa,ga),ka=n.getX(aa,Y),la=n.getY(aa,Y);_&&(da=Math.round(da),ea=Math.round(ea),fa=Math.round(fa),ha=Math.round(ha),ia=Math.round(ia),ja=Math.round(ja),ka=Math.round(ka),la=Math.round(la)),h.batchQuad(da,ea,fa,ha,ia,ja,ka,la,ba,V,ca,W,x,z,y,A,v,q,0)}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(28),l=function(i,b,f,e,c){var j=b._text,g=j.length,h=i.currentContext;if(g===0||!d(i,h,b,e,c))return;var k=b.frame,m=b.fontData.chars,n=b.fontData.lineHeight,p=b._letterSpacing,q=0,r=0,s=0,t=null,u=0,v=0,x=0,z=0,y=0,A=0,D=null,F=0,H=b.frame.source.image,I=k.cutX,N=k.cutY,J=b._fontSize/b.fontData.size,C=b._align,B=0,E=0,K=b.getTextBounds(!1);b.maxWidth>0&&(j=K.wrappedText,g=j.length);var G=b._bounds.lines;C===1?E=(G.longest-G.lengths[0])/2:C===2&&(E=G.longest-G.lengths[0]),h.translate(-b.displayOriginX,-b.displayOriginY);for(var L=e.roundPixels,M=0;M<g;M++){s=j.charCodeAt(M);if(s===10){B++,C===1?E=(G.longest-G.lengths[B])/2:C===2&&(E=G.longest-G.lengths[B]),q=0,r+=n,D=null;continue}t=m[s];if(!t)continue;u=I+t.x,v=N+t.y,x=t.width,z=t.height,y=t.xOffset+q,A=t.yOffset+r;if(D!==null){var O=t.kerning[F];y+=O!==void 0?O:0}y*=J,A*=J,y+=E,q+=t.xAdvance+p,D=t,F=s;if(x===0||z===0||s===32)continue;L&&(y=Math.round(y),A=Math.round(A)),h.save(),h.translate(y,A),h.scale(J,J),h.drawImage(H,u,v,x,z,0,0,x,z),h.restore()}h.restore()};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(951),l=a(952),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=b.getRenderList();if(j.length===0)return;var g=this.pipeline;i.setPipeline(g,b);var h=e.scrollX*b.scrollFactorX,k=e.scrollY*b.scrollFactorY,m=g._tempMatrix1;m.copyFrom(e.matrix),c&&(m.multiplyWithOffset(c,-h,-k),h=0,k=0);for(var n=b.x-h,p=b.y-k,q=-1,r=!1,s=e.alpha*b.alpha,t=e.roundPixels,u=0;u<j.length;u++){var v=j[u],x=v.frame,z=v.alpha*s;if(z===0)continue;var y=x.width,A=x.height,D=n+v.x+x.x,F=p+v.y+x.y;v.flipX&&(y*=-1,D+=x.width),v.flipY&&(A*=-1,F+=x.height);var H=D+y,I=F+A,N=m.getX(D,F),J=m.getY(D,F),C=m.getX(H,I),B=m.getY(H,I),E=d.getTintAppendFloatAlpha(v.tint,z);x.sourceIndex!==q&&(g.setTexture2D(x.glTexture,0),q=x.sourceIndex),t&&(N=Math.round(N),J=Math.round(J),C=Math.round(C),B=Math.round(B)),g.batchQuad(N,J,N,B,C,B,C,J,x.u0,x.v0,x.u1,x.v1,E,E,E,E,r,x.glTexture,0)&&(q=-1)}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=l.getRenderList();if(e.length===0)return;var c=d.currentContext,j=b.alpha*l.alpha;if(j===0)return;c.globalCompositeOperation=d.blendModes[l.blendMode],c.imageSmoothingEnabled=!(!d.antialias||l.frame.source.scaleMode);var g=l.x-b.scrollX*l.scrollFactorX,h=l.y-b.scrollY*l.scrollFactorY;c.save(),f&&f.copyToContext(c);for(var k=b.roundPixels,m=0;m<e.length;m++){var n=e[m],p=n.flipX||n.flipY,q=n.frame,r=q.canvasData,s=q.x,t=q.y,u=1,v=1,x=n.alpha*j;if(x===0)continue;c.globalAlpha=x,p?(n.flipX&&(u=-1,s-=r.width),n.flipY&&(v=-1,t-=r.height),c.save(),c.translate(n.x+g,n.y+h),c.scale(u,v),c.drawImage(q.source.image,r.x,r.y,r.width,r.height,s,t,r.width,r.height),c.restore()):(k&&(s=Math.round(s),t=Math.round(t)),c.drawImage(q.source.image,r.x,r.y,r.width,r.height,s+n.x+g,t+n.y+h,r.width,r.height))}c.restore()};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(94),i=new d({initialize:function b(f,e,c,j,g){this.parent=f,this.x=e,this.y=c,this.frame=j,this.data={},this.tint=16777215,this._visible=g,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(b){return b===void 0?this.frame=this.parent.frame:b instanceof l&&b.texture===this.parent.texture?this.frame=b:this.frame=this.parent.texture.get(b),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(b,f,e){return this.x=b,this.y=f,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(b,f){return this.x=b,this.y=f,this},setFlipX:function(b){return this.flipX=b,this},setFlipY:function(b){return this.flipY=b,this},setFlip:function(b,f){return this.flipX=b,this.flipY=f,this},setVisible:function(b){return this.visible=b,this},setAlpha:function(b){return this.alpha=b,this},setTint:function(b){return this.tint=b,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(b){this.parent.dirty|=this._visible!==b,this._visible=b}},alpha:{get:function(){return this._alpha},set:function(b){this.parent.dirty|=this._alpha>0!==b>0,this._alpha=b}}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(955),l=a(956),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=l.list;if(e.length===0)return;var c=l.localTransform;f?(c.loadIdentity(),c.multiply(f),c.translate(l.x,l.y),c.rotate(l.rotation),c.scale(l.scaleX,l.scaleY)):c.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var j=l.blendMode!==-1;j||d.setBlendMode(0);for(var g=l.alpha,h=l.scrollFactorX,k=l.scrollFactorY,m=e,n=e.length,p=0;p<n;p++){var q=e[p];if(!q.willRender(b))continue;var r,s,t,u;if(q.alphaTopLeft!==void 0)r=q.alphaTopLeft,s=q.alphaTopRight,t=q.alphaBottomLeft,u=q.alphaBottomRight;else{var v=q.alpha;r=v,s=v,t=v,u=v}var x=q.scrollFactorX,z=q.scrollFactorY;!j&&q.blendMode!==d.currentBlendMode&&d.setBlendMode(q.blendMode);var y=q.mask;y&&y.preRenderWebGL(d,q,b);var A=q.type;A!==d.currentType&&(d.newType=!0,d.currentType=A),d.nextTypeMatch=p<n-1?m[p+1].type===d.currentType:!1,q.setScrollFactor(x*h,z*k),q.setAlpha(r*g,s*g,t*g,u*g),q.renderWebGL(d,q,i,b,c),q.setAlpha(r,s,t,u),q.setScrollFactor(x,z),y&&y.postRenderWebGL(d,b),d.newType=!1}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=l.list;if(e.length===0)return;var c=l.localTransform;f?(c.loadIdentity(),c.multiply(f),c.translate(l.x,l.y),c.rotate(l.rotation),c.scale(l.scaleX,l.scaleY)):c.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var j=l.blendMode!==-1;j||d.setBlendMode(0);var g=l._alpha,h=l.scrollFactorX,k=l.scrollFactorY;l.mask&&l.mask.preRenderCanvas(d,null,b);for(var m=0;m<e.length;m++){var n=e[m];if(!n.willRender(b))continue;var p=n.alpha,q=n.scrollFactorX,r=n.scrollFactorY;!j&&n.blendMode!==d.currentBlendMode&&d.setBlendMode(n.blendMode),n.setScrollFactor(q*h,r*k),n.setAlpha(p*g),n.renderCanvas(d,n,i,b,c),n.setAlpha(p),n.setScrollFactor(q,r)}l.mask&&l.mask.postRenderCanvas(d)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(396),l=a(396),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(960),l=a(961),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=b.text,g=j.length;if(g===0)return;var h=this.pipeline;i.setPipeline(h,b);var k=b.cropWidth>0||b.cropHeight>0;k&&(h.flush(),i.pushScissor(b.x,b.y,b.cropWidth*b.scaleX,b.cropHeight*b.scaleY));var m=h._tempMatrix1,n=h._tempMatrix2,p=h._tempMatrix3,q=h._tempMatrix4;n.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),m.copyFrom(e.matrix),c?(m.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),n.e=b.x,n.f=b.y,m.multiply(n,p)):(n.e-=e.scrollX*b.scrollFactorX,n.f-=e.scrollY*b.scrollFactorY,m.multiply(n,p));var r=b.frame,s=r.glTexture,t=r.cutX,u=r.cutY,v=s.width,x=s.height,z=b._isTinted&&b.tintFill,y=d.getTintAppendFloatAlpha(b._tintTL,e.alpha*b._alphaTL),A=d.getTintAppendFloatAlpha(b._tintTR,e.alpha*b._alphaTR),D=d.getTintAppendFloatAlpha(b._tintBL,e.alpha*b._alphaBL),F=d.getTintAppendFloatAlpha(b._tintBR,e.alpha*b._alphaBR);h.setTexture2D(s,0);var H=0,I=0,N=0,J=0,C=b.letterSpacing,B,E=0,K=0,G=0,L=0,M,O=b.scrollX,P=b.scrollY,Q=b.fontData,R=Q.chars,S=Q.lineHeight,T=b.fontSize/Q.size,U=0,_=b._align,Z=0,X=0;b.getTextBounds(!1);var Y=b._bounds.lines;_===1?X=(Y.longest-Y.lengths[0])/2:_===2&&(X=Y.longest-Y.lengths[0]);for(var $=e.roundPixels,ba=b.displayCallback,V=b.callbackData,ca=0;ca<g;ca++){N=j.charCodeAt(ca);if(N===10){Z++,_===1?X=(Y.longest-Y.lengths[Z])/2:_===2&&(X=Y.longest-Y.lengths[Z]),H=0,I+=S,M=null;continue}B=R[N];if(!B)continue;E=t+B.x,K=u+B.y,G=B.width,L=B.height;var W=B.xOffset+H-O,aa=B.yOffset+I-P;if(M!==null){var ga=B.kerning[J];W+=ga!==void 0?ga:0}H+=B.xAdvance+C,M=B,J=N;if(G===0||L===0||N===32)continue;T=b.fontSize/b.fontData.size,U=0;if(ba){V.color=0,V.tint.topLeft=y,V.tint.topRight=A,V.tint.bottomLeft=D,V.tint.bottomRight=F,V.index=ca,V.charCode=N,V.x=W,V.y=aa,V.scale=T,V.rotation=U,V.data=B.data;var da=ba(V);W=da.x,aa=da.y,T=da.scale,U=da.rotation,da.color?(y=da.color,A=da.color,D=da.color,F=da.color):(y=da.tint.topLeft,A=da.tint.topRight,D=da.tint.bottomLeft,F=da.tint.bottomRight),y=d.getTintAppendFloatAlpha(y,e.alpha*b._alphaTL),A=d.getTintAppendFloatAlpha(A,e.alpha*b._alphaTR),D=d.getTintAppendFloatAlpha(D,e.alpha*b._alphaBL),F=d.getTintAppendFloatAlpha(F,e.alpha*b._alphaBR)}W*=T,aa*=T,W-=b.displayOriginX,aa-=b.displayOriginY,W+=X,q.applyITRS(W,aa,U,T,T),p.multiply(q,n);var ea=E/v,fa=K/x,ha=(E+G)/v,ia=(K+L)/x,ja=G,ka=L,la=n.e,ma=n.f,na=ka*n.c+n.e,oa=ka*n.d+n.f,pa=ja*n.a+ka*n.c+n.e,qa=ja*n.b+ka*n.d+n.f,ra=ja*n.a+n.e,sa=ja*n.b+n.f;$&&(la=Math.round(la),ma=Math.round(ma),na=Math.round(na),oa=Math.round(oa),pa=Math.round(pa),qa=Math.round(qa),ra=Math.round(ra),sa=Math.round(sa)),h.batchQuad(la,ma,na,oa,pa,qa,ra,sa,ea,fa,ha,ia,y,A,D,F,z,s,0)}k&&(h.flush(),i.popScissor())};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(28),l=function(i,b,f,e,c){var j=b._text,g=j.length,h=i.currentContext;if(g===0||!d(i,h,b,e,c))return;var k=b.frame,m=b.displayCallback,n=b.callbackData,p=b.fontData.chars,q=b.fontData.lineHeight,r=b._letterSpacing,s=0,t=0,u=0,v=null,x=0,z=0,y=0,A=0,D=0,F=0,H=null,I=0,N=b.frame.source.image,J=k.cutX,C=k.cutY,B=0,E=0,K=b._fontSize/b.fontData.size,G=b._align,L=0,M=0;b.getTextBounds(!1);var O=b._bounds.lines;G===1?M=(O.longest-O.lengths[0])/2:G===2&&(M=O.longest-O.lengths[0]),h.translate(-b.displayOriginX,-b.displayOriginY);var P=e.roundPixels;b.cropWidth>0&&b.cropHeight>0&&(h.beginPath(),h.rect(0,0,b.cropWidth,b.cropHeight),h.clip());for(var Q=0;Q<g;Q++){E=K,B=0,u=j.charCodeAt(Q);if(u===10){L++,G===1?M=(O.longest-O.lengths[L])/2:G===2&&(M=O.longest-O.lengths[L]),s=0,t+=q,H=null;continue}v=p[u];if(!v)continue;x=J+v.x,z=C+v.y,y=v.width,A=v.height,D=v.xOffset+s-b.scrollX,F=v.yOffset+t-b.scrollY;if(H!==null){var R=v.kerning[I];D+=R!==void 0?R:0}if(m){n.index=Q,n.charCode=u,n.x=D,n.y=F,n.scale=E,n.rotation=B,n.data=v.data;var S=m(n);D=S.x,F=S.y,E=S.scale,B=S.rotation}D*=E,F*=E,D+=M,s+=v.xAdvance+r,H=v,I=u;if(y===0||A===0||u===32)continue;P&&(D=Math.round(D),F=Math.round(F)),h.save(),h.translate(D,F),h.rotate(B),h.scale(E,E),h.drawImage(N,x,z,y,A,0,0,y,A),h.restore()}h.restore()};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(963),l=a(964),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=d.currentPipeline;d.clearPipeline();var c=d._tempMatrix1,j=d._tempMatrix2,g=d._tempMatrix3;j.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),c.copyFrom(b.matrix),f?(c.multiplyWithOffset(f,-b.scrollX*l.scrollFactorX,-b.scrollY*l.scrollFactorY),j.e=l.x,j.f=l.y,c.multiply(j,g)):(j.e-=b.scrollX*l.scrollFactorX,j.f-=b.scrollY*l.scrollFactorY,c.multiply(j,g)),l.render.call(l,d,b,g),d.rebindPipeline(e)};o.exports=a},function(o,w){},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(966),l=a(401),l=a(401),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(192),l=a(9),i=function(c,j,g){this.x=c,this.y=j,this.width=g},b=function(c,j,g){this.points=[],this.pointsLength=1,this.points[0]=new i(c,j,g)},f=[],e=function(c,j,g,h,k){if(j.commandBuffer.length===0)return;var m=this.pipeline;c.setPipeline(m,j);var n=j._tempMatrix1,p=j._tempMatrix2,q=j._tempMatrix3;q.loadIdentity(),p.applyITRS(j.x,j.y,j.rotation,j.scaleX,j.scaleY),n.copyFrom(h.matrix),k?(n.multiplyWithOffset(k,-h.scrollX*j.scrollFactorX,-h.scrollY*j.scrollFactorY),p.e=j.x,p.f=j.y,n.multiply(p)):(p.e-=h.scrollX*j.scrollFactorX,p.f-=h.scrollY*j.scrollFactorY,n.multiply(p));for(var r=j.commandBuffer,s=h.alpha*j.alpha,t=1,u=m.fillTint,v=m.strokeTint,x=0,z=0,y=0,A=.01,D=Math.PI*2,F,H=[],I=0,N=!1,J=null,C=l.getTintAppendFloatAlphaAndSwap,B=c.blankTexture.glTexture,E=0;E<r.length;E++){F=r[E];switch(F){case d.BEGIN_PATH:H.length=0,J=null,N=!0;break;case d.CLOSE_PATH:N=!1,J&&J.points.length&&J.points.push(J.points[0]);break;case d.FILL_PATH:for(I=0;I<H.length;I++)m.setTexture2D(B),m.batchFillPath(H[I].points,q,n);break;case d.STROKE_PATH:for(I=0;I<H.length;I++)m.setTexture2D(B),m.batchStrokePath(H[I].points,t,N,q,n);break;case d.LINE_STYLE:t=r[++E];var K=r[++E],G=r[++E]*s,L=C(K,G);v.TL=L,v.TR=L,v.BL=L,v.BR=L;break;case d.FILL_STYLE:var M=r[++E],O=r[++E]*s,P=C(M,O);u.TL=P,u.TR=P,u.BL=P,u.BR=P;break;case d.GRADIENT_FILL_STYLE:var Q=r[++E]*s;u.TL=C(r[++E],Q),u.TR=C(r[++E],Q),u.BL=C(r[++E],Q),u.BR=C(r[++E],Q);break;case d.GRADIENT_LINE_STYLE:t=r[++E];var R=r[++E]*s;v.TL=C(r[++E],R),v.TR=C(r[++E],R),v.BL=C(r[++E],R),v.BR=C(r[++E],R);break;case d.ARC:var S=0,T=r[++E],U=r[++E],_=r[++E],Z=r[++E],X=r[++E],Y=r[++E],$=r[++E];for(X-=Z,Y?X<-D?X=-D:X>0&&(X=-D+X%D):X>D?X=D:X<0&&(X=D+X%D),J===null&&(J=new b(T+Math.cos(Z)*_,U+Math.sin(Z)*_,t),H.push(J),S+=A);S<1+$;)y=X*S+Z,x=T+Math.cos(y)*_,z=U+Math.sin(y)*_,J.points.push(new i(x,z,t)),S+=A;y=X+Z,x=T+Math.cos(y)*_,z=U+Math.sin(y)*_,J.points.push(new i(x,z,t));break;case d.FILL_RECT:m.setTexture2D(B),m.batchFillRect(r[++E],r[++E],r[++E],r[++E],q,n);break;case d.FILL_TRIANGLE:m.setTexture2D(B),m.batchFillTriangle(r[++E],r[++E],r[++E],r[++E],r[++E],r[++E],q,n);break;case d.STROKE_TRIANGLE:m.setTexture2D(B),m.batchStrokeTriangle(r[++E],r[++E],r[++E],r[++E],r[++E],r[++E],t,q,n);break;case d.LINE_TO:J!==null?J.points.push(new i(r[++E],r[++E],t)):(J=new b(r[++E],r[++E],t),H.push(J));break;case d.MOVE_TO:J=new b(r[++E],r[++E],t),H.push(J);break;case d.SAVE:f.push(q.copyToArray());break;case d.RESTORE:q.copyFromArray(f.pop());break;case d.TRANSLATE:T=r[++E],U=r[++E],q.translate(T,U);break;case d.SCALE:T=r[++E],U=r[++E],q.scale(T,U);break;case d.ROTATE:q.rotate(r[++E]);break;case d.SET_TEXTURE:var ba=r[++E],V=r[++E];m.currentFrame=ba,m.setTexture2D(ba.glTexture,0),m.tintEffect=V,B=ba.glTexture;break;case d.CLEAR_TEXTURE:m.currentFrame=c.blankTexture,m.tintEffect=2,B=c.blankTexture.glTexture;break}}};o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(968),l=a(969),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){this.pipeline.batchSprite(l,b,f)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){d.batchSprite(l,l.frame,b,f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(971),l=a(972),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){this.pipeline.batchSprite(l,b,f)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){d.batchSprite(l,l.frame,b,f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GravityWell:a(402),Particle:a(403),ParticleEmitter:a(404),ParticleEmitterManager:a(194),Zones:a(978)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(119),i=a(69),b=a(2),f=a(58),e=new d({initialize:function c(j,g,h,k){k===void 0&&(k=!1),this.propertyKey=g,this.propertyValue=h,this.defaultValue=h,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=k,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(j)},loadConfig:function(c,j){c===void 0&&(c={}),j&&(this.propertyKey=j),this.propertyValue=b(c,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(c){return this.propertyValue=c,this.setMethods()},setMethods:function(){var c=this.propertyValue,j=typeof c;if(j==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(c))this.onEmit=this.randomStaticValueEmit;else if(j==="function")this.emitOnly?this.onEmit=c:this.onUpdate=c;else if(j==="object"&&(this.has(c,"random")||this.hasBoth(c,"start","end")||this.hasBoth(c,"min","max"))){this.start=this.has(c,"start")?c.start:c.min,this.end=this.has(c,"end")?c.end:c.max;var g=this.hasBoth(c,"min","max")||!!c.random;if(g){var h=c.random;Array.isArray(h)&&(this.start=h[0],this.end=h[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(c,"steps"))this.steps=c.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var k=this.has(c,"ease")?c.ease:"Linear";this.ease=i(k),g||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else j==="object"&&this.hasEither(c,"onEmit","onUpdate")&&(this.has(c,"onEmit")&&(this.onEmit=c.onEmit),this.has(c,"onUpdate")&&(this.onUpdate=c.onUpdate));return this},has:function(c,j){return c.hasOwnProperty(j)},hasBoth:function(c,j,g){return c.hasOwnProperty(j)&&c.hasOwnProperty(g)},hasEither:function(c,j,g){return c.hasOwnProperty(j)||c.hasOwnProperty(g)},defaultEmit:function(c,j,g){return g},defaultUpdate:function(c,j,g,h){return h},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var c=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[c]},randomRangedValueEmit:function(c,j){var g=l(this.start,this.end);return c&&c.data[j]&&(c.data[j].min=g),g},steppedEmit:function(){var c=this.counter,j=this.counter+(this.end-this.start)/this.steps;return this.counter=f(j,this.start,this.end),c},easedValueEmit:function(c,j){if(c&&c.data[j]){var g=c.data[j];g.min=this.start,g.max=this.end}return this.start},easeValueUpdate:function(c,j,g){var h=c.data[j];return(h.max-h.min)*this.ease(g)+h.min}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(976),l=a(977),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=b.emitters.list,g=j.length;if(g===0)return;var h=this.pipeline,k=h._tempMatrix1.copyFrom(e.matrix),m=h._tempMatrix2,n=h._tempMatrix3,p=h._tempMatrix4.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY);k.multiply(p),i.setPipeline(h);var q=e.roundPixels,r=b.defaultFrame.glTexture,s=d.getTintAppendFloatAlphaAndSwap;h.setTexture2D(r,0);for(var t=0;t<g;t++){var u=j[t],v=u.alive,x=v.length;if(!u.visible||x===0)continue;var z=e.scrollX*u.scrollFactorX,y=e.scrollY*u.scrollFactorY;c&&(k.multiplyWithOffset(c,-z,-y),z=0,y=0),i.setBlendMode(u.blendMode)&&h.setTexture2D(r,0),u.mask&&(u.mask.preRenderWebGL(i,u,e),h.setTexture2D(r,0));for(var A=0,D=0;D<x;D++){var F=v[D],H=F.alpha*e.alpha;if(H<=0)continue;var I=F.frame,N=-I.halfWidth,J=-I.halfHeight,C=N+I.width,B=J+I.height;n.applyITRS(0,0,F.rotation,F.scaleX,F.scaleY),n.e=F.x-z,n.f=F.y-y,k.multiply(n,m);var E=m.getX(N,J),K=m.getY(N,J),G=m.getX(N,B),L=m.getY(N,B),M=m.getX(C,B),O=m.getY(C,B),P=m.getX(C,J),Q=m.getY(C,J);q&&(E=Math.round(E),K=Math.round(K),G=Math.round(G),L=Math.round(L),M=Math.round(M),O=Math.round(O),P=Math.round(P),Q=Math.round(Q));var R=s(F.tint,H);h.batchQuad(E,K,G,L,M,O,P,Q,I.u0,I.v0,I.u1,I.v1,R,R,R,R,A,r,0)}u.mask&&(u.mask.postRenderWebGL(i,e),h.setTexture2D(r,0))}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){var e=l.emitters.list,c=e.length;if(c===0)return;var j=d._tempMatrix1.copyFrom(b.matrix),g=d._tempMatrix2,h=d._tempMatrix3,k=d._tempMatrix4.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);j.multiply(k);var m=b.roundPixels,n=d.currentContext;n.save();for(var p=0;p<c;p++){var q=e[p],r=q.alive,s=r.length;if(!q.visible||s===0)continue;var t=b.scrollX*q.scrollFactorX,u=b.scrollY*q.scrollFactorY;f&&(j.multiplyWithOffset(f,-t,-u),t=0,u=0),n.globalCompositeOperation=d.blendModes[q.blendMode];for(var v=0;v<s;v++){var x=r[v],z=x.alpha*b.alpha;if(z<=0)continue;var y=x.frame,A=y.canvasData,D=-y.halfWidth,F=-y.halfHeight;h.applyITRS(0,0,x.rotation,x.scaleX,x.scaleY),h.e=x.x-t,h.f=x.y-u,j.multiply(h,g),n.globalAlpha=z,n.save(),g.copyToContext(n),m&&(D=Math.round(D),F=Math.round(F)),n.imageSmoothingEnabled=!(!d.antialias||y.source.scaleMode),n.drawImage(y.source.image,A.x,A.y,A.width,A.height,D,F,A.width,A.height),n.restore()}}n.restore()};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DeathZone:a(405),EdgeZone:a(406),RandomZone:a(408)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(980),l=a(981),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=b.frame,g=j.width,h=j.height,k=d.getTintAppendFloatAlpha;this.pipeline.batchTexture(b,j.glTexture,g,h,b.x,b.y,g,h,b.scaleX,b.scaleY,b.rotation,b.flipX,!b.flipY,b.scrollFactorX,b.scrollFactorY,b.displayOriginX,b.displayOriginY,0,0,g,h,k(b._tintTL,e.alpha*b._alphaTL),k(b._tintTR,e.alpha*b._alphaTR),k(b._tintBL,e.alpha*b._alphaBL),k(b._tintBR,e.alpha*b._alphaBR),b._isTinted&&b.tintFill,0,0,e,c),i.setBlankTexture(!0)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){d.batchSprite(l,l.frame,b,f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(983),l=a(18),i={Parse:a(984)};i=l(!1,i,d),o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(6),l=function(i,b){var f=b.width,e=b.height,c=Math.floor(f/2),j=Math.floor(e/2),g=d(b,"chars","");if(g==="")return;var h=d(b,"image",""),k=d(b,"offset.x",0),m=d(b,"offset.y",0),n=d(b,"spacing.x",0),p=d(b,"spacing.y",0),q=d(b,"lineSpacing",0),r=d(b,"charsPerRow",null);r===null&&(r=i.sys.textures.getFrame(h).width/f,r>g.length&&(r=g.length));for(var s=k,t=m,u={retroFont:!0,font:h,size:f,lineHeight:e+q,chars:{}},v=0,x=0;x<g.length;x++){var z=g.charCodeAt(x);u.chars[z]={x:s,y:t,width:f,height:e,centerX:c,centerY:j,xOffset:0,yOffset:0,xAdvance:f,data:{},kerning:{}},v++,v===r?(v=0,s=k,t+=e+p):s+=f+n}var y={data:u,frame:null,texture:h};return y};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(986),l=a(987),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=b.pipeline;i.setPipeline(j,b);var g=j._tempMatrix1,h=j._tempMatrix2,k=j._tempMatrix3;h.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(e.matrix),c?(g.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),h.e=b.x,h.f=b.y,g.multiply(h,k)):(h.e-=e.scrollX*b.scrollFactorX,h.f-=e.scrollY*b.scrollFactorY,g.multiply(h,k));var m=b.frame,n=m.glTexture,p=b.vertices,q=b.uv,r=b.colors,s=b.alphas,t=b.alpha,u=d.getTintAppendFloatAlphaAndSwap,v=e.roundPixels,x=p.length,z=Math.floor(x*.5);j.flush(),j.setTexture2D(n,0);var y=j.vertexViewF32,A=j.vertexViewU32,D=j.vertexCount*j.vertexComponentCount-1,F=0,H=b.tintFill;b.dirty&&b.updateVertices();for(var I=b.debugCallback,N=[],J=0;J<x;J+=2){var C=p[J+0],B=p[J+1],E=C*k.a+B*k.c+k.e,K=C*k.b+B*k.d+k.f;v&&(E=Math.round(E),K=Math.round(K)),y[++D]=E,y[++D]=K,y[++D]=q[J+0],y[++D]=q[J+1],y[++D]=H,A[++D]=u(r[F],e.alpha*(s[F]*t)),F++,I&&(N[J+0]=E,N[J+1]=K)}I&&I.call(b,b,x,N),j.vertexCount+=z};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(){};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=d.canvas,f=d.context,e=d.style,c=[],j=0,g=i.length;e.maxLines>0&&e.maxLines<i.length&&(g=e.maxLines),e.syncFont(b,f);for(var h=0;h<g;h++){var k=e.strokeThickness;k+=f.measureText(i[h]).width,e.wordWrap&&(k-=f.measureText(" ").width),c[h]=Math.ceil(k),j=Math.max(j,c[h])}var m=l.fontSize+e.strokeThickness,n=m*g,p=d.lineSpacing;return g>1&&(n+=p*(g-1)),{width:j,height:n,lines:g,lineWidths:c,lineSpacing:p,lineHeight:m}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(990),l=a(991),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){if(b.width===0||b.height===0)return;var j=b.frame,g=j.width,h=j.height,k=d.getTintAppendFloatAlpha;this.pipeline.batchTexture(b,j.glTexture,g,h,b.x,b.y,g/b.style.resolution,h/b.style.resolution,b.scaleX,b.scaleY,b.rotation,b.flipX,b.flipY,b.scrollFactorX,b.scrollFactorY,b.displayOriginX,b.displayOriginY,0,0,g,h,k(b._tintTL,e.alpha*b._alphaTL),k(b._tintTR,e.alpha*b._alphaTR),k(b._tintBL,e.alpha*b._alphaBL),k(b._tintBR,e.alpha*b._alphaBR),b._isTinted&&b.tintFill,0,0,e,c)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){if(l.width===0||l.height===0)return;d.batchSprite(l,l.frame,b,f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(15),i=a(6),b=a(993),f={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new d({initialize:function c(j,g){this.parent=j,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(g,!1,!0);var h=i(g,"metrics",!1);h?this.metrics={ascent:i(h,"ascent",0),descent:i(h,"descent",0),fontSize:i(h,"fontSize",0)}:this.metrics=b(this)},setStyle:function(c,j,g){j===void 0&&(j=!0),g===void 0&&(g=!1),c&&c.hasOwnProperty("fontSize")&&typeof c.fontSize==="number"&&(c.fontSize=c.fontSize.toString()+"px");for(var h in f){var k=g?f[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=i(c,f[h][0],k):this[h]=l(c,f[h][0],k)}var m=i(c,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var n=i(c,"fill",null);return n!==null&&(this.color=n),j?this.update(!0):this.parent},syncFont:function(c,j){j.font=this._font},syncStyle:function(c,j){j.textBaseline="alphabetic",j.fillStyle=this.color,j.strokeStyle=this.stroke,j.lineWidth=this.strokeThickness,j.lineCap="round",j.lineJoin="round"},syncShadow:function(c,j){j?(c.shadowOffsetX=this.shadowOffsetX,c.shadowOffsetY=this.shadowOffsetY,c.shadowColor=this.shadowColor,c.shadowBlur=this.shadowBlur):(c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowColor=0,c.shadowBlur=0)},update:function(c){return c&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=b(this)),this.parent.updateText()},setFont:function(c,j){j===void 0&&(j=!0);var g=c,h="",k="";if(typeof c!=="string")g=i(c,"fontFamily","Courier"),h=i(c,"fontSize","16px"),k=i(c,"fontStyle","");else{var m=c.split(" "),n=0;k=m.length>2?m[n++]:"",h=m[n++]||"16px",g=m[n++]||"Courier"}return(g!==this.fontFamily||h!==this.fontSize||k!==this.fontStyle)&&(this.fontFamily=g,this.fontSize=h,this.fontStyle=k,j&&this.update(!0)),this.parent},setFontFamily:function(c){return this.fontFamily!==c&&(this.fontFamily=c,this.update(!0)),this.parent},setFontStyle:function(c){return this.fontStyle!==c&&(this.fontStyle=c,this.update(!0)),this.parent},setFontSize:function(c){return typeof c==="number"&&(c=c.toString()+"px"),this.fontSize!==c&&(this.fontSize=c,this.update(!0)),this.parent},setTestString:function(c){return this.testString=c,this.update(!0)},setFixedSize:function(c,j){return this.fixedWidth=c,this.fixedHeight=j,c&&(this.parent.width=c),j&&(this.parent.height=j),this.update(!1)},setBackgroundColor:function(c){return this.backgroundColor=c,this.update(!1)},setFill:function(c){return this.color=c,this.update(!1)},setColor:function(c){return this.color=c,this.update(!1)},setResolution:function(c){return this.resolution=c,this.update(!1)},setStroke:function(c,j){return j===void 0&&(j=this.strokeThickness),c===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==c||this.strokeThickness!==j)&&(this.stroke=c,this.strokeThickness=j,this.update(!0)),this.parent},setShadow:function(c,j,g,h,k,m){return c===void 0&&(c=0),j===void 0&&(j=0),g===void 0&&(g="#000"),h===void 0&&(h=0),k===void 0&&(k=!1),m===void 0&&(m=!0),this.shadowOffsetX=c,this.shadowOffsetY=j,this.shadowColor=g,this.shadowBlur=h,this.shadowStroke=k,this.shadowFill=m,this.update(!1)},setShadowOffset:function(c,j){return c===void 0&&(c=0),j===void 0&&(j=c),this.shadowOffsetX=c,this.shadowOffsetY=j,this.update(!1)},setShadowColor:function(c){return c===void 0&&(c="#000"),this.shadowColor=c,this.update(!1)},setShadowBlur:function(c){return c===void 0&&(c=0),this.shadowBlur=c,this.update(!1)},setShadowStroke:function(c){return this.shadowStroke=c,this.update(!1)},setShadowFill:function(c){return this.shadowFill=c,this.update(!1)},setWordWrapWidth:function(c,j){return j===void 0&&(j=!1),this.wordWrapWidth=c,this.wordWrapUseAdvanced=j,this.update(!1)},setWordWrapCallback:function(c,j){return j===void 0&&(j=null),this.wordWrapCallback=c,this.wordWrapCallbackScope=j,this.update(!1)},setAlign:function(c){return c===void 0&&(c="left"),this.align=c,this.update(!1)},setMaxLines:function(c){return c===void 0&&(c=0),this.maxLines=c,this.update(!1)},getTextMetrics:function(){var c=this.metrics;return{ascent:c.ascent,descent:c.descent,fontSize:c.fontSize}},toJSON:function(){var c={};for(var j in f)c[j]=this[j];return c.metrics=this.getTextMetrics(),c},destroy:function(){this.parent=void 0}});o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(26),l=function(i){var b=d.create(this),f=b.getContext("2d");i.syncFont(b,f);var e=Math.ceil(f.measureText(i.testString).width*i.baselineX),c=e,j=2*c;c=c*i.baselineY|0,b.width=e,b.height=j,f.fillStyle="#f00",f.fillRect(0,0,e,j),f.font=i._font,f.textBaseline="alphabetic",f.fillStyle="#000",f.fillText(i.testString,0,c);var g={ascent:0,descent:0,fontSize:0};if(!f.getImageData(0,0,e,j))return g.ascent=c,g.descent=c+6,g.fontSize=g.ascent+g.descent,d.remove(b),g;var h=f.getImageData(0,0,e,j).data,k=h.length,m=e*4,n,p,q=0,r=!1;for(n=0;n<c;n++){for(p=0;p<m;p+=4)if(h[q+p]!==255){r=!0;break}if(!r)q+=m;else break}for(g.ascent=c-n,q=k-m,r=!1,n=j;n>c;n--){for(p=0;p<m;p+=4)if(h[q+p]!==255){r=!0;break}if(!r)q-=m;else break}return g.descent=n-c,g.fontSize=g.ascent+g.descent,d.remove(b),g};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(995),l=a(996),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){b.updateCanvas();var j=d.getTintAppendFloatAlpha;this.pipeline.batchTexture(b,b.fillPattern,b.displayFrame.width*b.tileScaleX,b.displayFrame.height*b.tileScaleY,b.x,b.y,b.width,b.height,b.scaleX,b.scaleY,b.rotation,b.flipX,b.flipY,b.scrollFactorX,b.scrollFactorY,b.originX*b.width,b.originY*b.height,0,0,b.width,b.height,j(b._tintTL,e.alpha*b._alphaTL),j(b._tintTR,e.alpha*b._alphaTR),j(b._tintBL,e.alpha*b._alphaBL),j(b._tintBR,e.alpha*b._alphaBR),b._isTinted&&b.tintFill,b.tilePositionX%b.displayFrame.width/b.displayFrame.width,b.tilePositionY%b.displayFrame.height/b.displayFrame.height,e,c)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){l.updateCanvas(),d.batchSprite(l,l.frame,b,f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(998),l=a(999),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){l.videoTexture&&this.pipeline.batchSprite(l,b,f)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){l.videoTexture&&d.batchSprite(l,l.frame,b,f)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1001),l=a(1002),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(98),l=a(70),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX,p=f._displayOriginY,q=c.alpha*f.alpha;f.isFilled&&d(g,m,f,q,n,p),f.isStroked&&l(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(39),l=a(41),i=a(49),b=a(28),f=function(e,c,j,g,h){var k=e.currentContext;if(b(e,k,c,g,h)){var m=c.radius;k.beginPath(),k.arc(m-c.originX*(m*2),m-c.originY*(m*2),m,d(c._startAngle),d(c._endAngle),c.anticlockwise),c.closePath&&k.closePath(),c.isFilled&&(l(k,c),k.fill()),c.isStroked&&(i(k,c),k.stroke()),k.restore()}};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1004),l=a(1005),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(98),l=a(70),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX+f._curveBounds.x,p=f._displayOriginY+f._curveBounds.y,q=c.alpha*f.alpha;f.isFilled&&d(g,m,f,q,n,p),f.isStroked&&l(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=e._displayOriginX+e._curveBounds.x,m=e._displayOriginY+e._curveBounds.y,n=e.pathData,p=n.length-1,q=n[0]-k,r=n[1]-m;h.beginPath(),h.moveTo(q,r),e.closePath||(p-=2);for(var s=2;s<p;s+=2){var t=n[s]-k,u=n[s+1]-m;h.lineTo(t,u)}e.closePath&&h.closePath(),e.isFilled&&(d(h,e),h.fill()),e.isStroked&&(l(h,e),h.stroke()),h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1007),l=a(1008),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(98),l=a(70),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX,p=f._displayOriginY,q=c.alpha*f.alpha;f.isFilled&&d(g,m,f,q,n,p),f.isStroked&&l(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=e._displayOriginX,m=e._displayOriginY,n=e.pathData,p=n.length-1,q=n[0]-k,r=n[1]-m;h.beginPath(),h.moveTo(q,r),e.closePath||(p-=2);for(var s=2;s<p;s+=2){var t=n[s]-k,u=n[s+1]-m;h.lineTo(t,u)}h.closePath(),e.isFilled&&(d(h,e),h.fill()),e.isStroked&&(l(h,e),h.stroke()),h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1010),l=a(1011),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=this.pipeline,g=j._tempMatrix1,h=j._tempMatrix2,k=j._tempMatrix3;i.setPipeline(j),h.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(e.matrix),c?(g.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),h.e=b.x,h.f=b.y):(h.e-=e.scrollX*b.scrollFactorX,h.f-=e.scrollY*b.scrollFactorY),g.multiply(h,k),k.translate(-b._displayOriginX,-b._displayOriginY);var m=e.alpha*b.alpha,n=b.width,p=b.height,q=b.cellWidth,r=b.cellHeight,s=Math.ceil(n/q),t=Math.ceil(p/r),u=q,v=r,x=q-(s*q-n),z=r-(t*r-p),y,A,D=b.showCells,F=b.showAltCells,H=b.showOutline,I=0,N=0,J=0,C=0,B=0;H&&(u--,v--,x===q&&x--,z===r&&z--);if(D&&b.fillAlpha>0)for(y=j.fillTint,A=d.getTintAppendFloatAlphaAndSwap(b.fillColor,b.fillAlpha*m),y.TL=A,y.TR=A,y.BL=A,y.BR=A,N=0;N<t;N++)for(F&&(J=N%2),I=0;I<s;I++){if(F&&J){J=0;continue}J++,C=I<s-1?u:x,B=N<t-1?v:z,j.setTexture2D(),j.batchFillRect(I*q,N*r,C,B)}if(F&&b.altFillAlpha>0)for(y=j.fillTint,A=d.getTintAppendFloatAlphaAndSwap(b.altFillColor,b.altFillAlpha*m),y.TL=A,y.TR=A,y.BL=A,y.BR=A,N=0;N<t;N++)for(F&&(J=N%2),I=0;I<s;I++){if(F&&!J){J=1;continue}J=0,C=I<s-1?u:x,B=N<t-1?v:z,j.setTexture2D(),j.batchFillRect(I*q,N*r,C,B)}if(H&&b.outlineFillAlpha>0){var E=j.strokeTint,K=d.getTintAppendFloatAlphaAndSwap(b.outlineFillColor,b.outlineFillAlpha*m);for(E.TL=K,E.TR=K,E.BL=K,E.BR=K,I=1;I<s;I++){var G=I*q;j.setTexture2D(),j.batchLine(G,0,G,p,1,1,1,0,!1)}for(N=1;N<t;N++){var L=N*r;j.setTexture2D(),j.batchLine(0,L,n,L,1,1,1,0,!1)}}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=-e._displayOriginX,m=-e._displayOriginY,n=j.alpha*e.alpha,p=e.width,q=e.height,r=e.cellWidth,s=e.cellHeight,t=Math.ceil(p/r),u=Math.ceil(q/s),v=r,x=s,z=r-(t*r-p),y=s-(u*s-q),A=e.showCells,D=e.showAltCells,F=e.showOutline,H=0,I=0,N=0,J=0,C=0;F&&(v--,x--,z===r&&z--,y===s&&y--);if(A&&e.fillAlpha>0)for(d(h,e),I=0;I<u;I++)for(D&&(N=I%2),H=0;H<t;H++){if(D&&N){N=0;continue}N++,J=H<t-1?v:z,C=I<u-1?x:y,h.fillRect(k+H*r,m+I*s,J,C)}if(D&&e.altFillAlpha>0)for(d(h,e,e.altFillColor,e.altFillAlpha*n),I=0;I<u;I++)for(D&&(N=I%2),H=0;H<t;H++){if(D&&!N){N=1;continue}N=0,J=H<t-1?v:z,C=I<u-1?x:y,h.fillRect(k+H*r,m+I*s,J,C)}if(F&&e.outlineFillAlpha>0){for(l(h,e,e.outlineFillColor,e.outlineFillAlpha*n),H=1;H<t;H++){var B=H*r;h.beginPath(),h.moveTo(B+k,m),h.lineTo(B+k,q+m),h.stroke()}for(I=1;I<u;I++){var E=I*s;h.beginPath(),h.moveTo(k,E+m),h.lineTo(k+p,E+m),h.stroke()}}h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1013),l=a(1014),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=this.pipeline,g=j._tempMatrix1,h=j._tempMatrix2,k=j._tempMatrix3;i.setPipeline(j),h.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(e.matrix),c?(g.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),h.e=b.x,h.f=b.y):(h.e-=e.scrollX*b.scrollFactorX,h.f-=e.scrollY*b.scrollFactorY),g.multiply(h,k);var m=b.width,n=b.height,p=m/2,q=m/b.projection,r=e.alpha*b.alpha;if(!b.isFilled)return;var s,t,u,v,x,z,y,A,D;b.showTop&&(s=d.getTintAppendFloatAlphaAndSwap(b.fillTop,r),t=k.getX(-p,-n),u=k.getY(-p,-n),v=k.getX(0,-q-n),x=k.getY(0,-q-n),z=k.getX(p,-n),y=k.getY(p,-n),A=k.getX(0,q-n),D=k.getY(0,q-n),j.setTexture2D(),j.batchQuad(t,u,v,x,z,y,A,D,0,0,1,1,s,s,s,s,2)),b.showLeft&&(s=d.getTintAppendFloatAlphaAndSwap(b.fillLeft,r),t=k.getX(-p,0),u=k.getY(-p,0),v=k.getX(0,q),x=k.getY(0,q),z=k.getX(0,q-n),y=k.getY(0,q-n),A=k.getX(-p,-n),D=k.getY(-p,-n),j.setTexture2D(),j.batchQuad(t,u,v,x,z,y,A,D,0,0,1,1,s,s,s,s,2)),b.showRight&&(s=d.getTintAppendFloatAlphaAndSwap(b.fillRight,r),t=k.getX(p,0),u=k.getY(p,0),v=k.getX(0,q),x=k.getY(0,q),z=k.getX(0,q-n),y=k.getY(0,q-n),A=k.getX(p,-n),D=k.getY(p,-n),j.setTexture2D(),j.batchQuad(t,u,v,x,z,y,A,D,0,0,1,1,s,s,s,s,2))};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(28),i=function(b,f,e,c,j){var g=b.currentContext;if(l(b,g,f,c,j)&&f.isFilled){var h=f.width,k=f.height,m=h/2,n=h/f.projection;f.showTop&&(d(g,f,f.fillTop),g.beginPath(),g.moveTo(-m,-k),g.lineTo(0,-n-k),g.lineTo(m,-k),g.lineTo(m,-1),g.lineTo(0,n-1),g.lineTo(-m,-1),g.lineTo(-m,-k),g.fill()),f.showLeft&&(d(g,f,f.fillLeft),g.beginPath(),g.moveTo(-m,0),g.lineTo(0,n),g.lineTo(0,n-k),g.lineTo(-m,-k),g.lineTo(-m,0),g.fill()),f.showRight&&(d(g,f,f.fillRight),g.beginPath(),g.moveTo(m,0),g.lineTo(0,n),g.lineTo(0,n-k),g.lineTo(m,-k),g.lineTo(m,0),g.fill()),g.restore()}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1016),l=a(1017),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=this.pipeline,g=j._tempMatrix1,h=j._tempMatrix2,k=j._tempMatrix3;i.setPipeline(j),h.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(e.matrix),c?(g.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),h.e=b.x,h.f=b.y):(h.e-=e.scrollX*b.scrollFactorX,h.f-=e.scrollY*b.scrollFactorY),g.multiply(h,k);var m=b.width,n=b.height,p=m/2,q=m/b.projection,r=b.isReversed,s=e.alpha*b.alpha;if(!b.isFilled)return;var t,u,v,x,z,y,A;if(b.showTop&&r){t=d.getTintAppendFloatAlphaAndSwap(b.fillTop,s),u=k.getX(-p,-n),v=k.getY(-p,-n),x=k.getX(0,-q-n),z=k.getY(0,-q-n),y=k.getX(p,-n),A=k.getY(p,-n);var D=k.getX(0,q-n),F=k.getY(0,q-n);j.setTexture2D(),j.batchQuad(u,v,x,z,y,A,D,F,0,0,1,1,t,t,t,t,2)}b.showLeft&&(t=d.getTintAppendFloatAlphaAndSwap(b.fillLeft,s),r?(u=k.getX(-p,-n),v=k.getY(-p,-n),x=k.getX(0,q),z=k.getY(0,q),y=k.getX(0,q-n),A=k.getY(0,q-n)):(u=k.getX(-p,0),v=k.getY(-p,0),x=k.getX(0,q),z=k.getY(0,q),y=k.getX(0,q-n),A=k.getY(0,q-n)),j.setTexture2D(),j.batchTri(u,v,x,z,y,A,0,0,1,1,t,t,t,2)),b.showRight&&(t=d.getTintAppendFloatAlphaAndSwap(b.fillRight,s),r?(u=k.getX(p,-n),v=k.getY(p,-n),x=k.getX(0,q),z=k.getY(0,q),y=k.getX(0,q-n),A=k.getY(0,q-n)):(u=k.getX(p,0),v=k.getY(p,0),x=k.getX(0,q),z=k.getY(0,q),y=k.getX(0,q-n),A=k.getY(0,q-n)),j.setTexture2D(),j.batchTri(u,v,x,z,y,A,0,0,1,1,t,t,t,2))};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(28),i=function(b,f,e,c,j){var g=b.currentContext;if(l(b,g,f,c,j)&&f.isFilled){var h=f.width,k=f.height,m=h/2,n=h/f.projection,p=f.isReversed;f.showTop&&p&&(d(g,f,f.fillTop),g.beginPath(),g.moveTo(-m,-k),g.lineTo(0,-n-k),g.lineTo(m,-k),g.lineTo(0,n-k),g.fill()),f.showLeft&&(d(g,f,f.fillLeft),g.beginPath(),p?(g.moveTo(-m,-k),g.lineTo(0,n),g.lineTo(0,n-k)):(g.moveTo(-m,0),g.lineTo(0,n),g.lineTo(0,n-k)),g.fill()),f.showRight&&(d(g,f,f.fillRight),g.beginPath(),p?(g.moveTo(m,-k),g.lineTo(0,n),g.lineTo(0,n-k)):(g.moveTo(m,0),g.lineTo(0,n),g.lineTo(0,n-k)),g.fill()),g.restore()}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1019),l=a(1020),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=this.pipeline,g=j._tempMatrix1,h=j._tempMatrix2;i.setPipeline(j),h.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(e.matrix),c?(g.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),h.e=b.x,h.f=b.y):(h.e-=e.scrollX*b.scrollFactorX,h.f-=e.scrollY*b.scrollFactorY);var k=b._displayOriginX,m=b._displayOriginY,n=e.alpha*b.alpha;if(b.isStroked){var p=j.strokeTint,q=d.getTintAppendFloatAlphaAndSwap(b.strokeColor,b.strokeAlpha*n);p.TL=q,p.TR=q,p.BL=q,p.BR=q;var r=b._startWidth,s=b._endWidth;j.setTexture2D(),j.batchLine(b.geom.x1-k,b.geom.y1-m,b.geom.x2-k,b.geom.y2-m,r,s,1,0,!1,h,g)}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(49),l=a(28),i=function(b,f,e,c,j){var g=b.currentContext;if(l(b,g,f,c,j)){var h=f._displayOriginX,k=f._displayOriginY;f.isStroked&&(d(g,f),g.beginPath(),g.moveTo(f.geom.x1-h,f.geom.y1-k),g.lineTo(f.geom.x2-h,f.geom.y2-k),g.stroke()),g.restore()}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1022),l=a(1023),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(98),l=a(70),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX,p=f._displayOriginY,q=c.alpha*f.alpha;f.isFilled&&d(g,m,f,q,n,p),f.isStroked&&l(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=e._displayOriginX,m=e._displayOriginY,n=e.pathData,p=n.length-1,q=n[0]-k,r=n[1]-m;h.beginPath(),h.moveTo(q,r),e.closePath||(p-=2);for(var s=2;s<p;s+=2){var t=n[s]-k,u=n[s+1]-m;h.lineTo(t,u)}h.closePath(),e.isFilled&&(d(h,e),h.fill()),e.isStroked&&(l(h,e),h.stroke()),h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1025),l=a(1026),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(70),l=a(9),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX,p=f._displayOriginY,q=c.alpha*f.alpha;if(f.isFilled){var r=g.fillTint,s=l.getTintAppendFloatAlphaAndSwap(f.fillColor,f.fillAlpha*q);r.TL=s,r.TR=s,r.BL=s,r.BR=s,g.setTexture2D(),g.batchFillRect(-n,-p,f.width,f.height)}f.isStroked&&d(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=e._displayOriginX,m=e._displayOriginY;e.isFilled&&(d(h,e),h.fillRect(-k,-m,e.width,e.height)),e.isStroked&&(l(h,e),h.beginPath(),h.rect(-k,-m,e.width,e.height),h.stroke()),h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1028),l=a(1029),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(98),l=a(70),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX,p=f._displayOriginY,q=c.alpha*f.alpha;f.isFilled&&d(g,m,f,q,n,p),f.isStroked&&l(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=e._displayOriginX,m=e._displayOriginY,n=e.pathData,p=n.length-1,q=n[0]-k,r=n[1]-m;h.beginPath(),h.moveTo(q,r),e.closePath||(p-=2);for(var s=2;s<p;s+=2){var t=n[s]-k,u=n[s+1]-m;h.lineTo(t,u)}h.closePath(),e.isFilled&&(d(h,e),h.fill()),e.isStroked&&(l(h,e),h.stroke()),h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1031),l=a(1032),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(70),l=a(9),i=function(b,f,e,c,j){var g=this.pipeline,h=g._tempMatrix1,k=g._tempMatrix2,m=g._tempMatrix3;b.setPipeline(g),k.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),h.copyFrom(c.matrix),j?(h.multiplyWithOffset(j,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),k.e=f.x,k.f=f.y):(k.e-=c.scrollX*f.scrollFactorX,k.f-=c.scrollY*f.scrollFactorY),h.multiply(k,m);var n=f._displayOriginX,p=f._displayOriginY,q=c.alpha*f.alpha;if(f.isFilled){var r=g.fillTint,s=l.getTintAppendFloatAlphaAndSwap(f.fillColor,f.fillAlpha*q);r.TL=s,r.TR=s,r.BL=s,r.BR=s;var t=f.geom.x1-n,u=f.geom.y1-p,v=f.geom.x2-n,x=f.geom.y2-p,z=f.geom.x3-n,y=f.geom.y3-p;g.setTexture2D(),g.batchFillTriangle(t,u,v,x,z,y,k,h)}f.isStroked&&d(g,f,q,n,p)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(41),l=a(49),i=a(28),b=function(f,e,c,j,g){var h=f.currentContext;if(i(f,h,e,j,g)){var k=e._displayOriginX,m=e._displayOriginY,n=e.geom.x1-k,p=e.geom.y1-m,q=e.geom.x2-k,r=e.geom.y2-m,s=e.geom.x3-k,t=e.geom.y3-m;h.beginPath(),h.moveTo(n,p),h.lineTo(q,r),h.lineTo(s,t),h.closePath(),e.isFilled&&(d(h,e),h.fill()),e.isStroked&&(l(h,e),h.stroke()),h.restore()}};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(188),l=a(5);l.register("blitter",function(i,b,f,e){return this.displayList.add(new d(this.scene,i,b,f,e))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(189),l=a(5);l.register("container",function(i,b,f){return this.displayList.add(new d(this.scene,i,b,f))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(395),l=a(5);l.register("dom",function(i,b,f,e,c){var j=new d(this.scene,i,b,f,e,c);return this.displayList.add(j),this.updateList.add(j),j})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(190),l=a(5);l.register("dynamicBitmapText",function(i,b,f,e,c){return this.displayList.add(new d(this.scene,i,b,f,e,c))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(397),l=a(5);l.register("extern",function(){var i=new d(this.scene);return this.displayList.add(i),this.updateList.add(i),i})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(191),l=a(5);l.register("graphics",function(i){return this.displayList.add(new d(this.scene,i))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(97),l=a(5);l.register("group",function(i,b){return this.updateList.add(new d(this.scene,i,b))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(107),l=a(5);l.register("image",function(i,b,f,e){return this.displayList.add(new d(this.scene,i,b,f,e))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(194);d.register("particles",function(i,b,f){var e=new l(this.scene,i,b,f);return this.displayList.add(e),this.updateList.add(e),e})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(409);d.register("follower",function(i,b,f,e,c){var j=new l(this.scene,i,b,f,e,c);return this.displayList.add(j),this.updateList.add(j),j})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(195);d.register("renderTexture",function(i,b,f,e,c,j){return this.displayList.add(new l(this.scene,i,b,f,e,c,j))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(197),l=a(5);l.register("rope",function(i,b,f,e,c,j,g,h){var k=new d(this.scene,i,b,f,e,c,j,g,h);return this.displayList.add(k),this.updateList.add(k)})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(75);d.register("sprite",function(i,b,f,e){var c=new l(this.scene,i,b,f,e);return this.displayList.add(c),this.updateList.add(c),c})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(132),l=a(5);l.register("bitmapText",function(i,b,f,e,c,j){return this.displayList.add(new d(this.scene,i,b,f,e,c,j))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(198),l=a(5);l.register("text",function(i,b,f,e){return this.displayList.add(new d(this.scene,i,b,f,e))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(199),l=a(5);l.register("tileSprite",function(i,b,f,e,c,j){return this.displayList.add(new d(this.scene,i,b,f,e,c,j))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(110),l=a(5);l.register("zone",function(i,b,f,e){return this.displayList.add(new d(this.scene,i,b,f,e))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(200),l=a(5);l.register("video",function(i,b,f){var e=new d(this.scene,i,b,f);return this.displayList.add(e),this.updateList.add(e),e})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(410),l=a(5);l.register("arc",function(i,b,f,e,c,j,g,h){return this.displayList.add(new d(this.scene,i,b,f,e,c,j,g,h))}),l.register("circle",function(i,b,f,e,c){return this.displayList.add(new d(this.scene,i,b,f,0,360,!1,e,c))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(411);d.register("curve",function(i,b,f,e,c){return this.displayList.add(new l(this.scene,i,b,f,e,c))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(412),l=a(5);l.register("ellipse",function(i,b,f,e,c,j){return this.displayList.add(new d(this.scene,i,b,f,e,c,j))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(413);d.register("grid",function(i,b,f,e,c,j,g,h,k,m){return this.displayList.add(new l(this.scene,i,b,f,e,c,j,g,h,k,m))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(414);d.register("isobox",function(i,b,f,e,c,j,g){return this.displayList.add(new l(this.scene,i,b,f,e,c,j,g))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(415);d.register("isotriangle",function(i,b,f,e,c,j,g,h){return this.displayList.add(new l(this.scene,i,b,f,e,c,j,g,h))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(416);d.register("line",function(i,b,f,e,c,j,g,h){return this.displayList.add(new l(this.scene,i,b,f,e,c,j,g,h))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(417);d.register("polygon",function(i,b,f,e,c){return this.displayList.add(new l(this.scene,i,b,f,e,c))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(422);d.register("rectangle",function(i,b,f,e,c,j){return this.displayList.add(new l(this.scene,i,b,f,e,c,j))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(423),l=a(5);l.register("star",function(i,b,f,e,c,j,g){return this.displayList.add(new d(this.scene,i,b,f,e,c,j,g))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(424);d.register("triangle",function(i,b,f,e,c,j,g,h,k,m){return this.displayList.add(new l(this.scene,i,b,f,e,c,j,g,h,k,m))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(188),l=a(27),i=a(16),b=a(15);i.register("blitter",function(f,e){f===void 0&&(f={});var c=b(f,"key",null),j=b(f,"frame",null),g=new d(this.scene,0,0,c,j);return e!==void 0&&(f.add=e),l(this.scene,g,f),g})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(189),i=a(16),b=a(15);i.register("container",function(f,e){f===void 0&&(f={});var c=b(f,"x",0),j=b(f,"y",0),g=new l(this.scene,c,j);return e!==void 0&&(f.add=e),d(this.scene,g,f),g})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(190),l=a(27),i=a(16),b=a(15);i.register("dynamicBitmapText",function(f,e){f===void 0&&(f={});var c=b(f,"font",""),j=b(f,"text",""),g=b(f,"size",!1),h=new d(this.scene,0,0,c,j,g);return e!==void 0&&(f.add=e),l(this.scene,h,f),h})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(16),l=a(191);d.register("graphics",function(i,b){i===void 0&&(i={}),b!==void 0&&(i.add=b);var f=new l(this.scene,i);return i.add&&this.scene.sys.displayList.add(f),f})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(16),l=a(97);d.register("group",function(i){return new l(this.scene,null,i)})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(107);l.register("image",function(f,e){f===void 0&&(f={});var c=i(f,"key",null),j=i(f,"frame",null),g=new b(this.scene,0,0,c,j);return e!==void 0&&(f.add=e),d(this.scene,g,f),g})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(16),l=a(15),i=a(2),b=a(194);d.register("particles",function(f,e){f===void 0&&(f={});var c=l(f,"key",null),j=l(f,"frame",null),g=i(f,"emitters",null),h=new b(this.scene,c,j,g);e!==void 0&&(f.add=e);var k=i(f,"add",!1);return k&&this.displayList.add(h),this.updateList.add(h),h})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(195);l.register("renderTexture",function(f,e){f===void 0&&(f={});var c=i(f,"x",0),j=i(f,"y",0),g=i(f,"width",32),h=i(f,"height",32),k=i(f,"key",void 0),m=i(f,"frame",void 0),n=new b(this.scene,c,j,g,h,k,m);return e!==void 0&&(f.add=e),d(this.scene,n,f),n})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(6),f=a(197);l.register("rope",function(e,c){e===void 0&&(e={});var j=i(e,"key",null),g=i(e,"frame",null),h=i(e,"horizontal",!0),k=b(e,"points",void 0),m=b(e,"colors",void 0),n=b(e,"alphas",void 0),p=new f(this.scene,0,0,j,g,k,h,m,n);return c!==void 0&&(e.add=c),d(this.scene,p,e),p})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(393),i=a(16),b=a(15),f=a(75);i.register("sprite",function(e,c){e===void 0&&(e={});var j=b(e,"key",null),g=b(e,"frame",null),h=new f(this.scene,0,0,j,g);return c!==void 0&&(e.add=c),d(this.scene,h,e),l(h,e),h})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(132),l=a(27),i=a(16),b=a(15),f=a(6);i.register("bitmapText",function(e,c){e===void 0&&(e={});var j=f(e,"font",""),g=b(e,"text",""),h=b(e,"size",!1),k=f(e,"align",0),m=new d(this.scene,0,0,j,g,h,k);return c!==void 0&&(e.add=c),l(this.scene,m,e),m})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(198);l.register("text",function(f,e){f===void 0&&(f={});var c=i(f,"text",""),j=i(f,"style",null),g=i(f,"padding",null);g!==null&&(j.padding=g);var h=new b(this.scene,0,0,c,j);return e!==void 0&&(f.add=e),d(this.scene,h,f),h.autoRound=i(f,"autoRound",!0),h.resolution=i(f,"resolution",1),h})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(199);l.register("tileSprite",function(f,e){f===void 0&&(f={});var c=i(f,"x",0),j=i(f,"y",0),g=i(f,"width",512),h=i(f,"height",512),k=i(f,"key",""),m=i(f,"frame",""),n=new b(this.scene,c,j,g,h,k,m);return e!==void 0&&(f.add=e),d(this.scene,n,f),n})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(16),l=a(15),i=a(110);d.register("zone",function(b){var f=l(b,"x",0),e=l(b,"y",0),c=l(b,"width",1),j=l(b,"height",c);return new i(this.scene,f,e,c,j)})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(200);l.register("video",function(f,e){f===void 0&&(f={});var c=i(f,"key",null),j=new b(this.scene,0,0,c);return e!==void 0&&(f.add=e),d(this.scene,j,f),j})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1078),l=a(1079),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e,c){var j=this.pipeline;i.setPipeline(j,b);var g=j._tempMatrix1,h=j._tempMatrix2,k=j._tempMatrix3;h.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(e.matrix),c?(g.multiplyWithOffset(c,-e.scrollX*b.scrollFactorX,-e.scrollY*b.scrollFactorY),h.e=b.x,h.f=b.y,g.multiply(h,k)):(h.e-=e.scrollX*b.scrollFactorX,h.f-=e.scrollY*b.scrollFactorY,g.multiply(h,k));var m=b.frame,n=m.glTexture,p=b.vertices,q=b.uv,r=b.colors,s=b.alphas,t=p.length,u=Math.floor(t*.5);j.vertexCount+u>j.vertexCapacity&&j.flush(),j.setTexture2D(n,0);for(var v=j.vertexViewF32,x=j.vertexViewU32,z=j.vertexCount*j.vertexComponentCount-1,y=0,A=b.tintFill,D=0;D<t;D+=2){var F=p[D+0],H=p[D+1],I=F*k.a+H*k.c+k.e,N=F*k.b+H*k.d+k.f;e.roundPixels&&(I=Math.round(I),N=Math.round(N)),v[++z]=I,v[++z]=N,v[++z]=q[D+0],v[++z]=q[D+1],v[++z]=A,x[++z]=d.getTintAppendFloatAlpha(r[y],e.alpha*s[y]),y++}j.vertexCount+=u};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(){};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1081),l=a(1082),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){if(!l.shader)return;var e=d.currentPipeline;d.clearPipeline();if(l.renderToTexture)l.load(),l.flush();else{var c=l._tempMatrix1,j=l._tempMatrix2,g=l._tempMatrix3;j.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),c.copyFrom(b.matrix),f?(c.multiplyWithOffset(f,-b.scrollX*l.scrollFactorX,-b.scrollY*l.scrollFactorY),j.e=l.x,j.f=l.y):(j.e-=b.scrollX*l.scrollFactorX,j.f-=b.scrollY*l.scrollFactorY),c.multiply(j,g),(d.width!==l._rendererWidth||d.height!==l._rendererHeight)&&l.projOrtho(0,d.width,d.height,0),l.load(g.matrix),l.flush()}d.rebindPipeline(e)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(){};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(134),l=a(5);l.register("mesh",function(i,b,f,e,c,j,g,h){return this.displayList.add(new d(this.scene,i,b,f,e,c,j,g,h))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(203),l=a(5);l.register("quad",function(i,b,f,e){return this.displayList.add(new d(this.scene,i,b,f,e))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(204),l=a(5);l.register("shader",function(i,b,f,e,c,j,g){return this.displayList.add(new d(this.scene,i,b,f,e,c,j,g))})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(6),f=a(134);l.register("mesh",function(e,c){e===void 0&&(e={});var j=i(e,"key",null),g=i(e,"frame",null),h=b(e,"vertices",[]),k=b(e,"colors",[]),m=b(e,"alphas",[]),n=b(e,"uv",[]),p=new f(this.scene,0,0,h,n,k,m,j,g);return c!==void 0&&(e.add=c),d(this.scene,p,e),p})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(203);l.register("quad",function(f,e){f===void 0&&(f={});var c=i(f,"x",0),j=i(f,"y",0),g=i(f,"key",null),h=i(f,"frame",null),k=new b(this.scene,c,j,g,h);return e!==void 0&&(f.add=e),d(this.scene,k,f),k})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(27),l=a(16),i=a(15),b=a(204);l.register("shader",function(f,e){f===void 0&&(f={});var c=i(f,"key",null),j=i(f,"x",0),g=i(f,"y",0),h=i(f,"width",128),k=i(f,"height",128),m=new b(this.scene,c,j,g,h,k);return e!==void 0&&(f.add=e),d(this.scene,m,f),m})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(429),i=a(23),b=a(22),f=new d({Extends:l,initialize:function e(c){this.scene=c,this.systems=c.sys,c.sys.settings.isBooted||c.sys.events.once(b.BOOT,this.boot,this),l.call(this)},boot:function(){var e=this.systems.events;e.on(b.SHUTDOWN,this.shutdown,this),e.on(b.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});i.register("LightsPlugin",f,"lights"),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(65);d.Area=a(1091),d.Circumference=a(268),d.CircumferencePoint=a(149),d.Clone=a(1092),d.Contains=a(55),d.ContainsPoint=a(1093),d.ContainsRect=a(1094),d.CopyFrom=a(1095),d.Equals=a(1096),d.GetBounds=a(1097),d.GetPoint=a(266),d.GetPoints=a(267),d.Offset=a(1098),d.OffsetPoint=a(1099),d.Random=a(150),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.radius>0?Math.PI*d.radius*d.radius:0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(65),l=function(i){return new d(i.x,i.y,i.radius)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(55),l=function(i,b){return d(i,b.x,b.y)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(55),l=function(i,b){return d(i,b.x,b.y)&&d(i,b.right,b.y)&&d(i,b.x,b.bottom)&&d(i,b.right,b.bottom)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.setTo(d.x,d.y,d.radius)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x===l.x&&d.y===l.y&&d.radius===l.radius};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i,b){return b===void 0&&(b=new d()),b.x=i.left,b.y=i.top,b.width=i.diameter,b.height=i.diameter,b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.x+=l,d.y+=i,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x+=l.x,d.y+=l.y,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(95);d.Area=a(1101),d.Circumference=a(400),d.CircumferencePoint=a(193),d.Clone=a(1102),d.Contains=a(96),d.ContainsPoint=a(1103),d.ContainsRect=a(1104),d.CopyFrom=a(1105),d.Equals=a(1106),d.GetBounds=a(1107),d.GetPoint=a(398),d.GetPoints=a(399),d.Offset=a(1108),d.OffsetPoint=a(1109),d.Random=a(157),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.isEmpty()?0:d.getMajorRadius()*d.getMinorRadius()*Math.PI};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(95),l=function(i){return new d(i.x,i.y,i.width,i.height)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(96),l=function(i,b){return d(i,b.x,b.y)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(96),l=function(i,b){return d(i,b.x,b.y)&&d(i,b.right,b.y)&&d(i,b.x,b.bottom)&&d(i,b.right,b.bottom)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.setTo(d.x,d.y,d.width,d.height)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x===l.x&&d.y===l.y&&d.width===l.width&&d.height===l.height};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i,b){return b===void 0&&(b=new d()),b.x=i.left,b.y=i.top,b.width=i.width,b.height=i.height,b};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.x+=l,d.y+=i,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x+=l.x,d.y+=l.y,d};o.exports=a},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(205),i=function(b,f,e){e===void 0&&(e=[]);if(l(b,f)){var c=b.x,j=b.y,g=b.radius,h=f.x,k=f.y,m=f.radius,n,p,q,r,s;if(j===k)s=(m*m-g*g-h*h+c*c)/(2*(c-h)),n=1,p=-2*k,q=h*h+s*s-2*h*s+k*k-m*m,r=p*p-4*n*q,r===0?e.push(new d(s,-p/(2*n))):r>0&&(e.push(new d(s,(-p+Math.sqrt(r))/(2*n))),e.push(new d(s,(-p-Math.sqrt(r))/(2*n))));else{var t=(c-h)/(j-k),u=(m*m-g*g-h*h+c*c-k*k+j*j)/(2*(j-k));n=t*t+1,p=2*j*t-2*u*t-2*c,q=c*c+j*j+u*u-g*g-2*j*u,r=p*p-4*n*q,r===0?(s=-p/(2*n),e.push(new d(s,u-s*t))):r>0&&(s=(-p+Math.sqrt(r))/(2*n),e.push(new d(s,u-s*t)),s=(-p-Math.sqrt(r))/(2*n),e.push(new d(s,u-s*t)))}}return e};o.exports=i},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(207),l=a(206),i=function(b,f,e){e===void 0&&(e=[]);if(l(b,f)){var c=f.getLineA(),j=f.getLineB(),g=f.getLineC(),h=f.getLineD();d(c,b,e),d(j,b,e),d(g,b,e),d(h,b,e)}return e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=a(135),i=function(b,f,e){return e===void 0&&(e=new d()),l(b,f)&&(e.x=Math.max(b.x,f.x),e.y=Math.max(b.y,f.y),e.width=Math.min(b.right,f.right)-e.x,e.height=Math.min(b.bottom,f.bottom)-e.y),e};o.exports=i},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(209),l=a(135),i=function(b,f,e){e===void 0&&(e=[]);if(l(b,f)){var c=b.getLineA(),j=b.getLineB(),g=b.getLineC(),h=b.getLineD();d(c,f,e),d(j,f,e),d(g,f,e),d(h,f,e)}return e};o.exports=i},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(433),l=a(209),i=function(b,f,e){e===void 0&&(e=[]);if(d(b,f)){var c=f.getLineA(),j=f.getLineB(),g=f.getLineC();l(c,b,e),l(j,b,e),l(g,b,e)}return e};o.exports=i},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(207),l=a(435),i=function(b,f,e){e===void 0&&(e=[]);if(l(b,f)){var c=b.getLineA(),j=b.getLineB(),g=b.getLineC();d(c,f,e),d(j,f,e),d(g,f,e)}return e};o.exports=i},function(o,w,a){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(438),l=a(436),i=function(b,f,e){e===void 0&&(e=[]);if(d(b,f)){var c=f.getLineA(),j=f.getLineB(),g=f.getLineC();l(b,c,e),l(b,j,e),l(b,g,e)}return e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(440),l=function(i,b){if(!d(i,b))return!1;var f=Math.min(b.x1,b.x2),e=Math.max(b.x1,b.x2),c=Math.min(b.y1,b.y2),j=Math.max(b.y1,b.y2);return i.x>=f&&i.x<=e&&(i.y>=c&&i.y<=j)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f,e){return e===void 0&&(e=0),!(l>d.right+e||i<d.left-e||b>d.bottom+e||f<d.top-e)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(56);d.Angle=a(85),d.BresenhamPoints=a(288),d.CenterOn=a(1120),d.Clone=a(1121),d.CopyFrom=a(1122),d.Equals=a(1123),d.Extend=a(1124),d.GetEasedPoints=a(1125),d.GetMidPoint=a(1126),d.GetNearestPoint=a(1127),d.GetNormal=a(1128),d.GetPoint=a(275),d.GetPoints=a(153),d.GetShortestDistance=a(1129),d.Height=a(1130),d.Length=a(57),d.NormalAngle=a(441),d.NormalX=a(1131),d.NormalY=a(1132),d.Offset=a(1133),d.PerpSlope=a(1134),d.Random=a(154),d.ReflectAngle=a(1135),d.Rotate=a(1136),d.RotateAroundPoint=a(1137),d.RotateAroundXY=a(211),d.SetToAngle=a(1138),d.Slope=a(1139),d.Width=a(1140),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=l-(d.x1+d.x2)/2,f=i-(d.y1+d.y2)/2;return d.x1+=b,d.y1+=f,d.x2+=b,d.y2+=f,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(56),l=function(i){return new d(i.x1,i.y1,i.x2,i.y2)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.setTo(d.x1,d.y1,d.x2,d.y2)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x1===l.x1&&d.y1===l.y1&&d.x2===l.x2&&d.y2===l.y2};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(57),l=function(i,b,f){f===void 0&&(f=b);var e=d(i),c=i.x2-i.x1,j=i.y2-i.y1;return b&&(i.x1=i.x1-c/e*b,i.y1=i.y1-j/e*b),f&&(i.x2=i.x2+c/e*f,i.y2=i.y2+j/e*f),i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(320),l=a(69),i=a(4),b=function(f,e,c,j,g){j===void 0&&(j=0),g===void 0&&(g=[]);var h=[],k=f.x1,m=f.y1,n=f.x2-k,p=f.y2-m,q=l(e,g),r,s,t=c-1;for(r=0;r<t;r++)s=q(r/t),h.push(new i(k+n*s,m+p*s));s=q(1),h.push(new i(k+n*s,m+p*s));if(j>0){var u=h[0],v=[u];for(r=1;r<h.length-1;r++){var x=h[r];d(u,x)>=j&&(v.push(x),u=x)}var z=h[h.length-1];return d(u,z)<j&&v.pop(),v.push(z),v}else return h};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){return b===void 0&&(b=new d()),b.x=(i.x1+i.x2)/2,b.y=(i.y1+i.y2)/2,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f){f===void 0&&(f=new d());var e=i.x1,c=i.y1,j=i.x2,g=i.y2,h=(j-e)*(j-e)+(g-c)*(g-c);if(h===0)return f;var k=((b.x-e)*(j-e)+(b.y-c)*(g-c))/h;return f.x=e+k*(j-e),f.y=c+k*(g-c),f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=a(85),i=a(4),b=function(f,e){e===void 0&&(e=new i());var c=l(f)-d.TAU;return e.x=Math.cos(c),e.y=Math.sin(c),e};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=d.x1,b=d.y1,f=d.x2,e=d.y2,c=(f-i)*(f-i)+(e-b)*(e-b);if(c===0)return!1;var j=((b-l.y)*(f-i)-(i-l.x)*(e-b))/c;return Math.abs(j)*Math.sqrt(c)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.abs(d.y1-d.y2)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=a(85),i=function(b){return Math.cos(l(b)-d.TAU)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(13),l=a(85),i=function(b){return Math.sin(l(b)-d.TAU)};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.x1+=l,d.y1+=i,d.x2+=l,d.y2+=i,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return-((d.x2-d.x1)/(d.y2-d.y1))};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(85),l=a(441),i=function(b,f){return 2*l(f)-Math.PI-d(b)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(211),l=function(i,b){var f=(i.x1+i.x2)/2,e=(i.y1+i.y2)/2;return d(i,f,e,b)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(211),l=function(i,b,f){return d(i,b.x,b.y,f)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){return d.x1=l,d.y1=i,d.x2=l+Math.cos(b)*f,d.y2=i+Math.sin(b)*f,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return(d.y2-d.y1)/(d.x2-d.x1)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return Math.abs(d.x1-d.x2)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4);d.Ceil=a(1142),d.Clone=a(1143),d.CopyFrom=a(1144),d.Equals=a(1145),d.Floor=a(1146),d.GetCentroid=a(1147),d.GetMagnitude=a(442),d.GetMagnitudeSq=a(443),d.GetRectangleFromPoints=a(1148),d.Interpolate=a(1149),d.Invert=a(1150),d.Negative=a(1151),d.Project=a(1152),d.ProjectUnit=a(1153),d.SetMagnitude=a(1154),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.setTo(Math.ceil(d.x),Math.ceil(d.y))};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i){return new d(i.x,i.y)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.setTo(d.x,d.y)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x===l.x&&d.y===l.y};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.setTo(Math.floor(d.x),Math.floor(d.y))};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){b===void 0&&(b=new d());if(!Array.isArray(i))throw new Error("GetCentroid points argument must be an array");var f=i.length;if(f<1)throw new Error("GetCentroid points array must not be empty");if(f===1)b.x=i[0].x,b.y=i[0].y;else{for(var e=0;e<f;e++)b.x+=i[e].x,b.y+=i[e].y;b.x/=f,b.y/=f}return b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i,b){b===void 0&&(b=new d());for(var f=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY,g=0;g<i.length;g++){var h=i[g];h.x>f&&(f=h.x),h.x<e&&(e=h.x),h.y>c&&(c=h.y),h.y<j&&(j=h.y)}return b.x=e,b.y=j,b.width=f-e,b.height=c-j,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f,e){return f===void 0&&(f=0),e===void 0&&(e=new d()),e.x=i.x+(b.x-i.x)*f,e.y=i.y+(b.y-i.y)*f,e};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.setTo(d.y,d.x)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){return b===void 0&&(b=new d()),b.setTo(-i.x,-i.y)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(443),i=function(b,f,e){e===void 0&&(e=new d());var c=b.x*f.x+b.y*f.y,j=c/l(f);return j!==0&&(e.x=j*f.x,e.y=j*f.y),e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b,f){f===void 0&&(f=new d());var e=i.x*b.x+i.y*b.y;return e!==0&&(f.x=e*b.x,f.y=e*b.y),f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(442),l=function(i,b){if(i.x!==0||i.y!==0){var f=d(i);i.x/=f,i.y/=f}return i.x*=b,i.y*=b,i};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(201);d.Clone=a(1156),d.Contains=a(202),d.ContainsPoint=a(1157),d.GetAABB=a(418),d.GetNumberArray=a(1158),d.GetPoints=a(419),d.Perimeter=a(420),d.Reverse=a(1159),d.Smooth=a(421),o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(201),l=function(i){return new d(i.points)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(202),l=function(i,b){return d(i,b.x,b.y)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=[]);for(var i=0;i<d.points.length;i++)l.push(d.points[i].x),l.push(d.points[i].y);return l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.points.reverse(),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.width*d.height};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x=Math.ceil(d.x),d.y=Math.ceil(d.y),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x=Math.ceil(d.x),d.y=Math.ceil(d.y),d.width=Math.ceil(d.width),d.height=Math.ceil(d.height),d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i){return new d(i.x,i.y,i.width,i.height)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(48),l=function(i,b){return d(i,b.x,b.y)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.setTo(d.x,d.y,d.width,d.height)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x===l.x&&d.y===l.y&&d.width===l.width&&d.height===l.height};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(212),l=function(i,b){var f=d(i);return f<d(b)?i.setSize(b.height*f,b.height):i.setSize(b.width,b.width/f),i.setPosition(b.centerX-i.width/2,b.centerY-i.height/2)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(212),l=function(i,b){var f=d(i);return f>d(b)?i.setSize(b.height*f,b.height):i.setSize(b.width,b.width/f),i.setPosition(b.centerX-i.width/2,b.centerY-i.height/2)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x=Math.floor(d.x),d.y=Math.floor(d.y),d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.x=Math.floor(d.x),d.y=Math.floor(d.y),d.width=Math.floor(d.width),d.height=Math.floor(d.height),d};o.exports=a},function(o,w,a){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=function(i,b,f,e,c){return c===void 0&&(c=new d()),c.setTo(Math.min(i,f),Math.min(b,e),Math.abs(i-f),Math.abs(b-e))};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){return b===void 0&&(b=new d()),b.x=i.centerX,b.y=i.centerY,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=function(i,b){return b===void 0&&(b=new d()),b.x=i.width,b.y=i.height,b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(168),l=function(i,b,f){var e=i.centerX,c=i.centerY;return i.setSize(i.width+b*2,i.height+f*2),d(i,e,c)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(11),l=a(135),i=function(b,f,e){return e===void 0&&(e=new d()),l(b,f)?(e.x=Math.max(b.x,f.x),e.y=Math.max(b.y,f.y),e.width=Math.min(b.right,f.right)-e.x,e.height=Math.min(b.bottom,f.bottom)-e.y):e.setEmpty(),e};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){for(var i=d.x,b=d.right,f=d.y,e=d.bottom,c=0;c<l.length;c++)i=Math.min(i,l[c].x),b=Math.max(b,l[c].x),f=Math.min(f,l[c].y),e=Math.max(e,l[c].y);return d.x=i,d.y=f,d.width=b-i,d.height=e-f,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){var i=Math.min(d.x,l.x),b=Math.max(d.right,l.right);d.x=i,d.width=b-i;var f=Math.min(d.y,l.y),e=Math.max(d.bottom,l.bottom);return d.y=f,d.height=e-f,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){var b=Math.min(d.x,l),f=Math.max(d.right,l);d.x=b,d.width=f-b;var e=Math.min(d.y,i),c=Math.max(d.bottom,i);return d.y=e,d.height=c-e,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return d.x+=l,d.y+=i,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x+=l.x,d.y+=l.y,d};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x<l.right&&d.right>l.x&&d.y<l.bottom&&d.bottom>l.y};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(4),l=a(39),i=function(b,f,e){e===void 0&&(e=new d()),f=l(f);var c=Math.sin(f),j=Math.cos(f),g=j>0?b.width/2:b.width/-2,h=c>0?b.height/2:b.height/-2;return Math.abs(g*c)<Math.abs(h*j)?h=g*c/j:g=h*j/c,e.x=g+b.centerX,e.y=h+b.centerY,e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(172),l=a(445),i=a(4),b=function(f,e,c){c===void 0&&(c=new i());if(l(f,e))switch(d(0,3)){case 0:c.x=f.x+Math.random()*(e.right-f.x),c.y=f.y+Math.random()*(e.top-f.y);break;case 1:c.x=e.x+Math.random()*(f.right-e.x),c.y=e.bottom+Math.random()*(f.bottom-e.bottom);break;case 2:c.x=f.x+Math.random()*(e.x-f.x),c.y=e.y+Math.random()*(f.bottom-e.y);break;case 3:c.x=e.right+Math.random()*(f.right-e.right),c.y=f.y+Math.random()*(e.bottom-f.y);break}return c};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.width===l.width&&d.height===l.height};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i){return i===void 0&&(i=l),d.width*=l,d.height*=i,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(71);d.Area=a(1187),d.BuildEquilateral=a(1188),d.BuildFromPolygon=a(1189),d.BuildRight=a(1190),d.CenterOn=a(1191),d.Centroid=a(446),d.CircumCenter=a(1192),d.CircumCircle=a(1193),d.Clone=a(1194),d.Contains=a(83),d.ContainsArray=a(210),d.ContainsPoint=a(1195),d.CopyFrom=a(1196),d.Decompose=a(439),d.Equals=a(1197),d.GetPoint=a(425),d.GetPoints=a(426),d.InCenter=a(448),d.Perimeter=a(1198),d.Offset=a(447),d.Random=a(158),d.Rotate=a(1199),d.RotateAroundPoint=a(1200),d.RotateAroundXY=a(213),o.exports=d},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){var l=d.x1,i=d.y1,b=d.x2,f=d.y2,e=d.x3,c=d.y3;return Math.abs(((e-l)*(f-i)-(b-l)*(c-i))/2)};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(71),l=function(i,b,f){var e=f*(Math.sqrt(3)/2),c=i,j=b,g=i+f/2,h=b+e,k=i-f/2,m=b+e;return new d(c,j,g,h,k,m)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(66),l=a(71),i=function(b,f,e,c,j){f===void 0&&(f=null),e===void 0&&(e=1),c===void 0&&(c=1),j===void 0&&(j=[]);for(var g=d(b,f),h,k,m,n,p,q,r,s,t,u=0;u<g.length;u+=3)h=g[u],k=g[u+1],m=g[u+2],n=b[h*2]*e,p=b[h*2+1]*c,q=b[k*2]*e,r=b[k*2+1]*c,s=b[m*2]*e,t=b[m*2+1]*c,j.push(new l(n,p,q,r,s,t));return j};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(71),l=function(i,b,f,e){e===void 0&&(e=f);var c=i,j=b,g=i,h=b-e,k=i+f,m=b;return new d(c,j,g,h,k,m)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(446),l=a(447),i=function(b,f,e,c){c===void 0&&(c=d);var j=c(b),g=f-j.x,h=e-j.y;return l(b,g,h)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(3);function l(b,f,e,c){return b*c-f*e}var i=function(b,f){f===void 0&&(f=new d());var e=b.x3,c=b.y3,j=b.x1-e,g=b.y1-c,h=b.x2-e,k=b.y2-c,m=2*l(j,g,h,k),n=l(g,j*j+g*g,k,h*h+k*k),p=l(j,j*j+g*g,h,h*h+k*k);return f.x=e-n/m,f.y=c+p/m,f};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(65),l=function(i,b){b===void 0&&(b=new d());var f=i.x1,e=i.y1,c=i.x2,j=i.y2,g=i.x3,h=i.y3,k=c-f,m=j-e,n=g-f,p=h-e,q=k*(f+c)+m*(e+j),r=n*(f+g)+p*(e+h),s=2*(k*(h-j)-m*(g-c)),t,u;if(Math.abs(s)<1e-6){var v=Math.min(f,c,g),x=Math.min(e,j,h);t=(Math.max(f,c,g)-v)*.5,u=(Math.max(e,j,h)-x)*.5,b.x=v+t,b.y=x+u,b.radius=Math.sqrt(t*t+u*u)}else b.x=(p*q-m*r)/s,b.y=(k*r-n*q)/s,t=b.x-f,u=b.y-e,b.radius=Math.sqrt(t*t+u*u);return b};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(71),l=function(i){return new d(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(83),l=function(i,b){return d(i,b.x,b.y)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.setTo(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.x1===l.x1&&d.y1===l.y1&&d.x2===l.x2&&d.y2===l.y2&&d.x3===l.x3&&d.y3===l.y3};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(57),l=function(i){var b=i.getLineA(),f=i.getLineB(),e=i.getLineC();return d(b)+d(f)+d(e)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(213),l=a(448),i=function(b,f){var e=l(b);return d(b,e.x,e.y,f)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(213),l=function(i,b,f){return d(i,b.x,b.y,f)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(179),l=a(18),i={CreateInteractiveObject:a(449),Events:a(54),Gamepad:a(1202),InputManager:a(365),InputPlugin:a(1214),InputPluginCache:a(136),Keyboard:a(1216),Mouse:a(1233),Pointer:a(368),Touch:a(1234)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Axis:a(450),Button:a(451),Events:a(214),Gamepad:a(452),GamepadPlugin:a(1209),Configs:a(1210)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="connected"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="disconnected"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(214),b=a(452),f=a(6),e=a(136),c=a(54),j=new d({Extends:l,initialize:function g(h){l.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(c.BOOT,this.boot,this),h.pluginEvents.on(c.START,this.start,this)},boot:function(){var g=this.scene.sys.game,h=this.settings.input,k=g.config;this.enabled=f(h,"gamepad",k.inputGamepad)&&g.device.input.gamepads,this.target=f(h,"gamepad.target",k.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(c.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(c.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var g=this,h=this.target,k=function(m){if(m.defaultPrevented||!g.isActive())return;g.refreshPads(),g.queue.push(m)};this.onGamepadHandler=k,h.addEventListener("gamepadconnected",k,!1),h.addEventListener("gamepaddisconnected",k,!1),this.sceneInputPlugin.pluginEvents.on(c.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(c.UPDATE,this.update)},disconnectAll:function(){for(var g=0;g<this.gamepads.length;g++)this.gamepads.connected=!1},refreshPads:function(){var g=navigator.getGamepads();if(!g)this.disconnectAll();else for(var h=this.gamepads,k=0;k<g.length;k++){var m=g[k];if(!m)continue;var n=m.id,p=m.index,q=h[p];if(q)q.id!==n?(q.destroy(),h[p]=new b(this,m)):q.update(m);else{var r=new b(this,m);h[p]=r,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=r):this._pad3=r:this._pad2=r:this._pad1=r}}},getAll:function(){for(var g=[],h=this.gamepads,k=0;k<h.length;k++)h[k]&&g.push(h[k]);return g},getPad:function(g){for(var h=this.gamepads,k=0;k<h.length;k++)if(h[k]&&h[k].index===g)return h[k]},update:function(){if(!this.enabled)return;this.refreshPads();var g=this.queue.length;if(g===0)return;for(var h=this.queue.splice(0,g),k=0;k<g;k++){var m=h[k],n=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(i.CONNECTED,n,m):m.type==="gamepaddisconnected"&&this.emit(i.DISCONNECTED,n,m)}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var g=0;g<this.gamepads.length;g++)this.gamepads[g]&&this.gamepads[g].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",j,"gamepad","gamepad","inputGamepad"),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DUALSHOCK_4:a(1211),SNES_USB:a(1212),XBOX_360:a(1213)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(65),l=a(55),i=a(0),b=a(179),f=a(449),e=a(1215),c=a(53),j=a(95),g=a(96),h=a(54),k=a(10),m=a(2),n=a(47),p=a(136),q=a(7),r=a(23),s=a(11),t=a(48),u=a(22),v=a(71),x=a(83),z=new i({Extends:k,initialize:function y(A){k.call(this),this.scene=A,this.systems=A.sys,this.settings=A.sys.settings,this.manager=A.sys.game.input,this.pluginEvents=new k(),this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,A.sys.events.once(u.BOOT,this.boot,this),A.sys.events.on(u.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(u.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var y=this.systems.events;y.on(u.TRANSITION_START,this.transitionIn,this),y.on(u.TRANSITION_OUT,this.transitionOut,this),y.on(u.TRANSITION_COMPLETE,this.transitionComplete,this),y.on(u.PRE_UPDATE,this.preUpdate,this),y.once(u.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(y){this.isActive()&&this.emit(h.GAME_OVER,y.timeStamp,y)},onGameOut:function(y){this.isActive()&&this.emit(h.GAME_OUT,y.timeStamp,y)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var y=this._pendingRemoval,A=this._pendingInsertion,D=y.length,F=A.length;if(D===0&&F===0)return;for(var H=this._list,I=0;I<D;I++){var N=y[I],J=H.indexOf(N);J>-1&&(H.splice(J,1),this.clear(N,!0))}y.length=0,this._pendingRemoval.length=0,this._list=H.concat(A.splice(0))},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(y,A){if(!this.isActive())return!1;this.pluginEvents.emit(h.UPDATE,y,A);if(this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,F=this.manager,H=F.pointers,I=F.pointersTotal;for(D=0;D<I;D++)H[D].updateMotion();if(this._list.length===0)return!1;var N=this.pollRate;if(N===-1)return!1;if(N>0){this._pollTimer-=A;if(this._pollTimer<0)this._pollTimer=this.pollRate;else return!1}var J=!1;for(D=0;D<I;D++){var C=0,B=H[D];this._tempZones=[],this._temp=this.hitTestPointer(B),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),C+=this.processOverOutEvents(B),this.getDragState(B)===2&&this.processDragThresholdEvent(B,y),C>0&&(J=!0)}return J},update:function(y,A){if(!this.isActive())return!1;for(var D=A.length,F=!1,H=0;H<D;H++){var I=0,N=A[H];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));switch(y){case b.MOUSE_DOWN:I+=this.processDragDownEvent(N),I+=this.processDownEvents(N),I+=this.processOverOutEvents(N);break;case b.MOUSE_UP:I+=this.processDragUpEvent(N),I+=this.processUpEvents(N),I+=this.processOverOutEvents(N);break;case b.TOUCH_START:I+=this.processDragDownEvent(N),I+=this.processDownEvents(N),I+=this.processOverEvents(N);break;case b.TOUCH_END:case b.TOUCH_CANCEL:I+=this.processDragUpEvent(N),I+=this.processUpEvents(N),I+=this.processOutEvents(N);break;case b.MOUSE_MOVE:case b.TOUCH_MOVE:I+=this.processDragMoveEvent(N),I+=this.processMoveEvents(N),I+=this.processOverOutEvents(N);break;case b.MOUSE_WHEEL:I+=this.processWheelEvent(N);break}I>0&&(F=!0)}return this._updatedThisFrame=!0,F},clear:function(y,A){A===void 0&&(A=!1);var D=y.input;if(!D)return;A||this.queueForRemoval(y),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,this.manager.resetCursor(D),y.input=null;var F=this._draggable.indexOf(y);return F>-1&&this._draggable.splice(F,1),F=this._drag[0].indexOf(y),F>-1&&this._drag[0].splice(F,1),F=this._over[0].indexOf(y),F>-1&&this._over[0].splice(F,1),y},disable:function(y){y.input.enabled=!1},enable:function(y,A,D,F){return F===void 0&&(F=!1),y.input?y.input.enabled=!0:this.setHitArea(y,A,D),y.input&&F&&!y.input.dropZone&&(y.input.dropZone=F),this},hitTestPointer:function(y){for(var A=this.cameras.getCamerasBelowPointer(y),D=0;D<A.length;D++){for(var F=A[D],H=this.manager.hitTest(y,this._list,F),I=0;I<H.length;I++){var N=H[I];N.input.dropZone&&this._tempZones.push(N)}if(H.length>0)return y.camera=F,H}return y.camera=A[0],[]},processDownEvents:function(y){var A=0,D=this._temp,F=this._eventData,H=this._eventContainer;F.cancelled=!1;for(var I=!1,N=0;N<D.length;N++){var J=D[N];if(!J.input)continue;A++,J.emit(h.GAMEOBJECT_POINTER_DOWN,y,J.input.localX,J.input.localY,H);if(F.cancelled||!J.input){I=!0;break}this.emit(h.GAMEOBJECT_DOWN,y,J,H);if(F.cancelled||!J.input){I=!0;break}}return!I&&this.manager&&(y.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,y,D):this.emit(h.POINTER_DOWN_OUTSIDE,y)),A},getDragState:function(y){return this._dragState[y.id]},setDragState:function(y,A){this._dragState[y.id]=A},processDragThresholdEvent:function(y,A){var D=!1,F=this.dragTimeThreshold,H=this.dragDistanceThreshold;H>0&&c(y.x,y.y,y.downX,y.downY)>=H?D=!0:F>0&&A>=y.downTime+F&&(D=!0);if(D)return this.setDragState(y,3),this.processDragStartList(y)},processDragStartList:function(y){if(this.getDragState(y)!==3)return 0;for(var A=this._drag[y.id],D=0;D<A.length;D++){var F=A[D],H=F.input;H.dragState=2,H.dragStartX=F.x,H.dragStartY=F.y,H.dragStartXGlobal=y.worldX,H.dragStartYGlobal=y.worldY,H.dragX=H.dragStartXGlobal-H.dragStartX,H.dragY=H.dragStartYGlobal-H.dragStartY,F.emit(h.GAMEOBJECT_DRAG_START,y,H.dragX,H.dragY),this.emit(h.DRAG_START,y,F)}return this.setDragState(y,4),A.length},processDragDownEvent:function(y){var A=this._temp;if(this._draggable.length===0||A.length===0||!y.primaryDown||this.getDragState(y)!==0)return 0;this.setDragState(y,1);for(var D=[],F=0;F<A.length;F++){var H=A[F];H.input.draggable&&H.input.dragState===0&&D.push(H)}return D.length===0?(this.setDragState(y,0),0):(D.length>1&&(this.sortGameObjects(D),this.topOnly&&D.splice(1)),this._drag[y.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(y,3),this.processDragStartList(y)):(this.setDragState(y,2),0))},processDragMoveEvent:function(y){this.getDragState(y)===2&&this.processDragThresholdEvent(y,this.manager.game.loop.now);if(this.getDragState(y)!==4)return 0;for(var A=this._tempZones,D=this._drag[y.id],F=0;F<D.length;F++){var H=D[F],I=H.input,N=I.target;if(N){var J=A.indexOf(N);J===0?(H.emit(h.GAMEOBJECT_DRAG_OVER,y,N),this.emit(h.DRAG_OVER,y,H,N)):J>0?(H.emit(h.GAMEOBJECT_DRAG_LEAVE,y,N),this.emit(h.DRAG_LEAVE,y,H,N),I.target=A[0],N=I.target,H.emit(h.GAMEOBJECT_DRAG_ENTER,y,N),this.emit(h.DRAG_ENTER,y,H,N)):(H.emit(h.GAMEOBJECT_DRAG_LEAVE,y,N),this.emit(h.DRAG_LEAVE,y,H,N),A[0]?(I.target=A[0],N=I.target,H.emit(h.GAMEOBJECT_DRAG_ENTER,y,N),this.emit(h.DRAG_ENTER,y,H,N)):I.target=null)}else!N&&A[0]&&(I.target=A[0],N=I.target,H.emit(h.GAMEOBJECT_DRAG_ENTER,y,N),this.emit(h.DRAG_ENTER,y,H,N));var C,B;if(!H.parentContainer)C=y.worldX-I.dragX,B=y.worldY-I.dragY;else{var E=y.worldX-I.dragStartXGlobal,K=y.worldY-I.dragStartYGlobal,G=H.getParentRotation(),L=E*Math.cos(G)+K*Math.sin(G),M=K*Math.cos(G)-E*Math.sin(G);L*=1/H.parentContainer.scaleX,M*=1/H.parentContainer.scaleY,C=L+I.dragStartX,B=M+I.dragStartY}H.emit(h.GAMEOBJECT_DRAG,y,C,B),this.emit(h.DRAG,y,H,C,B)}return D.length},processDragUpEvent:function(y){for(var A=this._drag[y.id],D=0;D<A.length;D++){var F=A[D],H=F.input;if(H&&H.dragState===2){H.dragState=0,H.dragX=H.localX-F.displayOriginX,H.dragY=H.localY-F.displayOriginY;var I=!1,N=H.target;N&&(F.emit(h.GAMEOBJECT_DROP,y,N),this.emit(h.DROP,y,F,N),H.target=null,I=!0),F.input&&(F.emit(h.GAMEOBJECT_DRAG_END,y,H.dragX,H.dragY,I),this.emit(h.DRAG_END,y,F,I))}}return this.setDragState(y,0),A.splice(0),0},processMoveEvents:function(y){var A=0,D=this._temp,F=this._eventData,H=this._eventContainer;F.cancelled=!1;for(var I=!1,N=0;N<D.length;N++){var J=D[N];if(!J.input)continue;A++,J.emit(h.GAMEOBJECT_POINTER_MOVE,y,J.input.localX,J.input.localY,H);if(F.cancelled||!J.input){I=!0;break}this.emit(h.GAMEOBJECT_MOVE,y,J,H);if(F.cancelled||!J.input){I=!0;break}if(this.topOnly)break}return I||this.emit(h.POINTER_MOVE,y,D),A},processWheelEvent:function(y){var A=0,D=this._temp,F=this._eventData,H=this._eventContainer;F.cancelled=!1;for(var I=!1,N=y.deltaX,J=y.deltaY,C=y.deltaZ,B=0;B<D.length;B++){var E=D[B];if(!E.input)continue;A++,E.emit(h.GAMEOBJECT_POINTER_WHEEL,y,N,J,C,H);if(F.cancelled||!E.input){I=!0;break}this.emit(h.GAMEOBJECT_WHEEL,y,E,N,J,C,H);if(F.cancelled||!E.input){I=!0;break}}return I||this.emit(h.POINTER_WHEEL,y,D,N,J,C),A},processOverEvents:function(y){var A=this._temp,D=0,F=A.length,H=[];if(F>0){var I=this.manager,N=this._eventData,J=this._eventContainer;N.cancelled=!1;for(var C=!1,B=0;B<F;B++){var E=A[B];if(!E.input)continue;H.push(E),I.setCursor(E.input),E.emit(h.GAMEOBJECT_POINTER_OVER,y,E.input.localX,E.input.localY,J),D++;if(N.cancelled||!E.input){C=!0;break}this.emit(h.GAMEOBJECT_OVER,y,E,J);if(N.cancelled||!E.input){C=!0;break}}C||this.emit(h.POINTER_OVER,y,H)}return this._over[y.id]=H,D},processOutEvents:function(y){var A=this._over[y.id],D=0,F=A.length;if(F>0){var H=this.manager,I=this._eventData,N=this._eventContainer;I.cancelled=!1;var J=!1;this.sortGameObjects(A);for(var C=0;C<F;C++){var B=A[C];for(C=0;C<F;C++){B=A[C];if(!B.input)continue;H.resetCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OUT,y,N),D++;if(I.cancelled||!B.input){J=!0;break}this.emit(h.GAMEOBJECT_OUT,y,B,N);if(I.cancelled||!B.input){J=!0;break}}J||this.emit(h.POINTER_OUT,y,A)}this._over[y.id]=[]}return D},processOverOutEvents:function(y){var A=this._temp,D,F,H=[],I=[],N=[],J=this._over[y.id],C=this._drag[y.id],B=this.manager;for(D=0;D<J.length;D++)F=J[D],A.indexOf(F)===-1&&C.indexOf(F)===-1?H.push(F):N.push(F);for(D=0;D<A.length;D++)F=A[D],J.indexOf(F)===-1&&I.push(F);var E=H.length,K=0,G=this._eventData,L=this._eventContainer;G.cancelled=!1;var M=!1;if(E>0){for(this.sortGameObjects(H),D=0;D<E;D++){F=H[D];if(!F.input)continue;B.resetCursor(F.input),F.emit(h.GAMEOBJECT_POINTER_OUT,y,L),K++;if(G.cancelled||!F.input){M=!0;break}this.emit(h.GAMEOBJECT_OUT,y,F,L);if(G.cancelled||!F.input){M=!0;break}}M||this.emit(h.POINTER_OUT,y,H)}E=I.length,G.cancelled=!1,M=!1;if(E>0){for(this.sortGameObjects(I),D=0;D<E;D++){F=I[D];if(!F.input)continue;B.setCursor(F.input),F.emit(h.GAMEOBJECT_POINTER_OVER,y,F.input.localX,F.input.localY,L),K++;if(G.cancelled||!F.input){M=!0;break}this.emit(h.GAMEOBJECT_OVER,y,F,L);if(G.cancelled||!F.input){M=!0;break}}M||this.emit(h.POINTER_OVER,y,I)}return J=N.concat(I),this._over[y.id]=this.sortGameObjects(J),K},processUpEvents:function(y){var A=this._temp,D=this._eventData,F=this._eventContainer;D.cancelled=!1;for(var H=!1,I=0;I<A.length;I++){var N=A[I];if(!N.input)continue;N.emit(h.GAMEOBJECT_POINTER_UP,y,N.input.localX,N.input.localY,F);if(D.cancelled||!N.input){H=!0;break}this.emit(h.GAMEOBJECT_UP,y,N,F);if(D.cancelled||!N.input){H=!0;break}}return!H&&this.manager&&(y.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,y,A):this.emit(h.POINTER_UP_OUTSIDE,y)),A.length},queueForInsertion:function(y){return this._pendingInsertion.indexOf(y)===-1&&this._list.indexOf(y)===-1&&this._pendingInsertion.push(y),this},queueForRemoval:function(y){return this._pendingRemoval.push(y),this},setDraggable:function(y,A){A===void 0&&(A=!0),Array.isArray(y)||(y=[y]);for(var D=0;D<y.length;D++){var F=y[D];F.input.draggable=A;var H=this._draggable.indexOf(F);A&&H===-1?this._draggable.push(F):!A&&H>-1&&this._draggable.splice(H,1)}return this},makePixelPerfect:function(y){y===void 0&&(y=1);var A=this.systems.textures;return e(A,y)},setHitArea:function(y,A,D){if(A===void 0)return this.setHitAreaFromTexture(y);Array.isArray(y)||(y=[y]);var F=!1,H=!1,I=!1,N=!1,J=!1,C=!0;if(q(A)){var B=A;A=m(B,"hitArea",null),D=m(B,"hitAreaCallback",null),F=m(B,"draggable",!1),H=m(B,"dropZone",!1),I=m(B,"cursor",!1),N=m(B,"useHandCursor",!1),J=m(B,"pixelPerfect",!1);var E=m(B,"alphaTolerance",1);J&&(A={},D=this.makePixelPerfect(E)),(!A||!D)&&(this.setHitAreaFromTexture(y),C=!1)}else typeof A==="function"&&!D&&(D=A,A={});for(var K=0;K<y.length;K++){var G=y[K];if(J&&G.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var L=G.input?G.input:f(G,A,D);L.customHitArea=C,L.dropZone=H,L.cursor=N?"pointer":I,G.input=L,F&&this.setDraggable(G),this.queueForInsertion(G)}return this},setHitAreaCircle:function(y,A,D,F,H){H===void 0&&(H=l);var I=new d(A,D,F);return this.setHitArea(y,I,H)},setHitAreaEllipse:function(y,A,D,F,H,I){I===void 0&&(I=g);var N=new j(A,D,F,H);return this.setHitArea(y,N,I)},setHitAreaFromTexture:function(y,A){A===void 0&&(A=t),Array.isArray(y)||(y=[y]);for(var D=0;D<y.length;D++){var F=y[D],H=F.frame,I=0,N=0;F.width?(I=F.width,N=F.height):H&&(I=H.realWidth,N=H.realHeight);if(F.type==="Container"&&(I===0||N===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}I!==0&&N!==0&&(F.input=f(F,new s(0,0,I,N),A),this.queueForInsertion(F))}return this},setHitAreaRectangle:function(y,A,D,F,H,I){I===void 0&&(I=t);var N=new s(A,D,F,H);return this.setHitArea(y,N,I)},setHitAreaTriangle:function(y,A,D,F,H,I,N,J){J===void 0&&(J=x);var C=new v(A,D,F,H,I,N);return this.setHitArea(y,C,J)},enableDebug:function(y,A){A===void 0&&(A=65280);var D=y.input;if(!D||!D.hitArea)return this;var F=D.hitArea,H=F.type,I=D.hitAreaDebug,N=this.systems.add,J=this.systems.updateList;I&&(J.remove(I),I.destroy(),I=null);var C=0,B=0;switch(H){case n.CIRCLE:I=N.arc(0,0,F.radius),C=F.x-F.radius,B=F.y-F.radius;break;case n.ELLIPSE:I=N.ellipse(0,0,F.width,F.height),C=F.x-F.width/2,B=F.y-F.height/2;break;case n.LINE:I=N.line(0,0,F.x1,F.y1,F.x2,F.y2);break;case n.POLYGON:I=N.polygon(0,0,F.points);break;case n.RECTANGLE:I=N.rectangle(0,0,F.width,F.height),C=F.x,B=F.y;break;case n.TRIANGLE:I=N.triangle(0,0,F.x1,F.y1,F.x2,F.y2,F.x3,F.y3);break}return I&&(I.isFilled=!1,I.preUpdate=function(){I.setStrokeStyle(1/y.scale,A),I.setDisplayOrigin(y.displayOriginX,y.displayOriginY);var E=y.x,K=y.y,G=y.rotation,L=y.scaleX,M=y.scaleY;if(y.parentContainer){var O=y.getWorldTransformMatrix();E=O.tx,K=O.ty,G=O.rotation,L=O.scaleX,M=O.scaleY}I.setRotation(G),I.setScale(L,M),I.setPosition(E+C,K+B),I.setScrollFactor(y.scrollFactorX,y.scrollFactorY),I.setDepth(y.depth)},J.add(I),D.hitAreaDebug=I),this},removeDebug:function(y){var A=y.input;if(A&&A.hitAreaDebug){var D=A.hitAreaDebug;this.systems.updateList.remove(D),D.destroy(),A.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(y){return this.pollRate=y,this._pollTimer=0,this},setGlobalTopOnly:function(y){return this.manager.globalTopOnly=y,this},setTopOnly:function(y){return this.topOnly=y,this},sortGameObjects:function(y){return y.length<2?y:(this.scene.sys.depthSort(),y.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(y,A){if(!y.parentContainer&&!A.parentContainer)return this.displayList.getIndex(A)-this.displayList.getIndex(y);{if(y.parentContainer===A.parentContainer)return A.parentContainer.getIndex(A)-y.parentContainer.getIndex(y);{if(y.parentContainer===A)return-1;{if(A.parentContainer===y)return 1;{for(var D=y.getIndexList(),F=A.getIndexList(),H=Math.min(D.length,F.length),I=0;I<H;I++){var N=D[I],J=F[I];if(N===J)continue;return J-N}return F.length-D.length}}}}},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(y){return this.manager.addPointer(y)},setDefaultCursor:function(y){return this.manager.setDefaultCursor(y),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var y=0;y<10;y++)this._drag[y]=[],this._over[y]=[];this.removeAllListeners();var A=this.systems.events;A.off(u.TRANSITION_START,this.transitionIn,this),A.off(u.TRANSITION_OUT,this.transitionOut,this),A.off(u.TRANSITION_COMPLETE,this.transitionComplete,this),A.off(u.PRE_UPDATE,this.preUpdate,this),this.manager.events.off(h.GAME_OUT,this.onGameOut,this),this.manager.events.off(h.GAME_OVER,this.onGameOver,this),A.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});r.register("InputPlugin",z,"input"),o.exports=z},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return function(i,b,f,e){var c=d.getPixelAlpha(b,f,e.texture.key,e.frame.name);return c&&c>=l}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Events:a(137),KeyboardManager:a(366),KeyboardPlugin:a(1224),Key:a(453),KeyCodes:a(124),KeyCombo:a(454),JustDown:a(1229),JustUp:a(1230),DownDuration:a(1231),UpDuration:a(1232)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keydown"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keyup"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keycombomatch"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keydown-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keyup-"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(10),i=a(137),b=a(20),f=a(6),e=a(54),c=a(136),j=a(453),g=a(124),h=a(454),k=a(1228),m=a(93),n=new d({Extends:l,initialize:function p(q){l.call(this),this.game=q.systems.game,this.scene=q.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=q,this.manager=q.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],q.pluginEvents.once(e.BOOT,this.boot,this),q.pluginEvents.on(e.START,this.start,this)},boot:function(){var p=this.settings.input;this.enabled=f(p,"keyboard",!0);var q=f(p,"keyboard.capture",null);q&&this.addCaptures(q),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(e.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(b.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(p){return this.manager.addCapture(p),this},removeCapture:function(p){return this.manager.removeCapture(p),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:g.UP,down:g.DOWN,left:g.LEFT,right:g.RIGHT,space:g.SPACE,shift:g.SHIFT})},addKeys:function(p,q,r){q===void 0&&(q=!0),r===void 0&&(r=!1);var s={};if(typeof p==="string"){p=p.split(",");for(var t=0;t<p.length;t++){var u=p[t].trim();u&&(s[u]=this.addKey(u,q,r))}}else for(var v in p)s[v]=this.addKey(p[v],q,r);return s},addKey:function(p,q,r){q===void 0&&(q=!0),r===void 0&&(r=!1);var s=this.keys;if(p instanceof j){var t=s.indexOf(p);return t>-1?s[t]=p:s[p.keyCode]=p,q&&this.addCapture(p.keyCode),p.setEmitOnRepeat(r),p}return typeof p==="string"&&(p=g[p.toUpperCase()]),s[p]||(s[p]=new j(this,p),q&&this.addCapture(p),s[p].setEmitOnRepeat(r)),s[p]},removeKey:function(p,q){q===void 0&&(q=!1);var r=this.keys,s;if(p instanceof j){var t=r.indexOf(p);t>-1&&(s=this.keys[t],this.keys[t]=void 0)}else typeof p==="string"&&(p=g[p.toUpperCase()]);return r[p]&&(s=r[p],r[p]=void 0),s&&(s.plugin=null,q&&s.destroy()),this},removeAllKeys:function(p){for(var q=this.keys,r=0;r<q.length;r++){var s=q[r];s&&(q[r]=void 0,p&&s.destroy())}return this},createCombo:function(p,q){return new h(this,p,q)},checkDown:function(p,q){q===void 0&&(q=0);if(this.enabled&&p.isDown){var r=m(this.time-p.timeDown,q);if(r>p._tick)return p._tick=r,!0}return!1},update:function(){var p=this.manager.queue,q=p.length;if(!this.isActive()||q===0)return;for(var r=this.keys,s=0;s<q;s++){var t=p[s],u=t.keyCode,v=r[u],x=!1;t.cancelled===void 0&&(t.cancelled=0,t.stopImmediatePropagation=function(){t.cancelled=1},t.stopPropagation=function(){t.cancelled=-1});if(t.cancelled===-1)continue;t.type==="keydown"?(v&&(x=v.isDown,v.onDown(t)),!t.cancelled&&(!v||!x)&&(k[u]&&(this.emit(i.KEY_DOWN+k[u],t),this.emit("keydown_"+k[u],t)),t.cancelled||this.emit(i.ANY_KEY_DOWN,t))):(v&&v.onUp(t),t.cancelled||(k[u]&&(this.emit(i.KEY_UP+k[u],t),this.emit("keyup_"+k[u],t)),t.cancelled||this.emit(i.ANY_KEY_UP,t))),t.cancelled===1&&(t.cancelled=0)}},resetKeys:function(){for(var p=this.keys,q=0;q<p.length;q++)p[q]&&p[q].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(e.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(b.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var p=this.keys,q=0;q<p.length;q++)p[q]&&p[q].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});c.register("KeyboardPlugin",n,"keyboard","keyboard","inputKeyboard"),o.exports=n},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1226),l=function(i,b){if(b.matched)return!0;var f=!1,e=!1;if(i.keyCode===b.current)if(b.index>0&&b.maxKeyDelay>0){var c=b.timeLastMatched+b.maxKeyDelay;i.timeStamp<=c&&(e=!0,f=d(i,b))}else e=!0,f=d(i,b);return!e&&b.resetOnWrongKey&&(b.index=0,b.current=b.keyCodes[0]),f&&(b.timeLastMatched=i.timeStamp,b.matched=!0,b.timeMatched=i.timeStamp),f};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return l.timeLastMatched=d.timeStamp,l.index++,l.index===l.size?!0:(l.current=l.keyCodes[l.index],!1)};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.current=d.keyCodes[0],d.index=0,d.timeLastMatched=0,d.matched=!1,d.timeMatched=0,d};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(124),l={};for(var i in d)l[d[i]]=i;o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d._justDown?(d._justDown=!1,!0):!1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d._justUp?(d._justUp=!1,!0):!1};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=50);var i=d.plugin.game.loop.time-d.timeDown;return d.isDown&&i<l};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l===void 0&&(l=50);var i=d.plugin.game.loop.time-d.timeUp;return d.isUp&&i<l};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={MouseManager:a(367)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={TouchManager:a(369)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(17),l=a(18),i={Events:a(82),FileTypes:a(1236),File:a(21),FileTypesManager:a(8),GetURL:a(138),LoaderPlugin:a(1260),MergeXHRSettings:a(215),MultiFile:a(61),XHRLoader:a(455),XHRSettings:a(139)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AnimationJSONFile:a(1237),AtlasJSONFile:a(1238),AtlasXMLFile:a(1239),AudioFile:a(456),AudioSpriteFile:a(1240),BinaryFile:a(1241),BitmapFontFile:a(1242),CSSFile:a(1243),GLSLFile:a(1244),HTML5AudioFile:a(457),HTMLFile:a(1245),HTMLTextureFile:a(1246),ImageFile:a(72),JSONFile:a(60),MultiAtlasFile:a(1247),MultiScriptFile:a(1248),PackFile:a(1249),PluginFile:a(1250),SceneFile:a(1251),ScenePluginFile:a(1252),ScriptFile:a(458),SpriteSheetFile:a(1253),SVGFile:a(1254),TextFile:a(459),TilemapCSVFile:a(1255),TilemapImpactFile:a(1256),TilemapJSONFile:a(1257),UnityAtlasFile:a(1258),VideoFile:a(1259),XMLFile:a(216)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(60),b=a(82),f=new d({Extends:i,initialize:function e(c,j,g,h,k){i.call(this,c,j,g,h,k),this.type="animationJSON"},onProcess:function(){this.loader.once(b.POST_PROCESS,this.onLoadComplete,this),i.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});l.register("animation",function(e,c,j,g){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new f(this,e[h]));else this.addFile(new f(this,e,c,g,j));return this}),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(2),b=a(72),f=a(7),e=a(60),c=a(61),j=new d({Extends:c,initialize:function g(h,k,m,n,p,q){var r,s;if(f(k)){var t=k;k=i(t,"key"),r=new b(h,{key:k,url:i(t,"textureURL"),extension:i(t,"textureExtension","png"),normalMap:i(t,"normalMap"),xhrSettings:i(t,"textureXhrSettings")}),s=new e(h,{key:k,url:i(t,"atlasURL"),extension:i(t,"atlasExtension","json"),xhrSettings:i(t,"atlasXhrSettings")})}else r=new b(h,k,m,p),s=new e(h,k,n,q);r.linkFile?c.call(this,h,"atlasjson",k,[r,s,r.linkFile]):c.call(this,h,"atlasjson",k,[r,s])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],h=this.files[1],k=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(g.key,g.data,h.data,k),h.addToCache(),this.complete=!0}}});l.register("atlas",function(g,h,k,m,n){var p;if(Array.isArray(g))for(var q=0;q<g.length;q++)p=new j(this,g[q]),this.addFile(p.files);else p=new j(this,g,h,k,m,n),this.addFile(p.files);return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(2),b=a(72),f=a(7),e=a(61),c=a(216),j=new d({Extends:e,initialize:function g(h,k,m,n,p,q){var r,s;if(f(k)){var t=k;k=i(t,"key"),r=new b(h,{key:k,url:i(t,"textureURL"),extension:i(t,"textureExtension","png"),normalMap:i(t,"normalMap"),xhrSettings:i(t,"textureXhrSettings")}),s=new c(h,{key:k,url:i(t,"atlasURL"),extension:i(t,"atlasExtension","xml"),xhrSettings:i(t,"atlasXhrSettings")})}else r=new b(h,k,m,p),s=new c(h,k,n,q);r.linkFile?e.call(this,h,"atlasxml",k,[r,s,r.linkFile]):e.call(this,h,"atlasxml",k,[r,s])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],h=this.files[1],k=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(g.key,g.data,h.data,k),h.addToCache(),this.complete=!0}}});l.register("atlasXML",function(g,h,k,m,n){var p;if(Array.isArray(g))for(var q=0;q<g.length;q++)p=new j(this,g[q]),this.addFile(p.files);else p=new j(this,g,h,k,m,n),this.addFile(p.files);return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(456),l=a(0),i=a(8),b=a(2),f=a(7),e=a(60),c=a(61),j=new l({Extends:c,initialize:function g(h,k,m,n,p,q,r){if(f(k)){var s=k;k=b(s,"key"),m=b(s,"jsonURL"),n=b(s,"audioURL"),p=b(s,"audioConfig"),q=b(s,"audioXhrSettings"),r=b(s,"jsonXhrSettings")}var t;if(!n)t=new e(h,k,m,r),c.call(this,h,"audiosprite",k,[t]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=q;else{var u=d.create(h,k,n,p,q);u&&(t=new e(h,k,m,r),c.call(this,h,"audiosprite",k,[u,t]),this.config.resourceLoad=!1)}},onFileComplete:function(g){var h=this.files.indexOf(g);if(h!==-1){this.pending--;if(this.config.resourceLoad&&g.type==="json"&&g.data.hasOwnProperty("resources")){var k=g.data.resources,m=b(this.config,"audioConfig"),n=b(this.config,"audioXhrSettings"),p=d.create(this.loader,g.key,k,m,n);p&&(this.addToMultiFile(p),this.loader.addFile(p))}}},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],h=this.files[1];g.addToCache(),h.addToCache(),this.complete=!0}}});i.register("audioSprite",function(g,h,k,m,n,p){var q=this.systems.game,r=q.config.audio,s=q.device.audio;if(r&&r.noAudio||!s.webAudio&&!s.audioData)return this;var t;if(Array.isArray(g))for(var u=0;u<g.length;u++)t=new j(this,g[u]),t.files&&this.addFile(t.files);else t=new j(this,g,h,k,m,n,p),t.files&&this.addFile(t.files);return this})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m,n){var p="bin";if(e(h)){var q=h;h=f(q,"key"),k=f(q,"url"),m=f(q,"xhrSettings"),p=f(q,"extension",p),n=f(q,"dataType",n)}var r={type:"binary",cache:g.cacheManager.binary,extension:p,responseType:"arraybuffer",key:h,url:k,xhrSettings:m,config:{dataType:n}};i.call(this,g,r)},onProcess:function(){this.state=l.FILE_PROCESSING;var j=this.config.dataType;this.data=j?new j(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});b.register("binary",function(j,g,h,k){if(Array.isArray(j))for(var m=0;m<j.length;m++)this.addFile(new c(this,j[m]));else this.addFile(new c(this,j,g,k,h));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(2),b=a(72),f=a(7),e=a(61),c=a(187),j=a(216),g=new d({Extends:e,initialize:function h(k,m,n,p,q,r){var s,t;if(f(m)){var u=m;m=i(u,"key"),s=new b(k,{key:m,url:i(u,"textureURL"),extension:i(u,"textureExtension","png"),normalMap:i(u,"normalMap"),xhrSettings:i(u,"textureXhrSettings")}),t=new j(k,{key:m,url:i(u,"fontDataURL"),extension:i(u,"fontDataExtension","xml"),xhrSettings:i(u,"fontDataXhrSettings")})}else s=new b(k,m,n,q),t=new j(k,m,p,r);s.linkFile?e.call(this,k,"bitmapfont",m,[s,t,s.linkFile]):e.call(this,k,"bitmapfont",m,[s,t])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],k=this.files[1];h.addToCache(),k.addToCache(),this.loader.cacheManager.bitmapFont.add(h.key,{data:c(k.data),texture:h.key,frame:null}),this.complete=!0}}});l.register("bitmapFont",function(h,k,m,n,p){var q;if(Array.isArray(h))for(var r=0;r<h.length;r++)q=new g(this,h[r]),this.addFile(q.files);else q=new g(this,h,k,m,n,p),this.addFile(q.files);return this}),o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m){var n="css";if(e(h)){var p=h;h=f(p,"key"),k=f(p,"url"),m=f(p,"xhrSettings"),n=f(p,"extension",n)}var q={type:"script",cache:!1,extension:n,responseType:"text",key:h,url:k,xhrSettings:m};i.call(this,g,q)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});b.register("css",function(j,g,h){if(Array.isArray(j))for(var k=0;k<j.length;k++)this.addFile(new c(this,j[k]));else this.addFile(new c(this,j,g,h));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=a(353),j=new d({Extends:i,initialize:function g(h,k,m,n,p){var q="glsl";if(e(k)){var r=k;k=f(r,"key"),m=f(r,"url"),n=f(r,"shaderType","fragment"),p=f(r,"xhrSettings"),q=f(r,"extension",q)}else n===void 0&&(n="fragment");var s={type:"glsl",cache:h.cacheManager.shader,extension:q,responseType:"text",key:k,url:m,config:{shaderType:n},xhrSettings:p};i.call(this,h,s)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var g=this.data.split(`
`),h=this.extractBlock(g,0);if(h)for(;h;){var k=this.getShaderName(h.header),m=this.getShaderType(h.header),n=this.getShaderUniforms(h.header),p=h.shader;if(this.cache.has(k)){var q=this.cache.get(k);m==="fragment"?q.fragmentSrc=p:q.vertexSrc=p,q.uniforms||(q.uniforms=n)}else m==="fragment"?this.cache.add(k,new c(k,p,"",n)):this.cache.add(k,new c(k,"",p,n));h=this.extractBlock(g,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new c(this.key,this.data)):this.cache.add(this.key,new c(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(g){for(var h=0;h<g.length;h++){var k=g[h].trim();if(k.substring(0,5)==="name:")return k.substring(5).trim()}return this.key},getShaderType:function(g){for(var h=0;h<g.length;h++){var k=g[h].trim();if(k.substring(0,5)==="type:")return k.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(g){for(var h={},k=0;k<g.length;k++){var m=g[k].trim();if(m.substring(0,8)==="uniform."){var n=m.indexOf(":");if(n){var p=m.substring(8,n);try{h[p]=JSON.parse(m.substring(n+1))}catch(q){console.warn("Invalid uniform JSON: "+p)}}}}return h},extractBlock:function(g,h){for(var k=-1,m=-1,n=-1,p=!1,q=!1,r=[],s=[],t=h;t<g.length;t++){var u=g[t].trim();if(u==="---")if(k===-1)k=t,p=!0;else if(p)m=t,p=!1,q=!0;else{q=!1;break}else p?r.push(u):q&&(s.push(u),n=t)}return!p&&m!==-1?{header:r,shader:s.join(`
`),offset:n}:null}});b.register("glsl",function(g,h,k,m){if(Array.isArray(g))for(var n=0;n<g.length;n++)this.addFile(new j(this,g[n]));else this.addFile(new j(this,g,h,k,m));return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m){var n="html";if(e(h)){var p=h;h=f(p,"key"),k=f(p,"url"),m=f(p,"xhrSettings"),n=f(p,"extension",n)}var q={type:"text",cache:g.cacheManager.html,extension:n,responseType:"text",key:h,url:k,xhrSettings:m};i.call(this,g,q)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});b.register("html",function(j,g,h){if(Array.isArray(j))for(var k=0;k<j.length;k++)this.addFile(new c(this,j[k]));else this.addFile(new c(this,j,g,h));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m,n,p){m===void 0&&(m=512),n===void 0&&(n=512);var q="html";if(e(h)){var r=h;h=f(r,"key"),k=f(r,"url"),p=f(r,"xhrSettings"),q=f(r,"extension",q),m=f(r,"width",m),n=f(r,"height",n)}var s={type:"html",cache:g.textureManager,extension:q,responseType:"text",key:h,url:k,xhrSettings:p,config:{width:m,height:n}};i.call(this,g,s)},onProcess:function(){this.state=l.FILE_PROCESSING;var j=this.config.width,g=this.config.height,h=[];h.push('<svg width="'+j+'px" height="'+g+'px" viewBox="0 0 '+j+" "+g+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var k=[h.join(`
`)],m=this;try{var n=new window.Blob(k,{type:"image/svg+xml;charset=utf-8"})}catch(p){m.state=l.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image(),this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){i.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(m.data),m.onProcessError()},i.createObjectURL(this.data,n,"image/svg+xml")},addToCache:function(){var j=this.cache.addImage(this.key,this.data);this.pendingDestroy(j)}});b.register("htmlTexture",function(j,g,h,k,m){if(Array.isArray(j))for(var n=0;n<j.length;n++)this.addFile(new c(this,j[n]));else this.addFile(new c(this,j,g,h,k,m));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(2),b=a(72),f=a(7),e=a(60),c=a(61),j=new d({Extends:c,initialize:function g(h,k,m,n,p,q,r){if(f(k)){var s=k;k=i(s,"key"),i(s,"url",!1)?m=i(s,"url"):m=i(s,"atlasURL"),q=i(s,"xhrSettings"),n=i(s,"path"),p=i(s,"baseURL"),r=i(s,"textureXhrSettings")}var t=new e(h,k,m,q);c.call(this,h,"multiatlas",k,[t]),this.config.path=n,this.config.baseURL=p,this.config.textureXhrSettings=r},onFileComplete:function(g){var h=this.files.indexOf(g);if(h!==-1){this.pending--;if(g.type==="json"&&g.data.hasOwnProperty("textures")){var k=g.data.textures,m=this.config,n=this.loader,p=n.baseURL,q=n.path,r=n.prefix,s=i(m,"baseURL",this.baseURL),t=i(m,"path",this.path),u=i(m,"prefix",this.prefix),v=i(m,"textureXhrSettings");n.setBaseURL(s),n.setPath(t),n.setPrefix(u);for(var x=0;x<k.length;x++){var z=k[x].image,y="MA"+this.multiKeyIndex+"_"+z,A=new b(n,y,z,v);this.addToMultiFile(A),n.addFile(A);if(k[x].normalMap){var D=new b(n,y,k[x].normalMap,v);D.type="normalMap",A.setLink(D),this.addToMultiFile(D),n.addFile(D)}}n.setBaseURL(p),n.setPath(q),n.setPrefix(r)}}},addToCache:function(){if(this.isReadyToProcess()){for(var g=this.files[0],h=[],k=[],m=[],n=1;n<this.files.length;n++){var p=this.files[n];if(p.type==="normalMap")continue;for(var q=p.key.indexOf("_"),r=p.key.substr(q+1),s=p.data,t=0;t<g.data.textures.length;t++){var u=g.data.textures[t];if(u.image===r){k.push(s),h.push(u),p.linkFile&&m.push(p.linkFile.data);break}}}for(m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,k,h,m),this.complete=!0,n=0;n<this.files.length;n++)this.files[n].pendingDestroy()}}});l.register("multiatlas",function(g,h,k,m,n){var p;if(Array.isArray(g))for(var q=0;q<g.length;q++)p=new j(this,g[q]),this.addFile(p.files);else p=new j(this,g,h,k,m,n),this.addFile(p.files);return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(2),b=a(7),f=a(61),e=a(458),c=new d({Extends:f,initialize:function j(g,h,k,m){var n="js",p=[];if(b(h)){var q=h;h=i(q,"key"),k=i(q,"url"),m=i(q,"xhrSettings"),n=i(q,"extension",n)}Array.isArray(k)||(k=[k]);for(var r=0;r<k.length;r++){var s=new e(g,{key:h+"_"+r.toString(),url:k[r],extension:n,xhrSettings:m});s.onProcess=function(){this.onProcessComplete()},p.push(s)}f.call(this,g,"scripts",h,p)},addToCache:function(){if(this.isReadyToProcess()){for(var j=0;j<this.files.length;j++){var g=this.files[j];g.data=document.createElement("script"),g.data.language="javascript",g.data.type="text/javascript",g.data.defer=!1,g.data.text=g.xhrLoader.responseText,document.head.appendChild(g.data)}this.complete=!0}}});l.register("scripts",function(j,g,h){var k;if(Array.isArray(j))for(var m=0;m<j.length;m++)k=new c(this,j[m]),this.addFile(k.files);else k=new c(this,j,g,h),this.addFile(k.files);return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(8),b=a(60),f=new d({Extends:b,initialize:function e(c,j,g,h,k){b.call(this,c,j,g,h,k),this.type="packfile"},onProcess:function(){this.state!==l.FILE_POPULATED&&(this.state=l.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});i.register("pack",function(e,c,j,g){if(Array.isArray(e))for(var h=0;h<e.length;h++)this.addFile(new f(this,e[h]));else this.addFile(new f(this,e,c,g,j));return this}),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m,n,p){var q="js";if(e(h)){var r=h;h=f(r,"key"),k=f(r,"url"),p=f(r,"xhrSettings"),q=f(r,"extension",q),m=f(r,"start"),n=f(r,"mapping")}var s={type:"plugin",cache:!1,extension:q,responseType:"text",key:h,url:k,xhrSettings:p,config:{start:m,mapping:n}};i.call(this,g,s),typeof k==="function"&&(this.data=k,this.state=l.FILE_POPULATED)},onProcess:function(){var j=this.loader.systems.plugins,g=this.config,h=f(g,"start",!1),k=f(g,"mapping",null);if(this.state===l.FILE_POPULATED)j.install(this.key,this.data,h,k);else{this.state=l.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=j.install(this.key,window[this.key],h,k);(h||k)&&(this.loader.systems[k]=m,this.loader.scene[k]=m)}this.onProcessComplete()}});b.register("plugin",function(j,g,h,k,m){if(Array.isArray(j))for(var n=0;n<j.length;n++)this.addFile(new c(this,j[n]));else this.addFile(new c(this,j,g,h,k,m));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m){var n="js";if(e(h)){var p=h;h=f(p,"key"),k=f(p,"url"),m=f(p,"xhrSettings"),n=f(p,"extension",n)}var q={type:"text",cache:g.cacheManager.text,extension:n,responseType:"text",key:h,url:k,xhrSettings:m};i.call(this,g,q)},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var j=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),g=eval;this.loader.sceneManager.add(this.key,g(j)),this.complete=!0}});b.register("sceneFile",function(j,g,h){if(Array.isArray(j))for(var k=0;k<j.length;k++)this.addFile(new c(this,j[k]));else this.addFile(new c(this,j,g,h));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m,n,p){var q="js";if(e(h)){var r=h;h=f(r,"key"),k=f(r,"url"),p=f(r,"xhrSettings"),q=f(r,"extension",q),m=f(r,"systemKey"),n=f(r,"sceneKey")}var s={type:"scenePlugin",cache:!1,extension:q,responseType:"text",key:h,url:k,xhrSettings:p,config:{systemKey:m,sceneKey:n}};i.call(this,g,s),typeof k==="function"&&(this.data=k,this.state=l.FILE_POPULATED)},onProcess:function(){var j=this.loader.systems.plugins,g=this.config,h=this.key,k=f(g,"systemKey",h),m=f(g,"sceneKey",h);this.state===l.FILE_POPULATED?j.installScenePlugin(k,this.data,m,this.loader.scene,!0):(this.state=l.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),j.installScenePlugin(k,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});b.register("scenePlugin",function(j,g,h,k,m){if(Array.isArray(j))for(var n=0;n<j.length;n++)this.addFile(new c(this,j[n]));else this.addFile(new c(this,j,g,h,k,m));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(72),b=new d({Extends:i,initialize:function f(e,c,j,g,h){i.call(this,e,c,j,h,g),this.type="spritesheet"},addToCache:function(){var f=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(f)}});l.register("spritesheet",function(f,e,c,j){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new b(this,f[g]));else this.addFile(new b(this,f,e,c,j));return this}),o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=new d({Extends:i,initialize:function j(g,h,k,m,n){var p="svg";if(e(h)){var q=h;h=f(q,"key"),k=f(q,"url"),m=f(q,"svgConfig",{}),n=f(q,"xhrSettings"),p=f(q,"extension",p)}var r={type:"svg",cache:g.textureManager,extension:p,responseType:"text",key:h,url:k,xhrSettings:n,config:{width:f(m,"width"),height:f(m,"height"),scale:f(m,"scale")}};i.call(this,g,r)},onProcess:function(){this.state=l.FILE_PROCESSING;var j=this.xhrLoader.responseText,g=[j],h=this.config.width,k=this.config.height,m=this.config.scale;ta:if(h&&k||m){var n=null,p=new DOMParser();n=p.parseFromString(j,"text/xml");var q=n.getElementsByTagName("svg")[0],r=q.hasAttribute("viewBox"),s=parseFloat(q.getAttribute("width")),t=parseFloat(q.getAttribute("height"));if(!r&&s&&t)q.setAttribute("viewBox","0  0 "+s+" "+t);else if(r&&!s&&!t){var u=q.getAttribute("viewBox").split(/\s+|,/);s=u[2],t=u[3]}if(m)if(s&&t)h=s*m,k=t*m;else break ta;q.setAttribute("width",h.toString()+"px"),q.setAttribute("height",k.toString()+"px"),g=[new XMLSerializer().serializeToString(q)]}try{var v=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch(y){this.onProcessError();return}this.data=new Image(),this.data.crossOrigin=this.crossOrigin;var x=this,z=!1;this.data.onload=function(){z||i.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){z?x.onProcessError():(z=!0,i.revokeObjectURL(x.data),x.data.src="data:image/svg+xml,"+encodeURIComponent(g.join("")))},i.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){var j=this.cache.addImage(this.key,this.data);this.pendingDestroy(j)}});b.register("svg",function(j,g,h,k){if(Array.isArray(j))for(var m=0;m<j.length;m++)this.addFile(new c(this,j[m]));else this.addFile(new c(this,j,g,h,k));return this}),o.exports=c},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(2),e=a(7),c=a(32),j=new d({Extends:i,initialize:function g(h,k,m,n){var p="csv";if(e(k)){var q=k;k=f(q,"key"),m=f(q,"url"),n=f(q,"xhrSettings"),p=f(q,"extension",p)}var r={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:p,responseType:"text",key:k,url:m,xhrSettings:n};i.call(this,h,r),this.tilemapFormat=c.CSV},onProcess:function(){this.state=l.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var g={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,g),this.pendingDestroy(g)}});b.register("tilemapCSV",function(g,h,k){if(Array.isArray(g))for(var m=0;m<g.length;m++)this.addFile(new j(this,g[m]));else this.addFile(new j(this,g,h,k));return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(60),b=a(32),f=new d({Extends:i,initialize:function e(c,j,g,h){i.call(this,c,j,g,h),this.type="tilemapJSON",this.cache=c.cacheManager.tilemap},addToCache:function(){var e={format:b.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});l.register("tilemapImpact",function(e,c,j){if(Array.isArray(e))for(var g=0;g<e.length;g++)this.addFile(new f(this,e[g]));else this.addFile(new f(this,e,c,j));return this}),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(60),b=a(32),f=new d({Extends:i,initialize:function e(c,j,g,h){i.call(this,c,j,g,h),this.type="tilemapJSON",this.cache=c.cacheManager.tilemap},addToCache:function(){var e={format:b.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});l.register("tilemapTiledJSON",function(e,c,j){if(Array.isArray(e))for(var g=0;g<e.length;g++)this.addFile(new f(this,e[g]));else this.addFile(new f(this,e,c,j));return this}),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(8),i=a(2),b=a(72),f=a(7),e=a(61),c=a(459),j=new d({Extends:e,initialize:function g(h,k,m,n,p,q){var r,s;if(f(k)){var t=k;k=i(t,"key"),r=new b(h,{key:k,url:i(t,"textureURL"),extension:i(t,"textureExtension","png"),normalMap:i(t,"normalMap"),xhrSettings:i(t,"textureXhrSettings")}),s=new c(h,{key:k,url:i(t,"atlasURL"),extension:i(t,"atlasExtension","txt"),xhrSettings:i(t,"atlasXhrSettings")})}else r=new b(h,k,m,p),s=new c(h,k,n,q);r.linkFile?e.call(this,h,"unityatlas",k,[r,s,r.linkFile]):e.call(this,h,"unityatlas",k,[r,s])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],h=this.files[1],k=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(g.key,g.data,h.data,k),h.addToCache(),this.complete=!0}}});l.register("unityAtlas",function(g,h,k,m,n){var p;if(Array.isArray(g))for(var q=0;q<g.length;q++)p=new j(this,g[q]),this.addFile(p.files);else p=new j(this,g,h,k,m,n),this.addFile(p.files);return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(21),b=a(8),f=a(138),e=a(2),c=a(7),j=new d({Extends:i,initialize:function g(h,k,m,n,p,q,r){n===void 0&&(n="loadeddata"),p===void 0&&(p=!1),q===void 0&&(q=!1),n!=="loadeddata"&&n!=="canplay"&&n!=="canplaythrough"&&(n="loadeddata");var s={type:"video",cache:h.cacheManager.video,extension:m.type,responseType:"blob",key:k,url:m.url,xhrSettings:r,config:{loadEvent:n,asBlob:p,noAudio:q}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),i.call(this,h,s)},onProcess:function(){this.state=l.FILE_PROCESSING;if(!this.config.asBlob){this.onProcessComplete();return}var g=this.createVideoElement();this.data=g;var h=this;this.data.onloadeddata=function(){h.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(h.data),h.onProcessError()},i.createObjectURL(g,this.xhrLoader.response,""),g.load()},createVideoElement:function(){var g=document.createElement("video");return g.controls=!1,g.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(g.muted=!0,g.defaultMuted=!0,g.setAttribute("autoplay","autoplay")),g.setAttribute("playsinline","playsinline"),g.setAttribute("preload","auto"),g},onVideoLoadHandler:function(g){var h=g.target;h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0),this.data=h,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(g){var h=g.target;h&&(h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var g=this.config.loadEvent;if(this.config.asBlob)i.prototype.load.call(this);else{this.percentComplete=0;var h=this.createVideoElement();h.addEventListener(g,this.onLoadCallback,!0),h.addEventListener("error",this.onErrorCallback,!0),h.src=f(this,this.loader.baseURL),h.load()}}});j.create=function(g,h,k,m,n,p,q){var r=g.systems.game;c(h)&&(k=e(h,"url",[]),m=e(h,"loadEvent","loadeddata"),n=e(h,"asBlob",!1),p=e(h,"noAudio",!1),q=e(h,"xhrSettings"));var s=j.getVideoURL(r,k);if(s)return new j(g,h,s,m,n,p,q)},j.getVideoURL=function(g,h){Array.isArray(h)||(h=[h]);for(var k=0;k<h.length;k++){var m=e(h[k],"url",h[k]);if(m.indexOf("blob:")===0)return{url:m,type:""};var n;m.indexOf("data:")===0?n=m.split(",")[0].match(/\/(.*?);/):n=m.match(/\.([a-zA-Z0-9]+)($|\?)/),n=e(h[k],"type",n?n[1]:"").toLowerCase();if(g.device.video[n])return{url:m,type:n}}return null},b.register("video",function(g,h,k,m,n,p){var q;if(Array.isArray(g))for(var r=0;r<g.length;r++)q=j.create(this,g[r]),q&&this.addFile(q);else q=j.create(this,g,h,k,m,n,p),q&&this.addFile(q);return this}),o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(17),i=a(133),b=a(10),f=a(82),e=a(8),c=a(2),j=a(23),g=a(22),h=a(139),k=new d({Extends:b,initialize:function m(n){b.call(this);var p=n.sys.game.config,q=n.sys.settings.loader;this.scene=n,this.systems=n.sys,this.cacheManager=n.sys.cache,this.textureManager=n.sys.textures,this.sceneManager=n.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(c(q,"baseURL",p.loaderBaseURL)),this.setPath(c(q,"path",p.loaderPath)),this.setPrefix(c(q,"prefix",p.loaderPrefix)),this.maxParallelDownloads=c(q,"maxParallelDownloads",p.loaderMaxParallelDownloads),this.xhr=h(c(q,"responseType",p.loaderResponseType),c(q,"async",p.loaderAsync),c(q,"user",p.loaderUser),c(q,"password",p.loaderPassword),c(q,"timeout",p.loaderTimeout),c(q,"withCredentials",p.loaderWithCredentials)),this.crossOrigin=c(q,"crossOrigin",p.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new i(),this.inflight=new i(),this.queue=new i(),this._deleteQueue=new i(),this.totalFailed=0,this.totalComplete=0,this.state=l.LOADER_IDLE,this.multiKeyIndex=0,n.sys.events.once(g.BOOT,this.boot,this),n.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var n=0;n<m.length;n++){var p=m[n];this.keyExists(p)||(this.list.set(p),this.emit(f.ADD,p.key,p.type,this,p),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var n=m.hasCacheConflict();return n||this.list.iterate(function(p){if(p.type===m.type&&p.key===m.key)return n=!0,!1}),!n&&this.isLoading()&&(this.inflight.iterate(function(p){if(p.type===m.type&&p.key===m.key)return n=!0,!1}),this.queue.iterate(function(p){if(p.type===m.type&&p.key===m.key)return n=!0,!1})),n},addPack:function(m,n){n&&m.hasOwnProperty(n)&&(m={packKey:m[n]});var p=0,q=this.baseURL,r=this.path,s=this.prefix;for(var t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;var u=m[t],v=c(u,"baseURL",q),x=c(u,"path",r),z=c(u,"prefix",s),y=c(u,"files",null),A=c(u,"defaultType","void");if(Array.isArray(y)){this.setBaseURL(v),this.setPath(x),this.setPrefix(z);for(var D=0;D<y.length;D++){var F=y[D],H=F.hasOwnProperty("type")?F.type:A;this[H]&&(this[H](F),p++)}}}return this.setBaseURL(q),this.setPath(r),this.setPrefix(s),p>0},isLoading:function(){return this.state===l.LOADER_LOADING||this.state===l.LOADER_PROCESSING},isReady:function(){return this.state===l.LOADER_IDLE||this.state===l.LOADER_COMPLETE},start:function(){if(!this.isReady())return;this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(f.START,this),this.list.size===0?this.loadComplete():(this.state=l.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(g.UPDATE,this.update,this))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(f.PROGRESS,this.progress)},update:function(){this.state===l.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){(m.state===l.FILE_POPULATED||m.state===l.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load());if(this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,n){if(!this.inflight)return;this.inflight.delete(m),this.updateProgress(),n?(this.totalComplete++,this.queue.set(m),this.emit(f.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(f.FILE_LOAD_ERROR,m),this.fileProcessComplete(m))},fileProcessComplete:function(m){if(!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy)return;m.state===l.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===l.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&m.multiFile.addToCache():m.addToCache()),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete()},loadComplete:function(){this.emit(f.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=l.LOADER_COMPLETE,this.systems.events.off(g.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(f.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,n){return this.save(JSON.stringify(m),n)},save:function(m,n,p){n===void 0&&(n="file.json"),p===void 0&&(p="application/json");var q=new Blob([m],{type:p}),r=URL.createObjectURL(q),s=document.createElement("a");return s.download=n,s.textContent="Download "+n,s.href=r,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,n=this.systems.settings.loader;this.setBaseURL(c(n,"baseURL",m.loaderBaseURL)),this.setPath(c(n,"path",m.loaderPath)),this.setPrefix(c(n,"prefix",m.loaderPrefix)),this.state=l.LOADER_IDLE},shutdown:function(){this.reset(),this.state=l.LOADER_SHUTDOWN,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=l.LOADER_DESTROYED,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});j.register("Loader",k,"load"),o.exports=k},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(50),l=a(18),i={ArcadePhysics:a(1262),Body:a(466),Collider:a(467),Components:a(217),Events:a(218),Factory:a(460),Group:a(462),Image:a(461),Sprite:a(140),StaticBody:a(472),StaticGroup:a(463),World:a(465)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(39),i=a(53),b=a(321),f=a(460),e=a(2),c=a(126),j=a(1275),g=a(464),h=a(23),k=a(22),m=a(3),n=a(465),p=new d({initialize:function q(r){this.scene=r,this.systems=r.sys,this.config=this.getConfig(),this.world,this.add,r.sys.events.once(k.BOOT,this.boot,this),r.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new n(this.scene,this.config),this.add=new f(this.world),this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new n(this.scene,this.config),this.add=new f(this.world));var q=this.systems.events;q.on(k.UPDATE,this.world.update,this.world),q.on(k.POST_UPDATE,this.world.postUpdate,this.world),q.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var q=this.systems.game.config.physics,r=this.systems.settings.physics,s=c(e(r,"arcade",{}),e(q,"arcade",{}));return s},overlap:function(q,r,s,t,u){return s===void 0&&(s=null),t===void 0&&(t=null),u===void 0&&(u=s),this.world.collideObjects(q,r,s,t,u,!0)},collide:function(q,r,s,t,u){return s===void 0&&(s=null),t===void 0&&(t=null),u===void 0&&(u=s),this.world.collideObjects(q,r,s,t,u,!1)},collideTiles:function(q,r,s,t,u){return this.world.collideTiles(q,r,s,t,u)},overlapTiles:function(q,r,s,t,u){return this.world.overlapTiles(q,r,s,t,u)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(q,r,s,t,u,v){t===void 0&&(t=60);var x=Math.atan2(s-q.y,r-q.x);return q.body.acceleration.setToPolar(x,t),u!==void 0&&v!==void 0&&q.body.maxVelocity.set(u,v),x},accelerateToObject:function(q,r,s,t,u){return this.accelerateTo(q,r.x,r.y,s,t,u)},closest:function(q,r){r||(r=this.world.bodies.entries);for(var s=Number.MAX_VALUE,t=null,u=q.x,v=q.y,x=r.length,z=0;z<x;z++){var y=r[z],A=y.body||y;if(q===y||q===A||q===A.gameObject||q===A.center)continue;var D=b(u,v,A.center.x,A.center.y);D<s&&(t=y,s=D)}return t},furthest:function(q,r){r||(r=this.world.bodies.entries);for(var s=-1,t=null,u=q.x,v=q.y,x=r.length,z=0;z<x;z++){var y=r[z],A=y.body||y;if(q===y||q===A||q===A.gameObject||q===A.center)continue;var D=b(u,v,A.center.x,A.center.y);D>s&&(t=y,s=D)}return t},moveTo:function(q,r,s,t,u){t===void 0&&(t=60),u===void 0&&(u=0);var v=Math.atan2(s-q.y,r-q.x);return u>0&&(t=i(q.x,q.y,r,s)/(u/1e3)),q.body.velocity.setToPolar(v,t),v},moveToObject:function(q,r,s,t){return this.moveTo(q,r.x,r.y,s,t)},velocityFromAngle:function(q,r,s){return r===void 0&&(r=60),s===void 0&&(s=new m()),s.setToPolar(l(q),r)},velocityFromRotation:function(q,r,s){return r===void 0&&(r=60),s===void 0&&(s=new m()),s.setToPolar(q,r)},overlapRect:function(q,r,s,t,u,v){return g(this.world,q,r,s,t,u,v)},overlapCirc:function(q,r,s,t,u){return j(this.world,q,r,s,t,u)},shutdown:function(){if(!this.world)return;var q=this.systems.events;q.off(k.UPDATE,this.world.update,this.world),q.off(k.POST_UPDATE,this.world.postUpdate,this.world),q.off(k.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",p,"arcadePhysics"),o.exports=p},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setAcceleration:function(d,l){return this.body.acceleration.set(d,l),this},setAccelerationX:function(d){return this.body.acceleration.x=d,this},setAccelerationY:function(d){return this.body.acceleration.y=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setAngularVelocity:function(d){return this.body.angularVelocity=d,this},setAngularAcceleration:function(d){return this.body.angularAcceleration=d,this},setAngularDrag:function(d){return this.body.angularDrag=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setBounce:function(d,l){return this.body.bounce.set(d,l),this},setBounceX:function(d){return this.body.bounce.x=d,this},setBounceY:function(d){return this.body.bounce.y=d,this},setCollideWorldBounds:function(d,l,i){return this.body.setCollideWorldBounds(d,l,i),this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setDebug:function(d,l,i){return this.debugShowBody=d,this.debugShowVelocity=l,this.debugBodyColor=i,this},setDebugBodyColor:function(d){return this.body.debugBodyColor=d,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(d){this.body.debugShowBody=d}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(d){this.body.debugShowVelocity=d}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(d){this.body.debugBodyColor=d}}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setDrag:function(d,l){return this.body.drag.set(d,l),this},setDragX:function(d){return this.body.drag.x=d,this},setDragY:function(d){return this.body.drag.y=d,this},setDamping:function(d){return this.body.useDamping=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={enableBody:function(d,l,i,b,f){return d&&this.body.reset(l,i),b&&(this.body.gameObject.active=!0),f&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(d,l){return d===void 0&&(d=!1),l===void 0&&(l=!1),this.body.stop(),this.body.enable=!1,d&&(this.body.gameObject.active=!1),l&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setFriction:function(d,l){return this.body.friction.set(d,l),this},setFrictionX:function(d){return this.body.friction.x=d,this},setFrictionY:function(d){return this.body.friction.y=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setGravity:function(d,l){return this.body.gravity.set(d,l),this},setGravityX:function(d){return this.body.gravity.x=d,this},setGravityY:function(d){return this.body.gravity.y=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setImmovable:function(d){return d===void 0&&(d=!0),this.body.immovable=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setMass:function(d){return this.body.mass=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setOffset:function(d,l){return this.body.setOffset(d,l),this},setSize:function(d,l,i){return this.body.setSize(d,l,i),this},setBodySize:function(d,l,i){return this.body.setSize(d,l,i),this},setCircle:function(d,l,i){return this.body.setCircle(d,l,i),this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setVelocity:function(d,l){return this.body.setVelocity(d,l),this},setVelocityX:function(d){return this.body.setVelocityX(d),this},setVelocityY:function(d){return this.body.setVelocityY(d),this},setMaxVelocity:function(d,l){return this.body.maxVelocity.set(d,l),this}};o.exports=a},function(o,w,a){var d=a(464),l=a(65),i=a(205),b=a(206),f=function(e,c,j,g,h,k){var m=d(e,c-g,j-g,2*g,2*g,h,k);if(m.length===0)return m;for(var n=new l(c,j,g),p=new l(),q=[],r=0;r<m.length;r++){var s=m[r];s.isCircle?(p.setTo(s.center.x,s.center.y,s.halfWidth),i(n,p)&&q.push(s)):b(n,s)&&q.push(s)}return q};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collide"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="overlap"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="tilecollide"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="tileoverlap"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="worldbounds"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="worldstep"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.collisionCallback?!d.collisionCallback.call(d.collisionCallbackContext,l,d):d.layer.callbacks[d.index]?!d.layer.callbacks[d.index].callback.call(d.layer.callbacks[d.index].callbackContext,l,d):!0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1286),l=a(1288),i=a(471),b=function(f,e,c,j,g,h,k){var m=j.left,n=j.top,p=j.right,q=j.bottom,r=c.faceLeft||c.faceRight,s=c.faceTop||c.faceBottom;k||(r=!0,s=!0);if(!r&&!s)return!1;var t=0,u=0,v=0,x=1;e.deltaAbsX()>e.deltaAbsY()?v=-1:e.deltaAbsX()<e.deltaAbsY()&&(x=-1),e.deltaX()!==0&&e.deltaY()!==0&&r&&s&&(v=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-m)),x=Math.min(Math.abs(e.position.y-q),Math.abs(e.bottom-n)));if(v<x){if(r){t=d(e,c,m,p,h,k);if(t!==0&&!i(j,e))return!0}s&&(u=l(e,c,n,q,h,k))}else{if(s){u=l(e,c,n,q,h,k);if(u!==0&&!i(j,e))return!0}r&&(t=d(e,c,m,p,h,k))}return t!==0||u!==0};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1287),l=function(i,b,f,e,c,j){var g=0,h=b.faceLeft,k=b.faceRight,m=b.collideLeft,n=b.collideRight;return j||(h=!0,k=!0,m=!0,n=!0),i.deltaX()<0&&n&&i.checkCollision.left?k&&i.x<e&&(g=i.x-e,g<-c&&(g=0)):i.deltaX()>0&&m&&i.checkCollision.right&&(h&&i.right>f&&(g=i.right-f,g>c&&(g=0))),g!==0&&(i.customSeparateX?i.overlapX=g:d(i,g)),g};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l<0?(d.blocked.none=!1,d.blocked.left=!0):l>0&&(d.blocked.none=!1,d.blocked.right=!0),d.position.x-=l,d.bounce.x===0?d.velocity.x=0:d.velocity.x=-d.velocity.x*d.bounce.x};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1289),l=function(i,b,f,e,c,j){var g=0,h=b.faceTop,k=b.faceBottom,m=b.collideUp,n=b.collideDown;return j||(h=!0,k=!0,m=!0,n=!0),i.deltaY()<0&&n&&i.checkCollision.up?k&&i.y<e&&(g=i.y-e,g<-c&&(g=0)):i.deltaY()>0&&m&&i.checkCollision.down&&(h&&i.bottom>f&&(g=i.bottom-f,g>c&&(g=0))),g!==0&&(i.customSeparateY?i.overlapY=g:d(i,g)),g};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){l<0?(d.blocked.none=!1,d.blocked.up=!0):l>0&&(d.blocked.none=!1,d.blocked.down=!0),d.position.y-=l,d.bounce.y===0?d.velocity.y=0:d.velocity.y=-d.velocity.y*d.bounce.y};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(468),l=function(i,b,f,e){var c=d(i,b,f,e);if(f||c===0||i.immovable&&b.immovable||i.customSeparateX||b.customSeparateX)return c!==0||i.embedded&&b.embedded;var j=i.velocity.x,g=b.velocity.x;if(!i.immovable&&!b.immovable){c*=.5,i.x-=c,b.x+=c;var h=Math.sqrt(g*g*b.mass/i.mass)*(g>0?1:-1),k=Math.sqrt(j*j*i.mass/b.mass)*(j>0?1:-1),m=(h+k)*.5;h-=m,k-=m,i.velocity.x=m+h*i.bounce.x,b.velocity.x=m+k*b.bounce.x}else i.immovable?(b.x+=c,b.velocity.x=j-g*b.bounce.x,i.moves&&(b.y+=(i.y-i.prev.y)*i.friction.y)):(i.x-=c,i.velocity.x=g-j*i.bounce.x,b.moves&&(i.y+=(b.y-b.prev.y)*b.friction.y));return!0};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(469),l=function(i,b,f,e){var c=d(i,b,f,e);if(f||c===0||i.immovable&&b.immovable||i.customSeparateY||b.customSeparateY)return c!==0||i.embedded&&b.embedded;var j=i.velocity.y,g=b.velocity.y;if(!i.immovable&&!b.immovable){c*=.5,i.y-=c,b.y+=c;var h=Math.sqrt(g*g*b.mass/i.mass)*(g>0?1:-1),k=Math.sqrt(j*j*i.mass/b.mass)*(j>0?1:-1),m=(h+k)*.5;h-=m,k-=m,i.velocity.y=m+h*i.bounce.y,b.velocity.y=m+k*b.bounce.y}else i.immovable?(b.y+=c,b.velocity.y=j-g*b.bounce.y,i.moves&&(b.x+=(i.x-i.prev.x)*i.friction.x)):(i.y-=c,i.velocity.y=g-j*i.bounce.y,b.moves&&(i.x+=(b.x-b.prev.x)*b.friction.x));return!0};o.exports=l},function(o,w,a){var d={};o.exports=d;var l=a(148),i=a(219),b=a(42),f=a(62),e=a(109);(function(){d.stack=function(c,j,g,h,k,m,n){for(var p=l.create({label:"Stack"}),q=c,r=j,s,t=0,u=0;u<h;u++){for(var v=0,x=0;x<g;x++){var z=n(q,r,x,u,s,t);if(z){var y=z.bounds.max.y-z.bounds.min.y,A=z.bounds.max.x-z.bounds.min.x;y>v&&(v=y),f.translate(z,{x:A*.5,y:y*.5}),q=z.bounds.max.x+k,l.addBody(p,z),s=z,t+=1}else q+=k}r+=v+m,q=c}return p},d.chain=function(c,j,g,h,k,m){for(var n=c.bodies,p=1;p<n.length;p++){var q=n[p-1],r=n[p],s=q.bounds.max.y-q.bounds.min.y,t=q.bounds.max.x-q.bounds.min.x,u=r.bounds.max.y-r.bounds.min.y,v=r.bounds.max.x-r.bounds.min.x,x={bodyA:q,pointA:{x:t*j,y:s*g},bodyB:r,pointB:{x:v*h,y:u*k}},z=b.extend(x,m);l.addConstraint(c,i.create(z))}return c.label+=" Chain",c},d.mesh=function(c,j,g,h,k){var m=c.bodies,n,p,q,r,s;for(n=0;n<g;n++){for(p=1;p<j;p++)q=m[p-1+n*j],r=m[p+n*j],l.addConstraint(c,i.create(b.extend({bodyA:q,bodyB:r},k)));if(n>0)for(p=0;p<j;p++)q=m[p+(n-1)*j],r=m[p+n*j],l.addConstraint(c,i.create(b.extend({bodyA:q,bodyB:r},k))),h&&p>0&&(s=m[p-1+(n-1)*j],l.addConstraint(c,i.create(b.extend({bodyA:s,bodyB:r},k)))),h&&p<j-1&&(s=m[p+1+(n-1)*j],l.addConstraint(c,i.create(b.extend({bodyA:s,bodyB:r},k))))}return c.label+=" Mesh",c},d.pyramid=function(c,j,g,h,k,m,n){return d.stack(c,j,g,h,k,m,function(p,q,r,s,t,u){var v=Math.min(h,Math.ceil(g/2)),x=t?t.bounds.max.x-t.bounds.min.x:0;if(s>v)return;s=v-s;var z=s,y=g-1-s;if(r<z||r>y)return;u===1&&f.translate(t,{x:(r+(g%2===1?1:-1))*x,y:0});var A=t?r*x:0;return n(c+A+r*k,q,r,s,t,u)})},d.newtonsCradle=function(c,j,g,h,k){for(var m=l.create({label:"Newtons Cradle"}),n=0;n<g;n++){var p=1.9,q=e.circle(c+n*(h*p),j+k,h,{inertia:Infinity,restitution:1,friction:0,frictionAir:1e-4,slop:1}),r=i.create({pointA:{x:c+n*(h*p),y:j},bodyB:q});l.addBody(m,q),l.addConstraint(m,r)}return m},d.car=function(c,j,g,h,k){var m=f.nextGroup(!0),n=20,p=-g*.5+n,q=g*.5-n,r=0,s=l.create({label:"Car"}),t=e.rectangle(c,j,g,h,{collisionFilter:{group:m},chamfer:{radius:h*.5},density:2e-4}),u=e.circle(c+p,j+r,k,{collisionFilter:{group:m},friction:.8}),v=e.circle(c+q,j+r,k,{collisionFilter:{group:m},friction:.8}),x=i.create({bodyB:t,pointB:{x:p,y:r},bodyA:u,stiffness:1,length:0}),z=i.create({bodyB:t,pointB:{x:q,y:r},bodyA:v,stiffness:1,length:0});return l.addBody(s,t),l.addBody(s,u),l.addBody(s,v),l.addConstraint(s,x),l.addConstraint(s,z),s},d.softBody=function(c,j,g,h,k,m,n,p,q,r){q=b.extend({inertia:Infinity},q),r=b.extend({stiffness:.2,render:{type:"line",anchors:!1}},r);var s=d.stack(c,j,g,h,k,m,function(t,u){return e.circle(t,u,p,q)});return d.mesh(s,g,h,n,r),s.label="Soft Body",s}})()},function(o,w,a){var d={};o.exports=d;var l=a(100),i=a(42);(function(){d.pathToVertices=function(b,f){typeof window!=="undefined"&&!("SVGPathSeg"in window)&&i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var e,c,j,g,h,k,m,n,p,q,r=[],s,t,u=0,v=0,x=0;f=f||15;var z=function(A,D,F){var H=F%2===1&&F>1;if(!p||A!=p.x||D!=p.y){p&&H?(s=p.x,t=p.y):(s=0,t=0);var I={x:s+A,y:t+D};(H||!p)&&(p=I),r.push(I),v=s+A,x=t+D}},y=function(A){var D=A.pathSegTypeAsLetter.toUpperCase();if(D==="Z")return;switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":v=A.x,x=A.y;break;case"H":v=A.x;break;case"V":x=A.y;break}z(v,x,A.pathSegType)};for(d._svgPathToAbsolute(b),j=b.getTotalLength(),k=[],e=0;e<b.pathSegList.numberOfItems;e+=1)k.push(b.pathSegList.getItem(e));for(m=k.concat();u<j;){q=b.getPathSegAtLength(u),h=k[q];if(h!=n){for(;m.length&&m[0]!=h;)y(m.shift());n=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":g=b.getPointAtLength(u),z(g.x,g.y,0);break}u+=f}for(e=0,c=m.length;e<c;++e)y(m[e]);return r},d._svgPathToAbsolute=function(b){for(var f,e,c,j,g,h,k=b.pathSegList,m=0,n=0,p=k.numberOfItems,q=0;q<p;++q){var r=k.getItem(q),s=r.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(s))"x"in r&&(m=r.x),"y"in r&&(n=r.y);else{"x1"in r&&(c=m+r.x1),"x2"in r&&(g=m+r.x2),"y1"in r&&(j=n+r.y1),"y2"in r&&(h=n+r.y2),"x"in r&&(m+=r.x),"y"in r&&(n+=r.y);switch(s){case"m":k.replaceItem(b.createSVGPathSegMovetoAbs(m,n),q);break;case"l":k.replaceItem(b.createSVGPathSegLinetoAbs(m,n),q);break;case"h":k.replaceItem(b.createSVGPathSegLinetoHorizontalAbs(m),q);break;case"v":k.replaceItem(b.createSVGPathSegLinetoVerticalAbs(n),q);break;case"c":k.replaceItem(b.createSVGPathSegCurvetoCubicAbs(m,n,c,j,g,h),q);break;case"s":k.replaceItem(b.createSVGPathSegCurvetoCubicSmoothAbs(m,n,g,h),q);break;case"q":k.replaceItem(b.createSVGPathSegCurvetoQuadraticAbs(m,n,c,j),q);break;case"t":k.replaceItem(b.createSVGPathSegCurvetoQuadraticSmoothAbs(m,n),q);break;case"a":k.replaceItem(b.createSVGPathSegArcAbs(m,n,r.r1,r.r2,r.angle,r.largeArcFlag,r.sweepFlag),q);break;case"z":case"Z":m=f,n=e;break}}(s=="M"||s=="m")&&(f=m,e=n)}}})()},function(o,w,a){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(109),l=a(62),i=a(42),b=a(2),f=a(86),e={parseBody:function(c,j,g,h){h===void 0&&(h={});for(var k=b(g,"fixtures",[]),m=[],n=0;n<k.length;n++)for(var p=this.parseFixture(k[n]),q=0;q<p.length;q++)m.push(p[q]);var r=i.clone(g,!0);i.extend(r,h,!0),delete r.fixtures,delete r.type;var s=l.create(r);return l.setParts(s,m),l.setPosition(s,{x:c,y:j}),s},parseFixture:function(c){var j=i.extend({},!1,c);delete j.circle,delete j.vertices;var g;if(c.circle){var h=b(c.circle,"x"),k=b(c.circle,"y"),m=b(c.circle,"radius");g=[d.circle(h,k,m,j)]}else c.vertices&&(g=this.parseVertices(c.vertices,j));return g},parseVertices:function(c,j){j===void 0&&(j={});for(var g=[],h=0;h<c.length;h++)f.clockwiseSort(c[h]),g.push(l.create(i.extend({position:f.centre(c[h]),vertices:c[h]},j)));return d.flagCoincidentParts(g)}};o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(109),l=a(62),i={parseBody:function(b,f,e,c){c===void 0&&(c={});var j,g=e.vertices;if(g.length===1)c.vertices=g[0],j=l.create(c),d.flagCoincidentParts(j.parts);else{for(var h=[],k=0;k<g.length;k++){var m=l.create({vertices:g[k]});h.push(m)}d.flagCoincidentParts(h),c.parts=h,j=l.create(c)}return j.label=e.label,l.setPosition(j,{x:b,y:f}),j}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AFTER_ADD:a(1407),AFTER_REMOVE:a(1408),AFTER_UPDATE:a(1409),BEFORE_ADD:a(1410),BEFORE_REMOVE:a(1411),BEFORE_UPDATE:a(1412),COLLISION_ACTIVE:a(1413),COLLISION_END:a(1414),COLLISION_START:a(1415),DRAG_END:a(1416),DRAG:a(1417),DRAG_START:a(1418),PAUSE:a(1419),RESUME:a(1420),SLEEP_END:a(1421),SLEEP_START:a(1422)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(109),l=a(62),i=a(0),b=a(514),f=a(10),e=a(2),c=a(108),j=a(86),g=new i({Extends:f,Mixins:[b.Bounce,b.Collision,b.Friction,b.Gravity,b.Mass,b.Sensor,b.Sleep,b.Static],initialize:function h(k,m,n){f.call(this),this.tile=m,this.world=k,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var p=e(n,"body",null),q=e(n,"addToWorld",!0);if(p)this.setBody(p,q);else{var r=m.getCollisionGroup(),s=e(r,"objects",[]);s.length>0?this.setFromTileCollision(n):this.setFromTileRectangle(n)}},setFromTileRectangle:function(h){h===void 0&&(h={}),c(h,"isStatic")||(h.isStatic=!0),c(h,"addToWorld")||(h.addToWorld=!0);var k=this.tile.getBounds(),m=k.x+k.width/2,n=k.y+k.height/2,p=d.rectangle(m,n,k.width,k.height,h);return this.setBody(p,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),c(h,"isStatic")||(h.isStatic=!0),c(h,"addToWorld")||(h.addToWorld=!0);for(var k=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,n=this.tile.getLeft(),p=this.tile.getTop(),q=this.tile.getCollisionGroup(),r=e(q,"objects",[]),s=[],t=0;t<r.length;t++){var u=r[t],v=n+u.x*k,x=p+u.y*m,z=u.width*k,y=u.height*m,A=null;if(u.rectangle)A=d.rectangle(v+z/2,x+y/2,z,y,h);else if(u.ellipse)A=d.circle(v+z/2,x+y/2,z/2,h);else if(u.polygon||u.polyline){var D=u.polygon?u.polygon:u.polyline,F=D.map(function(N){return{x:N.x*k,y:N.y*m}}),H=j.create(F),I=j.centre(H);v+=I.x,x+=I.y,A=d.fromVertices(v,x,H,h)}A&&s.push(A)}return s.length===1?this.setBody(s[0],h.addToWorld):s.length>1&&(h.parts=s,this.setBody(l.create(h),h.addToWorld)),this},setBody:function(h,k){return k===void 0&&(k=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,k&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});o.exports=g},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1389);d.Body=a(62),d.Composite=a(148),d.World=a(1300),d.Detector=a(515),d.Grid=a(1301),d.Pairs=a(1302),d.Pair=a(473),d.Query=a(1390),d.Resolver=a(1303),d.SAT=a(516),d.Constraint=a(219),d.Common=a(42),d.Engine=a(1391),d.Events=a(240),d.Sleeping=a(239),d.Plugin=a(1299),d.Bodies=a(109),d.Composites=a(1292),d.Axes=a(513),d.Bounds=a(100),d.Svg=a(1293),d.Vector=a(99),d.Vertices=a(86),d.World.add=d.Composite.add,d.World.remove=d.Composite.remove,d.World.addComposite=d.Composite.addComposite,d.World.addBody=d.Composite.addBody,d.World.addConstraint=d.Composite.addConstraint,d.World.clear=d.Composite.clear,o.exports=d},function(o,w,a){var d={};o.exports=d;var l=a(42);(function(){d._registry={},d.register=function(i){d.isPlugin(i)||l.warn("Plugin.register:",d.toString(i),"does not implement all required fields.");if(i.name in d._registry){var b=d._registry[i.name],f=d.versionParse(i.version).number,e=d.versionParse(b.version).number;f>e?(l.warn("Plugin.register:",d.toString(b),"was upgraded to",d.toString(i)),d._registry[i.name]=i):f<e?l.warn("Plugin.register:",d.toString(b),"can not be downgraded to",d.toString(i)):i!==b&&l.warn("Plugin.register:",d.toString(i),"is already registered to different plugin object")}else d._registry[i.name]=i;return i},d.resolve=function(i){return d._registry[d.dependencyParse(i).name]},d.toString=function(i){return typeof i==="string"?i:(i.name||"anonymous")+"@"+(i.version||i.range||"0.0.0")},d.isPlugin=function(i){return i&&i.name&&i.version&&i.install},d.isUsed=function(i,b){return i.used.indexOf(b)>-1},d.isFor=function(i,b){var f=i.for&&d.dependencyParse(i.for);return!i.for||b.name===f.name&&d.versionSatisfies(b.version,f.range)},d.use=function(i,b){i.uses=(i.uses||[]).concat(b||[]);if(i.uses.length===0){l.warn("Plugin.use:",d.toString(i),"does not specify any dependencies to install.");return}for(var f=d.dependencies(i),e=l.topologicalSort(f),c=[],j=0;j<e.length;j+=1){if(e[j]===i.name)continue;var g=d.resolve(e[j]);if(!g){c.push("❌ "+e[j]);continue}if(d.isUsed(i,g.name))continue;d.isFor(g,i)||(l.warn("Plugin.use:",d.toString(g),"is for",g.for,"but installed on",d.toString(i)+"."),g._warned=!0),g.install?g.install(i):(l.warn("Plugin.use:",d.toString(g),"does not specify an install function."),g._warned=!0),g._warned?(c.push("🔶 "+d.toString(g)),delete g._warned):c.push("✅ "+d.toString(g)),i.used.push(g.name)}c.length>0&&!g.silent&&l.info(c.join("  "))},d.dependencies=function(i,b){var f=d.dependencyParse(i),e=f.name;b=b||{};if(e in b)return;i=d.resolve(i)||i,b[e]=l.map(i.uses||[],function(j){d.isPlugin(j)&&d.register(j);var g=d.dependencyParse(j),h=d.resolve(j);return h&&!d.versionSatisfies(h.version,g.range)?(l.warn("Plugin.dependencies:",d.toString(h),"does not satisfy",d.toString(g),"used by",d.toString(f)+"."),h._warned=!0,i._warned=!0):h||(l.warn("Plugin.dependencies:",d.toString(j),"used by",d.toString(f),"could not be resolved."),i._warned=!0),g.name});for(var c=0;c<b[e].length;c+=1)d.dependencies(b[e][c],b);return b},d.dependencyParse=function(i){if(l.isString(i)){var b=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return b.test(i)||l.warn("Plugin.dependencyParse:",i,"is not a valid dependency string."),{name:i.split("@")[0],range:i.split("@")[1]||"*"}}return{name:i.name,range:i.range||i.version}},d.versionParse=function(i){var b=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;b.test(i)||l.warn("Plugin.versionParse:",i,"is not a valid version or range.");var f=i.split("-");i=f[0];var e=isNaN(Number(i[0])),c=e?i.substr(1):i,j=l.map(c.split("."),function(g){return Number(g)});return{isRange:e,version:c,range:i,operator:e?i[0]:"",parts:j,prerelease:f[1],number:j[0]*1e8+j[1]*1e4+j[2]}},d.versionSatisfies=function(i,b){b=b||"*";var f=d.versionParse(b),e=f.parts,c=d.versionParse(i),j=c.parts;if(f.isRange){if(f.operator==="*"||i==="*")return!0;if(f.operator==="~")return j[0]===e[0]&&j[1]===e[1]&&j[2]>=e[2];if(f.operator==="^")return e[0]>0?j[0]===e[0]&&c.number>=f.number:e[1]>0?j[1]===e[1]&&j[2]>=e[2]:j[2]===e[2]}return i===b||i==="*"}})()},function(o,w,a){var d={};o.exports=d;var l=a(148),i=a(219),b=a(42);(function(){d.create=function(f){var e=l.create(),c={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}}};return b.extend(e,c,f)}})()},function(o,w,a){var d={};o.exports=d;var l=a(473),i=a(515),b=a(42);(function(){d.create=function(f){var e={controller:d,detector:i.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return b.extend(e,f)},d.update=function(f,e,c,j){var g,h,k,m=c.world,n=f.buckets,p,q,r=!1,s=c.metrics;for(s.broadphaseTests=0,g=0;g<e.length;g++){var t=e[g];if(t.isSleeping&&!j)continue;if(t.bounds.max.x<m.bounds.min.x||t.bounds.min.x>m.bounds.max.x||t.bounds.max.y<m.bounds.min.y||t.bounds.min.y>m.bounds.max.y)continue;var u=d._getRegion(f,t);if(!t.region||u.id!==t.region.id||j){s.broadphaseTests+=1,(!t.region||j)&&(t.region=u);var v=d._regionUnion(u,t.region);for(h=v.startCol;h<=v.endCol;h++)for(k=v.startRow;k<=v.endRow;k++){q=d._getBucketId(h,k),p=n[q];var x=h>=u.startCol&&h<=u.endCol&&k>=u.startRow&&k<=u.endRow,z=h>=t.region.startCol&&h<=t.region.endCol&&k>=t.region.startRow&&k<=t.region.endRow;!x&&z&&(z&&(p&&d._bucketRemoveBody(f,p,t))),(t.region===u||x&&!z||j)&&(p||(p=d._createBucket(n,q)),d._bucketAddBody(f,p,t))}t.region=u,r=!0}}r&&(f.pairsList=d._createActivePairsList(f))},d.clear=function(f){f.buckets={},f.pairs={},f.pairsList=[]},d._regionUnion=function(f,e){var c=Math.min(f.startCol,e.startCol),j=Math.max(f.endCol,e.endCol),g=Math.min(f.startRow,e.startRow),h=Math.max(f.endRow,e.endRow);return d._createRegion(c,j,g,h)},d._getRegion=function(f,e){var c=e.bounds,j=Math.floor(c.min.x/f.bucketWidth),g=Math.floor(c.max.x/f.bucketWidth),h=Math.floor(c.min.y/f.bucketHeight),k=Math.floor(c.max.y/f.bucketHeight);return d._createRegion(j,g,h,k)},d._createRegion=function(f,e,c,j){return{id:f+","+e+","+c+","+j,startCol:f,endCol:e,startRow:c,endRow:j}},d._getBucketId=function(f,e){return"C"+f+"R"+e},d._createBucket=function(f,e){var c=f[e]=[];return c},d._bucketAddBody=function(f,e,c){for(var j=0;j<e.length;j++){var g=e[j];if(c.id===g.id||c.isStatic&&g.isStatic)continue;var h=l.id(c,g),k=f.pairs[h];k?k[2]+=1:f.pairs[h]=[c,g,1]}e.push(c)},d._bucketRemoveBody=function(f,e,c){e.splice(e.indexOf(c),1);for(var j=0;j<e.length;j++){var g=e[j],h=l.id(c,g),k=f.pairs[h];k&&(k[2]-=1)}},d._createActivePairsList=function(f){var e,c,j=[];e=b.keys(f.pairs);for(var g=0;g<e.length;g++)c=f.pairs[e[g]],c[2]>0?j.push(c):delete f.pairs[e[g]];return j}})()},function(o,w,a){var d={};o.exports=d;var l=a(473),i=a(42);(function(){d._pairMaxIdleLife=1e3,d.create=function(b){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},b)},d.update=function(b,f,e){var c=b.list,j=b.table,g=b.collisionStart,h=b.collisionEnd,k=b.collisionActive,m,n,p,q;for(g.length=0,h.length=0,k.length=0,q=0;q<c.length;q++)c[q].confirmedActive=!1;for(q=0;q<f.length;q++)m=f[q],m.collided&&(n=l.id(m.bodyA,m.bodyB),p=j[n],p?(p.isActive?k.push(p):g.push(p),l.update(p,m,e),p.confirmedActive=!0):(p=l.create(m,e),j[n]=p,g.push(p),c.push(p)));for(q=0;q<c.length;q++)p=c[q],p.isActive&&!p.confirmedActive&&(l.setActive(p,!1,e),h.push(p))},d.removeOld=function(b,f){var e=b.list,c=b.table,j=[],g,h,k,m;for(m=0;m<e.length;m++){g=e[m],h=g.collision;if(h.bodyA.isSleeping||h.bodyB.isSleeping){g.timeUpdated=f;continue}f-g.timeUpdated>d._pairMaxIdleLife&&j.push(m)}for(m=0;m<j.length;m++)k=j[m]-m,g=e[k],delete c[g.id],e.splice(k,1)},d.clear=function(b){return b.table={},b.list.length=0,b.collisionStart.length=0,b.collisionActive.length=0,b.collisionEnd.length=0,b}})()},function(o,w,a){var d={};o.exports=d;var l=a(86),i=a(99),b=a(42),f=a(100);(function(){d._restingThresh=4,d._restingThreshTangent=6,d._positionDampen=.9,d._positionWarming=.8,d._frictionNormalMultiplier=5,d.preSolvePosition=function(e){var c,j,g;for(c=0;c<e.length;c++){j=e[c];if(!j.isActive)continue;g=j.activeContacts.length,j.collision.parentA.totalContacts+=g,j.collision.parentB.totalContacts+=g}},d.solvePosition=function(e,c,j){var g,h,k,m,n,p,q,r,s,t,u,v,x,z,y,A,D=j*d._positionDampen;for(g=0;g<c.length;g++){var F=c[g];F.previousPositionImpulse.x=F.positionImpulse.x,F.previousPositionImpulse.y=F.positionImpulse.y}for(g=0;g<e.length;g++){m=e[g];if(!m.isActive||m.isSensor)continue;n=m.collision,p=n.parentA,q=n.parentB,r=n.normal,u=p.previousPositionImpulse,v=q.previousPositionImpulse,t=n.penetration,z=v.x-u.x+t.x,y=v.y-u.y+t.y,h=r.x,k=r.y,s=h*z+k*y,m.separation=s,A=(s-m.slop)*D,(p.isStatic||q.isStatic)&&(A*=2),p.isStatic||p.isSleeping||(x=A/p.totalContacts,p.positionImpulse.x+=h*x,p.positionImpulse.y+=k*x),q.isStatic||q.isSleeping||(x=A/q.totalContacts,q.positionImpulse.x-=h*x,q.positionImpulse.y-=k*x)}},d.postSolvePosition=function(e){for(var c=0;c<e.length;c++){var j=e[c];j.totalContacts=0;if(j.positionImpulse.x!==0||j.positionImpulse.y!==0){for(var g=0;g<j.parts.length;g++){var h=j.parts[g];l.translate(h.vertices,j.positionImpulse),f.update(h.bounds,h.vertices,j.velocity),h.position.x+=j.positionImpulse.x,h.position.y+=j.positionImpulse.y}j.positionPrev.x+=j.positionImpulse.x,j.positionPrev.y+=j.positionImpulse.y,i.dot(j.positionImpulse,j.velocity)<0?(j.positionImpulse.x=0,j.positionImpulse.y=0):(j.positionImpulse.x*=d._positionWarming,j.positionImpulse.y*=d._positionWarming)}}},d.preSolveVelocity=function(e){var c,j,g,h,k,m,n,p,q,r,s,t,u,v,x=i._temp[0],z=i._temp[1];for(c=0;c<e.length;c++){g=e[c];if(!g.isActive||g.isSensor)continue;for(h=g.activeContacts,k=g.collision,m=k.parentA,n=k.parentB,p=k.normal,q=k.tangent,j=0;j<h.length;j++)r=h[j],s=r.vertex,t=r.normalImpulse,u=r.tangentImpulse,(t!==0||u!==0)&&(x.x=p.x*t+q.x*u,x.y=p.y*t+q.y*u,m.isStatic||m.isSleeping||(v=i.sub(s,m.position,z),m.positionPrev.x+=x.x*m.inverseMass,m.positionPrev.y+=x.y*m.inverseMass,m.anglePrev+=i.cross(v,x)*m.inverseInertia),n.isStatic||n.isSleeping||(v=i.sub(s,n.position,z),n.positionPrev.x-=x.x*n.inverseMass,n.positionPrev.y-=x.y*n.inverseMass,n.anglePrev-=i.cross(v,x)*n.inverseInertia))}},d.solveVelocity=function(e,c){for(var j=c*c,g=i._temp[0],h=i._temp[1],k=i._temp[2],m=i._temp[3],n=i._temp[4],p=i._temp[5],q=0;q<e.length;q++){var r=e[q];if(!r.isActive||r.isSensor)continue;var s=r.collision,t=s.parentA,u=s.parentB,v=s.normal,x=s.tangent,z=r.activeContacts,y=1/z.length;t.velocity.x=t.position.x-t.positionPrev.x,t.velocity.y=t.position.y-t.positionPrev.y,u.velocity.x=u.position.x-u.positionPrev.x,u.velocity.y=u.position.y-u.positionPrev.y,t.angularVelocity=t.angle-t.anglePrev,u.angularVelocity=u.angle-u.anglePrev;for(var A=0;A<z.length;A++){var D=z[A],F=D.vertex,H=i.sub(F,t.position,h),I=i.sub(F,u.position,k),N=i.add(t.velocity,i.mult(i.perp(H),t.angularVelocity),m),J=i.add(u.velocity,i.mult(i.perp(I),u.angularVelocity),n),C=i.sub(N,J,p),B=i.dot(v,C),E=i.dot(x,C),K=Math.abs(E),G=b.sign(E),L=(1+r.restitution)*B,M=b.clamp(r.separation+B,0,1)*d._frictionNormalMultiplier,O=E,P=Infinity;K>r.friction*r.frictionStatic*M*j&&(P=K,O=b.clamp(r.friction*G*j,-P,P));var Q=i.cross(H,v),R=i.cross(I,v),S=y/(t.inverseMass+u.inverseMass+t.inverseInertia*Q*Q+u.inverseInertia*R*R);L*=S,O*=S;if(B<0&&B*B>d._restingThresh*j)D.normalImpulse=0;else{var T=D.normalImpulse;D.normalImpulse=Math.min(D.normalImpulse+L,0),L=D.normalImpulse-T}if(E*E>d._restingThreshTangent*j)D.tangentImpulse=0;else{var U=D.tangentImpulse;D.tangentImpulse=b.clamp(D.tangentImpulse+O,-P,P),O=D.tangentImpulse-U}g.x=v.x*L+x.x*O,g.y=v.y*L+x.y*O,t.isStatic||t.isSleeping||(t.positionPrev.x+=g.x*t.inverseMass,t.positionPrev.y+=g.y*t.inverseMass,t.anglePrev+=i.cross(H,g)*t.inverseInertia),u.isStatic||u.isSleeping||(u.positionPrev.x-=g.x*u.inverseMass,u.positionPrev.y-=g.y*u.inverseMass,u.anglePrev-=i.cross(I,g)*u.inverseInertia)}}}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BasePlugin:a(474),DefaultPlugins:a(175),PluginCache:a(23),PluginManager:a(370),ScenePlugin:a(1305)}},function(o,w,a){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=a(474),l=a(0),i=a(22),b=new l({Extends:d,initialize:function f(e,c){d.call(this,c),this.scene=e,this.systems=e.sys,e.sys.events.once(i.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(18),l=a(177),i={Center:a(359),Events:a(92),Orientation:a(360),ScaleManager:a(371),ScaleModes:a(361),Zoom:a(362)};i=d(!1,i,l.CENTER),i=d(!1,i,l.ORIENTATION),i=d(!1,i,l.SCALE_MODE),i=d(!1,i,l.ZOOM),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(125),l=a(18),i={Events:a(22),SceneManager:a(373),ScenePlugin:a(1308),Settings:a(375),Systems:a(180)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(19),l=a(0),i=a(22),b=a(2),f=a(23),e=new l({initialize:function c(j){this.scene=j,this.systems=j.sys,this.settings=j.sys.settings,this.key=j.sys.settings.key,this.manager=j.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,j.sys.events.once(i.BOOT,this.boot,this),j.sys.events.on(i.START,this.pluginStart,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},start:function(c,j){return c===void 0&&(c=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",c,j),this},restart:function(c){var j=this.key;return this.manager.queueOp("stop",j),this.manager.queueOp("start",j,c),this},transition:function(c){c===void 0&&(c={});var j=b(c,"target",!1),g=this.manager.getScene(j);if(!j||!this.checkValidTransition(g))return!1;var h=b(c,"duration",1e3);this._elapsed=0,this._target=g,this._duration=h,this._willSleep=b(c,"sleep",!1),this._willRemove=b(c,"remove",!1);var k=b(c,"onUpdate",null);k&&(this._onUpdate=k,this._onUpdateScope=b(c,"onUpdateScope",this.scene));var m=b(c,"allowInput",!1);this.settings.transitionAllowInput=m;var n=g.sys.settings;return n.isTransition=!0,n.transitionFrom=this.scene,n.transitionDuration=h,n.transitionAllowInput=m,b(c,"moveAbove",!1)?this.manager.moveAbove(this.key,j):b(c,"moveBelow",!1)&&this.manager.moveBelow(this.key,j),g.sys.isSleeping()?g.sys.wake(b(c,"data")):this.manager.start(j,b(c,"data")),this.systems.events.emit(i.TRANSITION_OUT,g,h),this.systems.events.on(i.UPDATE,this.step,this),!0},checkValidTransition:function(c){return!c||c.sys.isActive()||c.sys.isTransitioning()||c===this.scene||this.systems.isTransitioning()?!1:!0},step:function(c,j){this._elapsed+=j,this.transitionProgress=d(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var c=this._target.sys,j=this._target.sys.settings;this.systems.events.off(i.UPDATE,this.step,this),c.events.emit(i.TRANSITION_COMPLETE,this.scene),j.isTransition=!1,j.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(c,j,g,h){return this.manager.add(c,j,g,h)},launch:function(c,j){return c&&c!==this.key&&this.manager.queueOp("start",c,j),this},run:function(c,j){return c&&c!==this.key&&this.manager.queueOp("run",c,j),this},pause:function(c,j){return c===void 0&&(c=this.key),this.manager.queueOp("pause",c,j),this},resume:function(c,j){return c===void 0&&(c=this.key),this.manager.queueOp("resume",c,j),this},sleep:function(c,j){return c===void 0&&(c=this.key),this.manager.queueOp("sleep",c,j),this},wake:function(c,j){return c===void 0&&(c=this.key),this.manager.queueOp("wake",c,j),this},switch:function(c){return c!==this.key&&this.manager.queueOp("switch",this.key,c),this},stop:function(c,j){return c===void 0&&(c=this.key),this.manager.queueOp("stop",c,j),this},setActive:function(c,j,g){j===void 0&&(j=this.key);var h=this.manager.getScene(j);return h&&h.sys.setActive(c,g),this},setVisible:function(c,j){j===void 0&&(j=this.key);var g=this.manager.getScene(j);return g&&g.sys.setVisible(c),this},isSleeping:function(c){return c===void 0&&(c=this.key),this.manager.isSleeping(c)},isActive:function(c){return c===void 0&&(c=this.key),this.manager.isActive(c)},isPaused:function(c){return c===void 0&&(c=this.key),this.manager.isPaused(c)},isVisible:function(c){return c===void 0&&(c=this.key),this.manager.isVisible(c)},swapPosition:function(c,j){return j===void 0&&(j=this.key),c!==j&&this.manager.swapPosition(c,j),this},moveAbove:function(c,j){return j===void 0&&(j=this.key),c!==j&&this.manager.moveAbove(c,j),this},moveBelow:function(c,j){return j===void 0&&(j=this.key),c!==j&&this.manager.moveBelow(c,j),this},remove:function(c){return c===void 0&&(c=this.key),this.manager.remove(c),this},moveUp:function(c){return c===void 0&&(c=this.key),this.manager.moveUp(c),this},moveDown:function(c){return c===void 0&&(c=this.key),this.manager.moveDown(c),this},bringToTop:function(c){return c===void 0&&(c=this.key),this.manager.bringToTop(c),this},sendToBack:function(c){return c===void 0&&(c=this.key),this.manager.sendToBack(c),this},get:function(c){return this.manager.getScene(c)},getIndex:function(c){return c===void 0&&(c=this.key),this.manager.getIndex(c)},shutdown:function(){var c=this.systems.events;c.off(i.SHUTDOWN,this.shutdown,this),c.off(i.POST_UPDATE,this.step,this),c.off(i.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});f.register("ScenePlugin",e,"scenePlugin"),o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={List:a(129),Map:a(162),ProcessQueue:a(186),RTree:a(470),Set:a(133),Size:a(372)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(18),l=a(1311),i={CanvasTexture:a(377),Events:a(121),FilterMode:l,Frame:a(94),Parsers:a(379),Texture:a(182),TextureManager:a(376),TextureSource:a(378)};i=d(!1,i,l),o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={LINEAR:0,NEAREST:1};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Components:a(141),Parsers:a(1342),Formats:a(32),ImageCollection:a(485),ParseToTilemap:a(227),Tile:a(74),Tilemap:a(494),TilemapCreator:a(1351),TilemapFactory:a(1352),Tileset:a(104),LayerData:a(102),MapData:a(103),ObjectLayer:a(488),DynamicTilemapLayer:a(495),StaticTilemapLayer:a(496)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=a(51),i=function(b,f,e,c,j,g,h,k){b<0&&(b=0),f<0&&(f=0),h===void 0&&(h=!0);for(var m=d(b,f,e,c,null,k),n=j-b,p=g-f,q=0;q<m.length;q++){var r=m[q].x+n,s=m[q].y+p;r>=0&&r<k.width&&s>=0&&s<k.height&&(k.data[s][r]&&k.data[s][r].copy(m[q]))}h&&l(j-1,g-1,e+2,c+2,k)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(143),l=a(144),i=a(24),b=a(475),f=function(e,c,j,g,h,k){j===void 0&&(j={}),Array.isArray(e)||(e=[e]);var m=k.tilemapLayer;g===void 0&&(g=m.scene),h===void 0&&(h=g.cameras.main);var n=i(0,0,k.width,k.height,null,k),p=[],q;for(q=0;q<n.length;q++){var r=n[q];if(e.indexOf(r.index)!==-1){j.x=d(r.x,h,k),j.y=l(r.y,h,k);var s=g.make.sprite(j);p.push(s)}}if(typeof c==="number")for(q=0;q<e.length;q++)b(e[q],c,0,0,k.width,k.height,k);else if(Array.isArray(c))for(q=0;q<e.length;q++)b(e[q],c[q],0,0,k.width,k.height,k);return p};o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(93),l=a(330),i=function(b,f,e,c){e===void 0&&(e=[]),c===void 0&&(c=0),e.length=0;var j=b.tilemapLayer.tilemap,g=b.tilemapLayer,h=b.data,k=b.width,m=b.height,n=Math.floor(j.tileWidth*g.scaleX),p=Math.floor(j.tileHeight*g.scaleY),q=0,r=k,s=0,t=m;if(!g.skipCull&&g.scrollFactorX===1&&g.scrollFactorY===1){var u=d(f.worldView.x-g.x,n,0,!0)-g.cullPaddingX,v=l(f.worldView.right-g.x,n,0,!0)+g.cullPaddingX,x=d(f.worldView.y-g.y,p,0,!0)-g.cullPaddingY,z=l(f.worldView.bottom-g.y,p,0,!0)+g.cullPaddingY;q=Math.max(0,u),r=Math.min(k,v),s=Math.max(0,x),t=Math.min(m,z)}var y,A,D;if(c===0)for(A=s;A<t;A++)for(y=q;h[A]&&y<r;y++){D=h[A][y];if(!D||D.index===-1||!D.visible||D.alpha===0)continue;e.push(D)}else if(c===1)for(A=s;A<t;A++)for(y=r;h[A]&&y>=q;y--){D=h[A][y];if(!D||D.index===-1||!D.visible||D.alpha===0)continue;e.push(D)}else if(c===2)for(A=t;A>=s;A--)for(y=q;h[A]&&y<r;y++){D=h[A][y];if(!D||D.index===-1||!D.visible||D.alpha===0)continue;e.push(D)}else if(c===3)for(A=t;A>=s;A--)for(y=r;h[A]&&y>=q;y--){D=h[A][y];if(!D||D.index===-1||!D.visible||D.alpha===0)continue;e.push(D)}return g.tilesDrawn=e.length,g.tilesTotal=k*m,e};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=a(51),i=a(73),b=function(f,e,c,j,g,h,k){for(var m=k.collideIndexes.indexOf(f)!==-1,n=d(e,c,j,g,null,k),p=0;p<n.length;p++)n[p].index=f,i(n[p],m);h&&l(e-1,c-1,j+2,g+2,k)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j,g,h){var k=d(f,e,c,j,g,h);return k.filter(i,b)};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){l===void 0&&(l=0),i===void 0&&(i=!1);var f=0,e,c,j;if(i)for(c=b.height-1;c>=0;c--)for(e=b.width-1;e>=0;e--){j=b.data[c][e];if(j&&j.index===d){if(f===l)return j;f+=1}}else for(c=0;c<b.height;c++)for(e=0;e<b.width;e++){j=b.data[c][e];if(j&&j.index===d){if(f===l)return j;f+=1}}return null};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j,g,h){var k=d(f,e,c,j,g,h);return k.find(i,b)||null};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j,g,h){var k=d(f,e,c,j,g,h);k.forEach(i,b)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(142),l=a(63),i=a(64),b=function(f,e,c,j,g){var h=l(f,!0,j,g),k=i(e,!0,j,g);return d(h,k,c,g)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(430),l=a(24),i=a(431),b=a(1),f=a(143),e=a(144),c=a(63),j=a(64),g=function(k,m){return i.RectangleToTriangle(m,k)},h=function(k,m,n,p){if(k===void 0)return[];var q=b;k instanceof d.Circle?q=i.CircleToRectangle:k instanceof d.Rectangle?q=i.RectangleToRectangle:k instanceof d.Triangle?q=g:k instanceof d.Line&&(q=i.LineToRectangle);var r=c(k.left,!0,n,p),s=j(k.top,!0,n,p),t=Math.ceil(c(k.right,!1,n,p)),u=Math.ceil(j(k.bottom,!1,n,p)),v=Math.max(t-r,1),x=Math.max(u-s,1),z=l(r,s,v,x,m,p),y=p.tileWidth,A=p.tileHeight;p.tilemapLayer&&(y*=p.tilemapLayer.scaleX,A*=p.tilemapLayer.scaleY);for(var D=[],F=new d.Rectangle(0,0,y,A),H=0;H<z.length;H++){var I=z[H];F.x=f(I.x,n,p),F.y=e(I.y,n,p),q(k,F)&&D.push(I)}return D};o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=a(63),i=a(64),b=function(f,e,c,j,g,h,k){var m=l(f,!0,h,k),n=i(e,!0,h,k),p=Math.ceil(l(f+c,!1,h,k)),q=Math.ceil(i(e+j,!1,h,k));return d(m,n,p-m,q-n,g,k)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(476),l=a(63),i=a(64),b=function(f,e,c,j){var g=l(f,!0,c,j),h=i(e,!0,c,j);return d(g,h,j)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(221),l=a(63),i=a(64),b=function(f,e,c,j,g,h){var k=l(e,!0,g,h),m=i(c,!0,g,h);return d(f,k,m,j,h)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(51),l=a(221),i=function(b,f,e,c,j){if(!Array.isArray(b))return null;c===void 0&&(c=!0),Array.isArray(b[0])||(b=[b]);for(var g=b.length,h=b[0].length,k=0;k<g;k++)for(var m=0;m<h;m++){var n=b[k][m];l(n,f+m,e+k,!1,j)}c&&d(f-1,e-1,h+2,g+2,j)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=a(185),i=function(b,f,e,c,j,g){var h,k=d(b,f,e,c,null,g);if(j===void 0)for(j=[],h=0;h<k.length;h++)j.indexOf(k[h].index)===-1&&j.push(k[h].index);for(h=0;h<k.length;h++)k[h].index=l(j)};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(477),l=a(63),i=a(64),b=function(f,e,c,j,g,h){var k=l(f,!0,g,h),m=i(e,!0,g,h);return d(k,m,c,j,h)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=a(354),i=new l(105,210,231,150),b=new l(243,134,48,200),f=new l(40,39,37,150),e=function(c,j,g){j===void 0&&(j={});var h=j.tileColor!==void 0?j.tileColor:i,k=j.collidingTileColor!==void 0?j.collidingTileColor:b,m=j.faceColor!==void 0?j.faceColor:f,n=d(0,0,g.width,g.height,null,g);c.translateCanvas(g.tilemapLayer.x,g.tilemapLayer.y),c.scaleCanvas(g.tilemapLayer.scaleX,g.tilemapLayer.scaleY);for(var p=0;p<n.length;p++){var q=n[p],r=q.width,s=q.height,t=q.pixelX,u=q.pixelY,v=q.collides?k:h;v!==null&&(c.fillStyle(v.color,v.alpha/255),c.fillRect(t,u,r,s)),t+=1,u+=1,r-=2,s-=2,m!==null&&(c.lineStyle(1,m.color,m.alpha/255),q.faceTop&&c.lineBetween(t,u,t+r,u),q.faceRight&&c.lineBetween(t+r,u,t+r,u+s),q.faceBottom&&c.lineBetween(t,u+s,t+r,u+s),q.faceLeft&&c.lineBetween(t,u,t,u+s))}};o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(73),l=a(51),i=a(222),b=function(f,e,c,j,g){e===void 0&&(e=!0),c===void 0&&(c=!0),Array.isArray(f)||(f=[f]),g===void 0&&(g=!0);for(var h=0;h<f.length;h++)i(f[h],e,j);if(g)for(var k=0;k<j.height;k++)for(var m=0;m<j.width;m++){var n=j.data[k][m];n&&f.indexOf(n.index)!==-1&&d(n,e)}c&&l(0,0,j.width,j.height,j)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(73),l=a(51),i=a(222),b=function(f,e,c,j,g,h){c===void 0&&(c=!0),j===void 0&&(j=!0),h===void 0&&(h=!0);if(f>e)return;for(var k=f;k<=e;k++)i(k,c,g);if(h)for(var m=0;m<g.height;m++)for(var n=0;n<g.width;n++){var p=g.data[m][n];p&&(p.index>=f&&p.index<=e&&d(p,c))}j&&l(0,0,g.width,g.height,g)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(73),l=a(51),i=a(222),b=function(f,e,c,j){e===void 0&&(e=!0),c===void 0&&(c=!0),Array.isArray(f)||(f=[f]);for(var g=0;g<j.height;g++)for(var h=0;h<j.width;h++){var k=j.data[g][h];k&&f.indexOf(k.index)===-1&&(d(k,e),i(k.index,e,j))}c&&l(0,0,j.width,j.height,j)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(73),l=a(51),i=a(108),b=function(f,e,c,j){e===void 0&&(e=!0),c===void 0&&(c=!0);for(var g=0;g<j.height;g++)for(var h=0;h<j.width;h++){var k=j.data[g][h];if(!k)continue;for(var m in f){if(!i(k.properties,m))continue;var n=f[m];Array.isArray(n)||(n=[n]);for(var p=0;p<n.length;p++)k.properties[m]===n[p]&&d(k,e)}}c&&l(0,0,j.width,j.height,j)};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(73),l=a(51),i=function(b,f,e){b===void 0&&(b=!0),f===void 0&&(f=!0);for(var c=0;c<e.height;c++)for(var j=0;j<e.width;j++){var g=e.data[c][j];if(!g)continue;var h=g.getCollisionGroup();h&&h.objects&&h.objects.length>0&&d(g,b)}f&&l(0,0,e.width,e.height,e)};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){if(typeof d==="number")b.callbacks[d]=l!==null?{callback:l,callbackContext:i}:void 0;else for(var f=0,e=d.length;f<e;f++)b.callbacks[d[f]]=l!==null?{callback:l,callbackContext:i}:void 0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j,g){for(var h=d(i,b,f,e,null,g),k=0;k<h.length;k++)h[k].setCollisionCallback(c,j)};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=a(114),i=function(b,f,e,c,j){var g=d(b,f,e,c,null,j),h=g.map(function(m){return m.index});l(h);for(var k=0;k<g.length;k++)g[k].index=h[k]};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j,g){for(var h=d(f,e,c,j,null,g),k=0;k<h.length;k++)h[k]&&(h[k].index===i?h[k].index=b:h[k].index===b&&(h[k].index=i))};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(143),l=a(144),i=a(3),b=function(f,e,c,j,g){return c===void 0&&(c=new i(0,0)),c.x=d(f,j,g),c.y=l(e,j,g),c};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(24),l=function(i,b,f,e,c,j){if(c===void 0)return;var g,h=d(i,b,f,e,null,j),k=0;for(g=0;g<c.length;g++)k+=c[g].weight;if(k<=0)return;for(g=0;g<h.length;g++){for(var m=Math.random()*k,n=0,p=-1,q=0;q<c.length;q++){n+=c[q].weight;if(m<=n){var r=c[q].index;p=Array.isArray(r)?r[Math.floor(Math.random()*r.length)]:r;break}}h[g].index=p}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(63),l=a(64),i=a(3),b=function(f,e,c,j,g,h){return j===void 0&&(j=new i(0,0)),j.x=d(f,c,g,h),j.y=l(e,c,g,h),j};o.exports=b},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Parse:a(478),Parse2DArray:a(223),ParseCSV:a(479),Impact:a(1343),Tiled:a(1344)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ParseTileLayers:a(492),ParseTilesets:a(493),ParseWeltmeister:a(491)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AssignTileProperties:a(490),Base64Decode:a(482),BuildTilesetIndex:a(489),ParseGID:a(224),ParseImageLayers:a(483),ParseJSONTiled:a(480),ParseObject:a(226),ParseObjectLayers:a(487),ParseTileLayers:a(481),ParseTilesets:a(484)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1346),l=a(1347),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(9),l=function(i,b,f,e){b.cull(e);var c=b.culledTiles,j=c.length,g=e.alpha*b.alpha;if(j===0||g<=0)return;for(var h=b.gidMap,k=b.pipeline,m=d.getTintAppendFloatAlphaAndSwap,n=b.scrollFactorX,p=b.scrollFactorY,q=b.x,r=b.y,s=b.scaleX,t=b.scaleY,u=b.tileset,v=0;v<u.length;v++)for(var x=u[v],z=x.glTexture,y=0;y<j;y++){var A=c[y],D=h[A.index];if(D!==x)continue;var F=D.getTileTextureCoordinates(A.index);if(F===null)continue;var H=A.width,I=A.height,N=F.x,J=F.y,C=A.width*.5,B=A.height*.5,E=m(A.tint,g*A.alpha);k.batchTexture(b,z,z.width,z.height,q+(C+A.pixelX)*s,r+(B+A.pixelY)*t,A.width,A.height,s,t,A.rotation,A.flipX,A.flipY,n,p,C,B,N,J,H,I,E,E,E,E,!1,0,0,e,null,!0)}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){l.cull(b);var e=l.culledTiles,c=e.length;if(c===0)return;var j=d._tempMatrix1,g=d._tempMatrix2,h=d._tempMatrix3;g.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),j.copyFrom(b.matrix);var k=d.currentContext,m=l.gidMap;k.save(),f?(j.multiplyWithOffset(f,-b.scrollX*l.scrollFactorX,-b.scrollY*l.scrollFactorY),g.e=l.x,g.f=l.y,j.multiply(g,h),h.copyToContext(k)):(g.e-=b.scrollX*l.scrollFactorX,g.f-=b.scrollY*l.scrollFactorY,g.copyToContext(k));var n=b.alpha*l.alpha;(!d.antialias||l.scaleX>1||l.scaleY>1)&&(k.imageSmoothingEnabled=!1);for(var p=0;p<c;p++){var q=e[p],r=m[q.index];if(!r)continue;var s=r.image.getSourceImage(),t=r.getTileTextureCoordinates(q.index);if(t){var u=q.width/2,v=q.height/2;k.save(),k.translate(q.pixelX+u,q.pixelY+v),q.rotation!==0&&k.rotate(q.rotation),(q.flipX||q.flipY)&&k.scale(q.flipX?-1:1,q.flipY?-1:1),k.globalAlpha=n*q.alpha,k.drawImage(s,t.x,t.y,q.width,q.height,-u,-v,q.width,q.height),k.restore()}}k.restore()};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1),l=a(1);d=a(1349),l=a(1350),o.exports={renderWebGL:d,renderCanvas:l}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b){var f=l.tileset,e=l.pipeline,c=e.vertexBuffer;d.setPipeline(e),e.modelIdentity(),e.modelTranslate(l.x-b.scrollX*l.scrollFactorX,l.y-b.scrollY*l.scrollFactorY,0),e.modelScale(l.scaleX,l.scaleY,1),e.viewLoad2D(b.matrix.matrix);for(var j=0;j<f.length;j++)l.upload(b,j),l.vertexCount[j]>0&&(d.currentPipeline&&d.currentPipeline.vertexCount>0&&d.flush(),e.vertexBuffer=l.vertexBuffer[j],d.setPipeline(e),d.setTexture2D(f[j].glTexture,0),d.gl.drawArrays(e.topology,0,l.vertexCount[j]));e.vertexBuffer=c,e.viewIdentity(),e.modelIdentity()};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l,i,b,f){l.cull(b);var e=l.culledTiles,c=e.length;if(c===0)return;var j=d._tempMatrix1,g=d._tempMatrix2,h=d._tempMatrix3;g.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),j.copyFrom(b.matrix);var k=d.currentContext,m=l.gidMap;k.save(),f?(j.multiplyWithOffset(f,-b.scrollX*l.scrollFactorX,-b.scrollY*l.scrollFactorY),g.e=l.x,g.f=l.y,j.multiply(g,h),h.copyToContext(k)):(g.e-=b.scrollX*l.scrollFactorX,g.f-=b.scrollY*l.scrollFactorY,g.copyToContext(k));var n=b.alpha*l.alpha;(!d.antialias||l.scaleX>1||l.scaleY>1)&&(k.imageSmoothingEnabled=!1);for(var p=0;p<c;p++){var q=e[p],r=m[q.index];if(!r)continue;var s=r.image.getSourceImage(),t=r.getTileTextureCoordinates(q.index);if(t){var u=r.tileWidth,v=r.tileHeight,x=u/2,z=v/2;k.save(),k.translate(q.pixelX+x,q.pixelY+z),q.rotation!==0&&k.rotate(q.rotation),(q.flipX||q.flipY)&&k.scale(q.flipX?-1:1,q.flipY?-1:1),k.globalAlpha=n*q.alpha,k.drawImage(s,t.x,t.y,u,v,-x,-z,u,v),k.restore()}}k.restore()};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(16),l=a(227);d.register("tilemap",function(i){var b=i!==void 0?i:{};return l(this.scene,b.key,b.tileWidth,b.tileHeight,b.width,b.height,b.data,b.insertNull)})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(5),l=a(227);d.register("tilemap",function(i,b,f,e,c,j,g){return i===null&&(i=void 0),b===null&&(b=void 0),f===null&&(f=void 0),e===null&&(e=void 0),c===null&&(c=void 0),l(this.scene,i,b,f,e,c,j,g)})},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Clock:a(1354),TimerEvent:a(497)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(23),i=a(22),b=a(497),f=new d({initialize:function e(c){this.scene=c,this.systems=c.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(i.BOOT,this.boot,this),c.sys.events.on(i.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(i.PRE_UPDATE,this.preUpdate,this),e.on(i.UPDATE,this.update,this),e.once(i.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var c=new b(e);return this._pendingInsertion.push(c),c},delayedCall:function(e,c,j,g){return this.addEvent({delay:e,callback:c,args:j,callbackScope:g})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e=this._pendingRemoval.length,c=this._pendingInsertion.length;if(e===0&&c===0)return;var j,g;for(j=0;j<e;j++){g=this._pendingRemoval[j];var h=this._active.indexOf(g);h>-1&&this._active.splice(h,1),g.destroy()}for(j=0;j<c;j++)g=this._pendingInsertion[j],this._active.push(g);this._pendingRemoval.length=0,this._pendingInsertion.length=0},update:function(e,c){this.now=e;if(this.paused)return;c*=this.timeScale;for(var j=0;j<this._active.length;j++){var g=this._active[j];if(g.paused)continue;g.elapsed+=c*g.timeScale;if(g.elapsed>=g.delay){var h=g.elapsed-g.delay;g.elapsed=g.delay,!g.hasDispatched&&g.callback&&(g.hasDispatched=!0,g.callback.apply(g.callbackScope,g.args)),g.repeatCount>0?(g.repeatCount--,g.elapsed=h,g.hasDispatched=!1):this._pendingRemoval.push(g)}}},shutdown:function(){var e;for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(i.PRE_UPDATE,this.preUpdate,this),c.off(i.UPDATE,this.update,this),c.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});l.register("Clock",f,"time"),o.exports=f},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(89),l=a(18),i={Builders:a(1356),Events:a(232),TweenManager:a(1372),Tween:a(231),TweenData:a(233),Timeline:a(503)};i=l(!1,i,d),o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GetBoolean:a(88),GetEaseFunction:a(69),GetNewValue:a(145),GetProps:a(498),GetTargets:a(228),GetTweens:a(499),GetValueOp:a(229),NumberTweenBuilder:a(500),StaggerBuilder:a(501),TimelineBuilder:a(502),TweenBuilder:a(146)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="active"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="repeat"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,w){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="yoyo"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(123),l=a(0),i=a(500),b=a(23),f=a(22),e=a(501),c=a(502),j=a(89),g=a(146),h=new l({initialize:function k(m){this.scene=m,this.systems=m.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,m.sys.events.once(f.BOOT,this.boot,this),m.sys.events.on(f.START,this.start,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){var k=this.systems.events;k.on(f.PRE_UPDATE,this.preUpdate,this),k.on(f.UPDATE,this.update,this),k.once(f.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(k){return c(this,k)},timeline:function(k){var m=c(this,k);return m.paused||(this._add.push(m),this._toProcess++),m},create:function(k){return g(this,k)},add:function(k){var m=g(this,k);return this._add.push(m),this._toProcess++,m},existing:function(k){return this._add.push(k),this._toProcess++,this},addCounter:function(k){var m=i(this,k);return this._add.push(m),this._toProcess++,m},stagger:function(k,m){return e(k,m)},preUpdate:function(){if(this._toProcess===0)return;var k=this._destroy,m=this._active,n=this._pending,p,q;for(p=0;p<k.length;p++){q=k[p];var r=m.indexOf(q);r===-1?(r=n.indexOf(q),r>-1&&(q.state=j.REMOVED,n.splice(r,1))):(q.state=j.REMOVED,m.splice(r,1))}for(k.length=0,k=this._add,p=0;p<k.length;p++)q=k[p],q.state===j.PENDING_ADD&&(q.init()?(q.play(),this._active.push(q)):this._pending.push(q));k.length=0,this._toProcess=0},update:function(k,m){var n=this._active,p;m*=this.timeScale;for(var q=0;q<n.length;q++)p=n[q],p.update(k,m)&&(this._destroy.push(p),this._toProcess++)},remove:function(k){return d(this._add,k),d(this._pending,k),d(this._active,k),d(this._destroy,k),k.state=j.REMOVED,this},makeActive:function(k){if(this._add.indexOf(k)!==-1||this._active.indexOf(k)!==-1)return this;var m=this._pending.indexOf(k);return m!==-1&&this._pending.splice(m,1),this._add.push(k),k.state=j.PENDING_ADD,this._toProcess++,this},each:function(k,m){for(var n=[null],p=1;p<arguments.length;p++)n.push(arguments[p]);for(var q in this.list)n[0]=this.list[q],k.apply(m,n)},getAllTweens:function(){for(var k=this._active,m=[],n=0;n<k.length;n++)m.push(k[n]);return m},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(k){var m=this._active,n,p=[],q;if(Array.isArray(k))for(q=0;q<m.length;q++){n=m[q];for(var r=0;r<k.length;r++)n.hasTarget(k[r])&&p.push(n)}else for(q=0;q<m.length;q++)n=m[q],n.hasTarget(k)&&p.push(n);return p},isTweening:function(k){for(var m=this._active,n,p=0;p<m.length;p++){n=m[p];if(n.hasTarget(k)&&n.isPlaying())return!0}return!1},killAll:function(){for(var k=this.getAllTweens(),m=0;m<k.length;m++)k[m].stop();return this},killTweensOf:function(k){for(var m=this.getTweensOf(k),n=0;n<m.length;n++)m[n].stop();return this},pauseAll:function(){for(var k=this._active,m=0;m<k.length;m++)k[m].pause();return this},resumeAll:function(){for(var k=this._active,m=0;m<k.length;m++)k[m].resume();return this},setGlobalTimeScale:function(k){return this.timeScale=k,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var k=this.systems.events;k.off(f.PRE_UPDATE,this.preUpdate,this),k.off(f.UPDATE,this.update,this),k.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});b.register("TweenManager",h,"tweens"),o.exports=h},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Array:a(183),Base64:a(1374),Objects:a(1376),String:a(1380)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ArrayBufferToBase64:a(1375),Base64ToArrayBuffer:a(388)}},function(o,w){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=function(l,i){for(var b=new Uint8Array(l),f=b.length,e=i?"data:"+i+";base64,":"",c=0;c<f;c+=3)e+=a[b[c]>>2],e+=a[(b[c]&3)<<4|b[c+1]>>4],e+=a[(b[c+1]&15)<<2|b[c+2]>>6],e+=a[b[c+2]&63];return f%3===2?e=e.substring(0,e.length-1)+"=":f%3===1&&(e=e.substring(0,e.length-2)+"=="),e};o.exports=d},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Clone:a(67),Extend:a(18),GetAdvancedValue:a(15),GetFastValue:a(2),GetMinMaxValue:a(1377),GetValue:a(6),HasAll:a(1378),HasAny:a(407),HasValue:a(108),IsPlainObject:a(7),Merge:a(126),MergeRight:a(1379),Pick:a(486),SetValue:a(427)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(6),l=a(19),i=function(b,f,e,c,j){j===void 0&&(j=e);var g=d(b,f,j);return l(g,e,c)};o.exports=i},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){for(var i=0;i<l.length;i++)if(!d.hasOwnProperty(l[i]))return!1;return!0};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(67),l=function(i,b){var f=d(i);for(var e in b)f.hasOwnProperty(e)&&(f[e]=b[e]);return f};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Format:a(1381),Pad:a(163),Reverse:a(1382),UppercaseFirst:a(181),UUID:a(196)}},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d,l){return d.replace(/%([0-9]+)/g,function(i,b){return l[Number(b)-1]})};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=function(d){return d.split("").reverse().join("")};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={SoundManagerCreator:a(380),Events:a(59),BaseSound:a(128),BaseSoundManager:a(127),WebAudioSound:a(389),WebAudioSoundManager:a(387),HTML5AudioSound:a(384),HTML5AudioSoundManager:a(381),NoAudioSound:a(386),NoAudioSoundManager:a(385)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(3),i=new d({initialize:function b(){this.boundsCenter=new l(),this.centerDiff=new l()},parseBody:function(b){b=b.hasOwnProperty("body")?b.body:b;if(!b.hasOwnProperty("bounds")||!b.hasOwnProperty("centerOfMass"))return!1;var f=this.boundsCenter,e=this.centerDiff,c=b.bounds.max.x-b.bounds.min.x,j=b.bounds.max.y-b.bounds.min.y,g=c*b.centerOfMass.x,h=j*b.centerOfMass.y;return f.set(c/2,j/2),e.set(g-f.x,h-f.y),!0},getTopLeft:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f+c.x+j.x,e+c.y+j.y)}return!1},getTopCenter:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f+j.x,e+c.y+j.y)}return!1},getTopRight:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f-(c.x-j.x),e+c.y+j.y)}return!1},getLeftCenter:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f+c.x+j.x,e+j.y)}return!1},getCenter:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.centerDiff;return new l(f+c.x,e+c.y)}return!1},getRightCenter:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f-(c.x-j.x),e+j.y)}return!1},getBottomLeft:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f+c.x+j.x,e-(c.y-j.y))}return!1},getBottomCenter:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f+j.x,e-(c.y-j.y))}return!1},getBottomRight:function(b,f,e){f===void 0&&(f=0),e===void 0&&(e=0);if(this.parseBody(b)){var c=this.boundsCenter,j=this.centerDiff;return new l(f-(c.x-j.x),e-(c.y-j.y))}return!1}});o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(109),l=a(0),i=a(1292),b=a(219),f=a(1293),e=a(1396),c=a(1387),j=a(1388),g=a(1297),h=a(1294),k=a(1295),m=a(1425),n=a(86),p=new l({initialize:function q(r){this.world=r,this.scene=r.scene,this.sys=r.scene.sys},rectangle:function(q,r,s,t,u){var v=d.rectangle(q,r,s,t,u);return this.world.add(v),v},trapezoid:function(q,r,s,t,u,v){var x=d.trapezoid(q,r,s,t,u,v);return this.world.add(x),x},circle:function(q,r,s,t,u){var v=d.circle(q,r,s,t,u);return this.world.add(v),v},polygon:function(q,r,s,t,u){var v=d.polygon(q,r,s,t,u);return this.world.add(v),v},fromVertices:function(q,r,s,t,u,v,x){typeof s==="string"&&(s=n.fromPath(s));var z=d.fromVertices(q,r,s,t,u,v,x);return this.world.add(z),z},fromPhysicsEditor:function(q,r,s,t,u){u===void 0&&(u=!0);var v=h.parseBody(q,r,s,t);return u&&!this.world.has(v)&&this.world.add(v),v},fromSVG:function(q,r,s,t,u,v){t===void 0&&(t=1),u===void 0&&(u={}),v===void 0&&(v=!0);for(var x=s.getElementsByTagName("path"),z=[],y=0;y<x.length;y++){var A=f.pathToVertices(x[y],30);t!==1&&n.scale(A,t,t),z.push(A)}var D=d.fromVertices(q,r,z,u);return v&&this.world.add(D),D},fromJSON:function(q,r,s,t,u){t===void 0&&(t={}),u===void 0&&(u=!0);var v=k.parseBody(q,r,s,t);return v&&u&&this.world.add(v),v},imageStack:function(q,r,s,t,u,v,x,z,y){x===void 0&&(x=0),z===void 0&&(z=0),y===void 0&&(y={});var A=this.world,D=this.sys.displayList;y.addToWorld=!1;var F=i.stack(s,t,u,v,x,z,function(H,I){var N=new c(A,H,I,q,r,y);return D.add(N),N.body});return A.add(F),F},stack:function(q,r,s,t,u,v,x){var z=i.stack(q,r,s,t,u,v,x);return this.world.add(z),z},pyramid:function(q,r,s,t,u,v,x){var z=i.pyramid(q,r,s,t,u,v,x);return this.world.add(z),z},chain:function(q,r,s,t,u,v){return i.chain(q,r,s,t,u,v)},mesh:function(q,r,s,t,u){return i.mesh(q,r,s,t,u)},newtonsCradle:function(q,r,s,t,u){var v=i.newtonsCradle(q,r,s,t,u);return this.world.add(v),v},car:function(q,r,s,t,u){var v=i.car(q,r,s,t,u);return this.world.add(v),v},softBody:function(q,r,s,t,u,v,x,z,y,A){var D=i.softBody(q,r,s,t,u,v,x,z,y,A);return this.world.add(D),D},joint:function(q,r,s,t,u){return this.constraint(q,r,s,t,u)},spring:function(q,r,s,t,u){return this.constraint(q,r,s,t,u)},constraint:function(q,r,s,t,u){t===void 0&&(t=1),u===void 0&&(u={}),u.bodyA=q.type==="body"?q:q.body,u.bodyB=r.type==="body"?r:r.body,isNaN(s)||(u.length=s),u.stiffness=t;var v=b.create(u);return this.world.add(v),v},worldConstraint:function(q,r,s,t){s===void 0&&(s=1),t===void 0&&(t={}),t.bodyB=q.type==="body"?q:q.body,isNaN(r)||(t.length=r),t.stiffness=s;var u=b.create(t);return this.world.add(u),u},mouseSpring:function(q){return this.pointerConstraint(q)},pointerConstraint:function(q){q===void 0&&(q={}),q.hasOwnProperty("render")||(q.render={visible:!1});var r=new m(this.scene,this.world,q);return this.world.add(r.constraint),r},image:function(q,r,s,t,u){var v=new c(this.world,q,r,s,t,u);return this.sys.displayList.add(v),v},tileBody:function(q,r){return new g(this.world,q,r)},sprite:function(q,r,s,t,u){var v=new j(this.world,q,r,s,t,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),v},gameObject:function(q,r,s){return e(this.world,q,r,s)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=p},function(o,w){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={decomp:y,quickDecomp:H,isSimple:D,removeCollinearPoints:I,removeDuplicatePoints:N,makeCCW:p};function a(B,E,K){K=K||0;var G=[0,0],L,M,O,P,Q,R,S;return L=B[1][1]-B[0][1],M=B[0][0]-B[1][0],O=L*B[0][0]+M*B[0][1],P=E[1][1]-E[0][1],Q=E[0][0]-E[1][0],R=P*E[0][0]+Q*E[0][1],S=L*Q-P*M,J(S,0,K)||(G[0]=(Q*O-M*R)/S,G[1]=(L*R-P*O)/S),G}function d(B,E,K,G){var L=E[0]-B[0],M=E[1]-B[1],O=G[0]-K[0],P=G[1]-K[1];if(O*M-P*L===0)return!1;var Q=(L*(K[1]-B[1])+M*(B[0]-K[0]))/(O*M-P*L),R=(O*(B[1]-K[1])+P*(K[0]-B[0]))/(P*L-O*M);return Q>=0&&Q<=1&&R>=0&&R<=1}function l(B,E,K){return(E[0]-B[0])*(K[1]-B[1])-(K[0]-B[0])*(E[1]-B[1])}function i(B,E,K){return l(B,E,K)>0}function b(B,E,K){return l(B,E,K)>=0}function f(B,E,K){return l(B,E,K)<0}function e(B,E,K){return l(B,E,K)<=0}var c=[],j=[];function g(B,E,K,G){if(G){var L=c,M=j;L[0]=E[0]-B[0],L[1]=E[1]-B[1],M[0]=K[0]-E[0],M[1]=K[1]-E[1];var O=L[0]*M[0]+L[1]*M[1],P=Math.sqrt(L[0]*L[0]+L[1]*L[1]),Q=Math.sqrt(M[0]*M[0]+M[1]*M[1]),R=Math.acos(O/(P*Q));return R<G}else return l(B,E,K)===0}function h(B,E){var K=E[0]-B[0],G=E[1]-B[1];return K*K+G*G}function k(B,E){var K=B.length;return B[E<0?E%K+K:E%K]}function m(B){B.length=0}function n(B,E,K,G){for(var L=K;L<G;L++)B.push(E[L])}function p(B){for(var E=0,K=B,G=1;G<B.length;++G)(K[G][1]<K[E][1]||K[G][1]===K[E][1]&&K[G][0]>K[E][0])&&(E=G);return i(k(B,E-1),k(B,E),k(B,E+1))?!1:(q(B),!0)}function q(B){for(var E=[],K=B.length,G=0;G!==K;G++)E.push(B.pop());for(var G=0;G!==K;G++)B[G]=E[G]}function r(B,E){return f(k(B,E-1),k(B,E),k(B,E+1))}var s=[],t=[];function u(B,E,K){var G,L,M=s,O=t;if(b(k(B,E+1),k(B,E),k(B,K))&&e(k(B,E-1),k(B,E),k(B,K)))return!1;L=h(k(B,E),k(B,K));for(var P=0;P!==B.length;++P){if((P+1)%B.length===E||P===E)continue;if(b(k(B,E),k(B,K),k(B,P+1))&&e(k(B,E),k(B,K),k(B,P))){M[0]=k(B,E),M[1]=k(B,K),O[0]=k(B,P),O[1]=k(B,P+1),G=a(M,O);if(h(k(B,E),G)<L)return!1}}return!0}function v(B,E,K){for(var G=0;G!==B.length;++G){if(G===E||G===K||(G+1)%B.length===E||(G+1)%B.length===K)continue;if(d(k(B,E),k(B,K),k(B,G),k(B,G+1)))return!1}return!0}function x(B,E,K,G){var L=G||[];m(L);if(E<K)for(var M=E;M<=K;M++)L.push(B[M]);else{for(var M=0;M<=K;M++)L.push(B[M]);for(var M=E;M<B.length;M++)L.push(B[M])}return L}function z(B){for(var E=[],K=[],G=[],L=[],M=Number.MAX_VALUE,O=0;O<B.length;++O)if(r(B,O)){for(var P=0;P<B.length;++P)if(u(B,O,P)){K=z(x(B,O,P,L)),G=z(x(B,P,O,L));for(var Q=0;Q<G.length;Q++)K.push(G[Q]);K.length<M&&(E=K,M=K.length,E.push([k(B,O),k(B,P)]))}}return E}function y(B){var E=z(B);return E.length>0?A(B,E):[B]}function A(B,E){if(E.length===0)return[B];if(E instanceof Array&&E.length&&E[0]instanceof Array&&E[0].length===2&&E[0][0]instanceof Array){for(var K=[B],G=0;G<E.length;G++)for(var L=E[G],M=0;M<K.length;M++){var O=K[M],P=A(O,L);if(P){K.splice(M,1),K.push(P[0],P[1]);break}}return K}else{var L=E,G=B.indexOf(L[0]),M=B.indexOf(L[1]);return G!==-1&&M!==-1?[x(B,G,M),x(B,M,G)]:!1}}function D(B){var E=B,K;for(K=0;K<E.length-1;K++)for(var G=0;G<K-1;G++)if(d(E[K],E[K+1],E[G],E[G+1]))return!1;for(K=1;K<E.length-2;K++)if(d(E[0],E[E.length-1],E[K],E[K+1]))return!1;return!0}function F(B,E,K,G,L){L=L||0;var M=E[1]-B[1],O=B[0]-E[0],P=M*B[0]+O*B[1],Q=G[1]-K[1],R=K[0]-G[0],S=Q*K[0]+R*K[1],T=M*R-Q*O;return J(T,0,L)?[0,0]:[(R*P-O*S)/T,(M*S-Q*P)/T]}function H(B,E,K,G,L,M,O){M=M||100,O=O||0,L=L||25,E=typeof E!=="undefined"?E:[],K=K||[],G=G||[];var P=[0,0],Q=[0,0],R=[0,0],S=0,T=0,U=0,_=0,Z=0,X=0,Y=0,$=[],ba=[],V=B,ca=B;if(ca.length<3)return E;O++;if(O>M)return console.warn("quickDecomp: max level ("+M+") reached."),E;for(var W=0;W<B.length;++W)if(r(V,W)){K.push(V[W]),S=T=Number.MAX_VALUE;for(var aa=0;aa<B.length;++aa)i(k(V,W-1),k(V,W),k(V,aa))&&e(k(V,W-1),k(V,W),k(V,aa-1))&&(R=F(k(V,W-1),k(V,W),k(V,aa),k(V,aa-1)),f(k(V,W+1),k(V,W),R)&&(U=h(V[W],R),U<T&&(T=U,Q=R,X=aa))),i(k(V,W+1),k(V,W),k(V,aa+1))&&e(k(V,W+1),k(V,W),k(V,aa))&&(R=F(k(V,W+1),k(V,W),k(V,aa),k(V,aa+1)),i(k(V,W-1),k(V,W),R)&&(U=h(V[W],R),U<S&&(S=U,P=R,Z=aa)));if(X===(Z+1)%B.length)R[0]=(Q[0]+P[0])/2,R[1]=(Q[1]+P[1])/2,G.push(R),W<Z?(n($,V,W,Z+1),$.push(R),ba.push(R),X!==0&&n(ba,V,X,V.length),n(ba,V,0,W+1)):(W!==0&&n($,V,W,V.length),n($,V,0,Z+1),$.push(R),ba.push(R),n(ba,V,X,W+1));else{X>Z&&(Z+=B.length),_=Number.MAX_VALUE;if(Z<X)return E;for(var aa=X;aa<=Z;++aa)b(k(V,W-1),k(V,W),k(V,aa))&&e(k(V,W+1),k(V,W),k(V,aa))&&(U=h(k(V,W),k(V,aa)),U<_&&v(V,W,aa)&&(_=U,Y=aa%B.length));W<Y?(n($,V,W,Y+1),Y!==0&&n(ba,V,Y,ca.length),n(ba,V,0,W+1)):(W!==0&&n($,V,W,ca.length),n($,V,0,Y+1),n(ba,V,Y,W+1))}return $.length<ba.length?(H($,E,K,G,L,M,O),H(ba,E,K,G,L,M,O)):(H(ba,E,K,G,L,M,O),H($,E,K,G,L,M,O)),E}return E.push(B),E}function I(B,E){for(var K=0,G=B.length-1;B.length>3&&G>=0;--G)g(k(B,G-1),k(B,G),k(B,G+1),E)&&(B.splice(G%B.length,1),K++);return K}function N(B,E){for(var K=B.length-1;K>=1;--K)for(var G=B[K],L=K-1;L>=0;--L)if(C(G,B[L],E)){B.splice(K,1);continue}}function J(B,E,K){return K=K||0,Math.abs(B-E)<=K}function C(B,E,K){return J(B[0],E[0],K)&&J(B[1],E[1],K)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(0),l=a(514),i=a(14),b=a(2),f=a(107),e=a(156),c=a(3),j=new d({Extends:f,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,e],initialize:function g(h,k,m,n,p,q){i.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,p),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new c(k,m);var r=b(q,"shape",null);r?this.setBody(r,q):this.setRectangle(this.width,this.height,q),this.setPosition(k,m),this.initPipeline("TextureTintPipeline")}});o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(504),l=a(0),i=a(514),b=a(14),f=a(2),e=a(156),c=a(75),j=a(3),g=new l({Extends:c,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,e],initialize:function h(k,m,n,p,q,r){b.call(this,k.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(p,q),this.setSizeToFrame(),this.setOrigin(),this.world=k,this._tempVec2=new j(m,n);var s=f(r,"shape",null);s?this.setBody(s,r):this.setRectangle(this.width,this.height,r),this.setPosition(m,n),this.initPipeline("TextureTintPipeline")}});o.exports=g},function(o,w,a){var d={};o.exports=d;var l=a(1299),i=a(42);(function(){d.name="matter-js",d.version="0.14.2",d.uses=[],d.used=[],d.use=function(){l.use(d,Array.prototype.slice.call(arguments))},d.before=function(b,f){return b=b.replace(/^Matter./,""),i.chainPathBefore(d,b,f)},d.after=function(b,f){return b=b.replace(/^Matter./,""),i.chainPathAfter(d,b,f)}})()},function(o,w,a){var d={};o.exports=d;var l=a(99),i=a(516),b=a(100),f=a(109),e=a(86);(function(){d.collides=function(c,j){for(var g=[],h=0;h<j.length;h++){var k=j[h];if(c===k)continue;if(b.overlaps(k.bounds,c.bounds))for(var m=k.parts.length===1?0:1;m<k.parts.length;m++){var n=k.parts[m];if(b.overlaps(n.bounds,c.bounds)){var p=i.collides(n,c);if(p.collided){g.push(p);break}}}}return g},d.ray=function(c,j,g,h){h=h||1e-100;for(var k=l.angle(j,g),m=l.magnitude(l.sub(j,g)),n=(g.x+j.x)*.5,p=(g.y+j.y)*.5,q=f.rectangle(n,p,m,h,{angle:k}),r=d.collides(q,c),s=0;s<r.length;s+=1){var t=r[s];t.body=t.bodyB=t.bodyA}return r},d.region=function(c,j,g){for(var h=[],k=0;k<c.length;k++){var m=c[k],n=b.overlaps(m.bounds,j);(n&&!g||!n&&g)&&h.push(m)}return h},d.point=function(c,j){for(var g=[],h=0;h<c.length;h++){var k=c[h];if(b.contains(k.bounds,j))for(var m=k.parts.length===1?0:1;m<k.parts.length;m++){var n=k.parts[m];if(b.contains(n.bounds,j)&&e.contains(n.vertices,j)){g.push(k);break}}}return g}})()},function(o,w,a){var d={};o.exports=d;var l=a(1300),i=a(239),b=a(1303),f=a(1302),e=a(1426),c=a(1301),j=a(240),g=a(148),h=a(219),k=a(42),m=a(62);(function(){d.create=function(n,p){p=k.isElement(n)?p:n,n=k.isElement(n)?n:null,p=p||{},(n||p.render)&&k.warn("Engine.create: engine.render is deprecated (see docs)");var q={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:c}},r=k.extend(q,p);return r.world=p.world||l.create(r.world),r.pairs=f.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=e.create(r.metrics),r},d.update=function(n,p,q){p=p||1e3/60,q=q||1;var r=n.world,s=n.timing,t=n.broadphase,u=[],v;s.timestamp+=p*s.timeScale;var x={timestamp:s.timestamp};j.trigger(n,"beforeUpdate",x);var z=g.allBodies(r),y=g.allConstraints(r);for(e.reset(n.metrics),n.enableSleeping&&i.update(z,s.timeScale),d._bodiesApplyGravity(z,r.gravity),d._bodiesUpdate(z,p,s.timeScale,q,r.bounds),h.preSolveAll(z),v=0;v<n.constraintIterations;v++)h.solveAll(y,s.timeScale);h.postSolveAll(z),t.controller?(r.isModified&&t.controller.clear(t),t.controller.update(t,z,n,r.isModified),u=t.pairsList):u=z,r.isModified&&g.setModified(r,!1,!1,!0);var A=t.detector(u,n),D=n.pairs,F=s.timestamp;for(f.update(D,A,F),f.removeOld(D,F),n.enableSleeping&&i.afterCollisions(D.list,s.timeScale),D.collisionStart.length>0&&j.trigger(n,"collisionStart",{pairs:D.collisionStart}),b.preSolvePosition(D.list),v=0;v<n.positionIterations;v++)b.solvePosition(D.list,z,s.timeScale);for(b.postSolvePosition(z),h.preSolveAll(z),v=0;v<n.constraintIterations;v++)h.solveAll(y,s.timeScale);for(h.postSolveAll(z),b.preSolveVelocity(D.list),v=0;v<n.velocityIterations;v++)b.solveVelocity(D.list,s.timeScale);return D.collisionActive.length>0&&j.trigger(n,"collisionActive",{pairs:D.collisionActive}),D.collisionEnd.length>0&&j.trigger(n,"collisionEnd",{pairs:D.collisionEnd}),e.update(n.metrics,n),d._bodiesClearForces(z),j.trigger(n,"afterUpdate",x),n},d.merge=function(n,p){k.extend(n,p);if(p.world){n.world=p.world,d.clear(n);for(var q=g.allBodies(n.world),r=0;r<q.length;r++){var s=q[r];i.set(s,!1),s.id=k.nextId()}}},d.clear=function(n){var p=n.world;f.clear(n.pairs);var q=n.broadphase;if(q.controller){var r=g.allBodies(p);q.controller.clear(q),q.controller.update(q,r,n,!0)}},d._bodiesClearForces=function(n){for(var p=0;p<n.length;p++){var q=n[p];q.force.x=0,q.force.y=0,q.torque=0}},d._bodiesApplyGravity=function(n,p){var q=typeof p.scale!=="undefined"?p.scale:.001;if(p.x===0&&p.y===0||q===0)return;for(var r=0;r<n.length;r++){var s=n[r];if(s.ignoreGravity||s.isStatic||s.isSleeping)continue;s.force.x+=s.mass*p.x*q*s.gravityScale.x,s.force.y+=s.mass*p.y*q*s.gravityScale.y}},d._bodiesUpdate=function(n,p,q,r,s){for(var t=0;t<n.length;t++){var u=n[t];if(u.isStatic||u.isSleeping)continue;m.update(u,p,q,r)}}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(109),l=a(62),i=a(0),b=a(42),f=a(148),e=a(1391),c=a(10),j=a(1296),g=a(2),h=a(6),k=a(62),m=a(240),n=a(1297),p=a(1300),q=a(99),r=new i({Extends:c,initialize:function s(t,u){c.call(this),this.scene=t,this.engine=e.create(u),this.localWorld=this.engine.world;var v=h(u,"gravity",null);v?this.setGravity(v.x,v.y,v.scale):v===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(u,"enabled",!0),this.correction=h(u,"correction",1),this.getDelta=h(u,"getDelta",this.update60Hz);var x=g(u,"runner",{}),z=g(x,"fps",!1),y=g(x,"fps",60),A=g(x,"delta",1e3/y),D=g(x,"deltaMin",1e3/y),F=g(x,"deltaMax",1e3/(y*.5));z||(y=1e3/A),this.runner={fps:y,correction:g(x,"correction",1),deltaSampleSize:g(x,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:g(x,"isFixed",!1),delta:A,deltaMin:D,deltaMax:F},this.autoUpdate=h(u,"autoUpdate",!0);var H=h(u,"debug",!1);this.drawDebug=typeof H==="object"?!0:H,this.debugGraphic,this.debugConfig={showAxes:g(H,"showAxes",!1),showAngleIndicator:g(H,"showAngleIndicator",!1),angleColor:g(H,"angleColor",15208787),showBroadphase:g(H,"showBroadphase",!1),broadphaseColor:g(H,"broadphaseColor",16757760),showBounds:g(H,"showBounds",!1),boundsColor:g(H,"boundsColor",16777215),showVelocity:g(H,"showVelocity",!1),velocityColor:g(H,"velocityColor",44783),showCollisions:g(H,"showCollisions",!1),collisionColor:g(H,"collisionColor",16094476),showSeparations:g(H,"showSeparations",!1),separationColor:g(H,"separationColor",16753920),showBody:g(H,"showBody",!0),showStaticBody:g(H,"showStaticBody",!0),showInternalEdges:g(H,"showInternalEdges",!1),renderFill:g(H,"renderFill",!1),renderLine:g(H,"renderLine",!0),fillColor:g(H,"fillColor",1075465),fillOpacity:g(H,"fillOpacity",1),lineColor:g(H,"lineColor",2678297),lineOpacity:g(H,"lineOpacity",1),lineThickness:g(H,"lineThickness",1),staticFillColor:g(H,"staticFillColor",857979),staticLineColor:g(H,"staticLineColor",1255396),showSleeping:g(H,"showSleeping",!1),staticBodySleepOpacity:g(H,"staticBodySleepOpacity",.7),sleepFillColor:g(H,"sleepFillColor",4605510),sleepLineColor:g(H,"sleepLineColor",10066585),showSensors:g(H,"showSensors",!0),sensorFillColor:g(H,"sensorFillColor",857979),sensorLineColor:g(H,"sensorLineColor",1255396),showPositions:g(H,"showPositions",!0),positionSize:g(H,"positionSize",4),positionColor:g(H,"positionColor",14697178),showJoint:g(H,"showJoint",!0),jointColor:g(H,"jointColor",14737474),jointLineOpacity:g(H,"jointLineOpacity",1),jointLineThickness:g(H,"jointLineThickness",2),pinSize:g(H,"pinSize",4),pinColor:g(H,"pinColor",4382944),springColor:g(H,"springColor",14697184),anchorColor:g(H,"anchorColor",15724527),anchorSize:g(H,"anchorSize",4),showConvexHulls:g(H,"showConvexHulls",!1),hullColor:g(H,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy();if(g(u,"setBounds",!1)){var I=u.setBounds;if(typeof I==="boolean")this.setBounds();else{var N=g(I,"x",0),J=g(I,"y",0),C=g(I,"width",t.sys.scale.width),B=g(I,"height",t.sys.scale.height),E=g(I,"thickness",64),K=g(I,"left",!0),G=g(I,"right",!0),L=g(I,"top",!0),M=g(I,"bottom",!0);this.setBounds(N,J,C,B,E,K,G,L,M)}}},setCompositeRenderStyle:function(s){var t=s.bodies,u=s.constraints,v=s.composites,x,z,y;for(x=0;x<t.length;x++)z=t[x],y=z.render,this.setBodyRenderStyle(z,y.lineColor,y.lineOpacity,y.lineThickness,y.fillColor,y.fillOpacity);for(x=0;x<u.length;x++)z=u[x],y=z.render,this.setConstraintRenderStyle(z,y.lineColor,y.lineOpacity,y.lineThickness,y.pinSize,y.anchorColor,y.anchorSize);for(x=0;x<v.length;x++)z=v[x],this.setCompositeRenderStyle(z);return this},setBodyRenderStyle:function(s,t,u,v,x,z){var y=s.render,A=this.debugConfig;return y?((t===void 0||t===null)&&(t=s.isStatic?A.staticLineColor:A.lineColor),(u===void 0||u===null)&&(u=A.lineOpacity),(v===void 0||v===null)&&(v=A.lineThickness),(x===void 0||x===null)&&(x=s.isStatic?A.staticFillColor:A.fillColor),(z===void 0||z===null)&&(z=A.fillOpacity),t!==!1&&(y.lineColor=t),u!==!1&&(y.lineOpacity=u),v!==!1&&(y.lineThickness=v),x!==!1&&(y.fillColor=x),z!==!1&&(y.fillOpacity=z),this):this},setConstraintRenderStyle:function(s,t,u,v,x,z,y){var A=s.render,D=this.debugConfig;if(!A)return this;if(t===void 0||t===null){var F=A.type;F==="line"?t=D.jointColor:F==="pin"?t=D.pinColor:F==="spring"&&(t=D.springColor)}return(u===void 0||u===null)&&(u=D.jointLineOpacity),(v===void 0||v===null)&&(v=D.jointLineThickness),(x===void 0||x===null)&&(x=D.pinSize),(z===void 0||z===null)&&(z=D.anchorColor),(y===void 0||y===null)&&(y=D.anchorSize),t!==!1&&(A.lineColor=t),u!==!1&&(A.lineOpacity=u),v!==!1&&(A.lineThickness=v),x!==!1&&(A.pinSize=x),z!==!1&&(A.anchorColor=z),y!==!1&&(A.anchorSize=y),this},setEventsProxy:function(){var s=this,t=this.engine,u=this.localWorld;this.drawDebug&&(m.on(u,"compositeModified",function(v){s.setCompositeRenderStyle(v)}),m.on(u,"beforeAdd",function(v){for(var x=[].concat(v.object),z=0;z<x.length;z++){var y=x[z],A=y.render;y.type==="body"?s.setBodyRenderStyle(y,A.lineColor,A.lineOpacity,A.lineThickness,A.fillColor,A.fillOpacity):y.type==="composite"?s.setCompositeRenderStyle(y):y.type==="constraint"&&s.setConstraintRenderStyle(y,A.lineColor,A.lineOpacity,A.lineThickness,A.pinSize,A.anchorColor,A.anchorSize)}})),m.on(u,"beforeAdd",function(v){s.emit(j.BEFORE_ADD,v)}),m.on(u,"afterAdd",function(v){s.emit(j.AFTER_ADD,v)}),m.on(u,"beforeRemove",function(v){s.emit(j.BEFORE_REMOVE,v)}),m.on(u,"afterRemove",function(v){s.emit(j.AFTER_REMOVE,v)}),m.on(t,"beforeUpdate",function(v){s.emit(j.BEFORE_UPDATE,v)}),m.on(t,"afterUpdate",function(v){s.emit(j.AFTER_UPDATE,v)}),m.on(t,"collisionStart",function(v){var x=v.pairs,z,y;x.length>0&&(z=x[0].bodyA,y=x[0].bodyB),s.emit(j.COLLISION_START,v,z,y)}),m.on(t,"collisionActive",function(v){var x=v.pairs,z,y;x.length>0&&(z=x[0].bodyA,y=x[0].bodyB),s.emit(j.COLLISION_ACTIVE,v,z,y)}),m.on(t,"collisionEnd",function(v){var x=v.pairs,z,y;x.length>0&&(z=x[0].bodyA,y=x[0].bodyB),s.emit(j.COLLISION_END,v,z,y)})},setBounds:function(s,t,u,v,x,z,y,A,D){return s===void 0&&(s=0),t===void 0&&(t=0),u===void 0&&(u=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),x===void 0&&(x=64),z===void 0&&(z=!0),y===void 0&&(y=!0),A===void 0&&(A=!0),D===void 0&&(D=!0),this.updateWall(z,"left",s-x,t-x,x,v+x*2),this.updateWall(y,"right",s+u,t-x,x,v+x*2),this.updateWall(A,"top",s,t-x,u,x),this.updateWall(D,"bottom",s,t+v,u,x),this},updateWall:function(s,t,u,v,x,z){var y=this.walls[t];s?(y&&p.remove(this.localWorld,y),u+=x/2,v+=z/2,this.walls[t]=this.create(u,v,x,z,{isStatic:!0,friction:0,frictionStatic:0})):(y&&p.remove(this.localWorld,y),this.walls[t]=null)},createDebugGraphic:function(){var s=this.scene.sys.add.graphics({x:0,y:0});return s.setDepth(Number.MAX_VALUE),this.debugGraphic=s,this.drawDebug=!0,s},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(s,t,u){return s===void 0&&(s=0),t===void 0&&(t=1),this.localWorld.gravity.x=s,this.localWorld.gravity.y=t,u!==void 0&&(this.localWorld.gravity.scale=u),this},create:function(s,t,u,v,x){var z=d.rectangle(s,t,u,v,x);return p.add(this.localWorld,z),z},add:function(s){return p.add(this.localWorld,s),this},remove:function(s,t){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var v=s[u],x=v.body?v.body:v;f.remove(this.localWorld,x,t)}return this},removeConstraint:function(s,t){return f.remove(this.localWorld,s,t),this},convertTilemapLayer:function(s,t){var u=s.layer,v=s.getTilesWithin(0,0,u.width,u.height,{isColliding:!0});return this.convertTiles(v,t),this},convertTiles:function(s,t){if(s.length===0)return this;for(var u=0;u<s.length;u++)new n(this,s[u],t);return this},nextGroup:function(s){return k.nextGroup(s)},nextCategory:function(){return k.nextCategory()},pause:function(){return this.enabled=!1,this.emit(j.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(j.RESUME),this},update:function(s,t){if(!this.enabled||!this.autoUpdate)return;var u=this.engine,v=this.runner,x=u.timing,z=this.correction;v.isFixed?t=this.getDelta(s,t):(t=s-v.timePrev||v.delta,v.timePrev=s,v.deltaHistory.push(t),v.deltaHistory=v.deltaHistory.slice(-v.deltaSampleSize),t=Math.min.apply(null,v.deltaHistory),t=t<v.deltaMin?v.deltaMin:t,t=t>v.deltaMax?v.deltaMax:t,z=t/v.delta,v.delta=t),v.timeScalePrev!==0&&(z*=x.timeScale/v.timeScalePrev),x.timeScale===0&&(z=0),v.timeScalePrev=x.timeScale,v.correction=z,v.frameCounter+=1,s-v.counterTimestamp>=1e3&&(v.fps=v.frameCounter*((s-v.counterTimestamp)/1e3),v.counterTimestamp=s,v.frameCounter=0),e.update(u,t,z)},step:function(s,t){e.update(this.engine,s,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(s){var t=s.hasOwnProperty("body")?s.body:s;return f.get(this.localWorld,t.id,t.type)!==null},getAllBodies:function(){return f.allBodies(this.localWorld)},getAllConstraints:function(){return f.allConstraints(this.localWorld)},getAllComposites:function(){return f.allComposites(this.localWorld)},postUpdate:function(){if(!this.drawDebug)return;var s=this.debugConfig,t=this.engine,u=this.debugGraphic,v=f.allBodies(this.localWorld);this.debugGraphic.clear(),s.showBroadphase&&t.broadphase.controller&&this.renderGrid(t.broadphase,u,s.broadphaseColor,.5),s.showBounds&&this.renderBodyBounds(v,u,s.boundsColor,.5),(s.showBody||s.showStaticBody)&&this.renderBodies(v),s.showJoint&&this.renderJoints(),(s.showAxes||s.showAngleIndicator)&&this.renderBodyAxes(v,u,s.showAxes,s.angleColor,.5),s.showVelocity&&this.renderBodyVelocity(v,u,s.velocityColor,1,2),s.showSeparations&&this.renderSeparations(t.pairs.list,u,s.separationColor),s.showCollisions&&this.renderCollisions(t.pairs.list,u,s.collisionColor)},renderGrid:function(s,t,u,v){t.lineStyle(1,u,v);for(var x=b.keys(s.buckets),z=0;z<x.length;z++){var y=x[z];if(s.buckets[y].length<2)continue;var A=y.split(/C|R/);t.strokeRect(parseInt(A[1],10)*s.bucketWidth,parseInt(A[2],10)*s.bucketHeight,s.bucketWidth,s.bucketHeight)}return this},renderSeparations:function(s,t,u){t.lineStyle(1,u,1);for(var v=0;v<s.length;v++){var x=s[v];if(!x.isActive)continue;var z=x.collision,y=z.bodyA,A=z.bodyB,D=y.position,F=A.position,H=z.penetration,I=!y.isStatic&&!A.isStatic?4:1;A.isStatic&&(I=0),t.lineBetween(F.x,F.y,F.x-H.x*I,F.y-H.y*I),I=!y.isStatic&&!A.isStatic?4:1,y.isStatic&&(I=0),t.lineBetween(D.x,D.y,D.x-H.x*I,D.y-H.y*I)}return this},renderCollisions:function(s,t,u){t.lineStyle(1,u,.5),t.fillStyle(u,1);var v,x;for(v=0;v<s.length;v++){x=s[v];if(!x.isActive)continue;for(var z=0;z<x.activeContacts.length;z++){var y=x.activeContacts[z],A=y.vertex;t.fillRect(A.x-2,A.y-2,5,5)}}for(v=0;v<s.length;v++){x=s[v];if(!x.isActive)continue;var D=x.collision,F=x.activeContacts;if(F.length>0){var H=F[0].vertex.x,I=F[0].vertex.y;F.length===2&&(H=(F[0].vertex.x+F[1].vertex.x)/2,I=(F[0].vertex.y+F[1].vertex.y)/2),D.bodyB===D.supports[0].body||D.bodyA.isStatic?t.lineBetween(H-D.normal.x*8,I-D.normal.y*8,H,I):t.lineBetween(H+D.normal.x*8,I+D.normal.y*8,H,I)}}return this},renderBodyBounds:function(s,t,u,v){t.lineStyle(1,u,v);for(var x=0;x<s.length;x++){var z=s[x];if(!z.render.visible)continue;var y=z.bounds;if(y)t.strokeRect(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y);else for(var A=z.parts,D=A.length>1?1:0;D<A.length;D++){var F=A[D];t.strokeRect(F.bounds.min.x,F.bounds.min.y,F.bounds.max.x-F.bounds.min.x,F.bounds.max.y-F.bounds.min.y)}}return this},renderBodyAxes:function(s,t,u,v,x){t.lineStyle(1,v,x);for(var z=0;z<s.length;z++){var y=s[z],A=y.parts;if(!y.render.visible)continue;var D,F,H;if(u)for(F=A.length>1?1:0;F<A.length;F++)for(D=A[F],H=0;H<D.axes.length;H++){var I=D.axes[H];t.lineBetween(D.position.x,D.position.y,D.position.x+I.x*20,D.position.y+I.y*20)}else for(F=A.length>1?1:0;F<A.length;F++)for(D=A[F],H=0;H<D.axes.length;H++)t.lineBetween(D.position.x,D.position.y,(D.vertices[0].x+D.vertices[D.vertices.length-1].x)/2,(D.vertices[0].y+D.vertices[D.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(s,t,u,v,x){t.lineStyle(x,u,v);for(var z=0;z<s.length;z++){var y=s[z];if(!y.render.visible)continue;t.lineBetween(y.position.x,y.position.y,y.position.x+(y.position.x-y.positionPrev.x)*2,y.position.y+(y.position.y-y.positionPrev.y)*2)}return this},renderBodies:function(s){for(var t=this.debugGraphic,u=this.debugConfig,v=u.showBody,x=u.showStaticBody,z=u.showSleeping,y=u.showInternalEdges,A=u.showConvexHulls,D=u.renderFill,F=u.renderLine,H=u.staticBodySleepOpacity,I=u.sleepFillColor,N=u.sleepLineColor,J=u.hullColor,C=0;C<s.length;C++){var B=s[C];if(!B.render.visible)continue;if(!x&&B.isStatic||!v&&!B.isStatic)continue;var E=B.render.lineColor,K=B.render.lineOpacity,G=B.render.lineThickness,L=B.render.fillColor,M=B.render.fillOpacity;z&&B.isSleeping&&(B.isStatic?(K*=H,M*=H):(E=N,L=I)),D||(L=null),F||(E=null),this.renderBody(B,t,y,E,K,G,L,M);var O=B.parts.length;A&&O>1&&this.renderConvexHull(B,t,J,G)}},renderBody:function(s,t,u,v,x,z,y,A){v===void 0&&(v=null),x===void 0&&(x=null),z===void 0&&(z=1),y===void 0&&(y=null),A===void 0&&(A=null);for(var D=this.debugConfig,F=D.sensorFillColor,H=D.sensorLineColor,I=s.parts,N=I.length,J=N>1?1:0;J<N;J++){var C=I[J],B=C.render,E=B.opacity;if(!B.visible||E===0||C.isSensor&&!D.showSensors)continue;var K=C.circleRadius;t.beginPath(),C.isSensor?(y!==null&&t.fillStyle(F,A*E),v!==null&&t.lineStyle(z,H,x*E)):(y!==null&&t.fillStyle(y,A*E),v!==null&&t.lineStyle(z,v,x*E));if(K)t.arc(C.position.x,C.position.y,K,0,2*Math.PI);else{var G=C.vertices,L=G.length;t.moveTo(G[0].x,G[0].y);for(var M=1;M<L;M++){var O=G[M];!G[M-1].isInternal||u?t.lineTo(O.x,O.y):t.moveTo(O.x,O.y);if(M<L&&O.isInternal&&!u){var P=(M+1)%L;t.moveTo(G[P].x,G[P].y)}}t.closePath()}y!==null&&t.fillPath(),v!==null&&t.strokePath()}if(D.showPositions&&!s.isStatic){var Q=s.position.x,R=s.position.y,S=Math.ceil(D.positionSize/2);t.fillStyle(D.positionColor,1),t.fillRect(Q-S,R-S,D.positionSize,D.positionSize)}return this},renderConvexHull:function(s,t,u,v){v===void 0&&(v=1);var x=s.parts,z=x.length;if(z>1){var y=s.vertices;t.lineStyle(v,u),t.beginPath(),t.moveTo(y[0].x,y[0].y);for(var A=1;A<y.length;A++)t.lineTo(y[A].x,y[A].y);t.lineTo(y[0].x,y[0].y),t.strokePath()}return this},renderJoints:function(){for(var s=this.debugGraphic,t=f.allConstraints(this.localWorld),u=0;u<t.length;u++){var v=t[u].render,x=v.lineColor,z=v.lineOpacity,y=v.lineThickness,A=v.pinSize,D=v.anchorColor,F=v.anchorSize;this.renderConstraint(t[u],s,x,z,y,A,D,F)}},renderConstraint:function(s,t,u,v,x,z,y,A){var D=s.render;if(!D.visible||!s.pointA||!s.pointB)return this;t.lineStyle(x,u,v);var F=s.bodyA,H=s.bodyB,I,N;F?I=q.add(F.position,s.pointA):I=s.pointA;if(D.type==="pin")t.strokeCircle(I.x,I.y,z);else{H?N=q.add(H.position,s.pointB):N=s.pointB,t.beginPath(),t.moveTo(I.x,I.y);if(D.type==="spring")for(var J=q.sub(N,I),C=q.perp(q.normalise(J)),B=Math.ceil(b.clamp(s.length/5,12,20)),E,K=1;K<B;K+=1)E=K%2===0?1:-1,t.lineTo(I.x+J.x*(K/B)+C.x*E*4,I.y+J.y*(K/B)+C.y*E*4);t.lineTo(N.x,N.y)}return t.strokePath(),D.anchors&&A>0&&(t.fillStyle(y),t.fillCircle(I.x,I.y,A),t.fillCircle(N.x,N.y,A)),this},resetCollisionIDs:function(){return l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});o.exports=r},function(o,w,a){(function(d){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/a(518);var l=a(33),i=a(18),b={Actions:a(241),Animations:a(638),BlendModes:a(52),Cache:a(639),Cameras:a(642),Core:a(728),Class:a(0),Create:a(789),Curves:a(795),Data:a(798),Display:a(800),DOM:a(818),Events:a(819),Game:a(821),GameObjects:a(914),Geom:a(430),Input:a(1201),Loader:a(1235),Math:a(170),Physics:a(1394),Plugins:a(1304),Renderer:a(1431),Scale:a(1306),ScaleModes:a(234),Scene:a(374),Scenes:a(1307),Structs:a(1309),Textures:a(1310),Tilemaps:a(1312),Time:a(1353),Tweens:a(1355),Utils:a(1373)};b.Sound=a(1383),b=i(!1,b,l),o.exports=b,d.Phaser=b}).call(this,a(517))},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Arcade:a(1261),Matter:a(1395)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BodyBounds:a(1384),Factory:a(1385),Image:a(1387),Matter:a(1298),MatterPhysics:a(1427),PolyDecomp:a(1386),Sprite:a(1388),TileBody:a(1297),PhysicsEditorParser:a(1294),PhysicsJSONParser:a(1295),World:a(1392)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(514),l=a(2),i=a(3);function b(e){return!!e.get&&typeof e.get==="function"||!!e.set&&typeof e.set==="function"}var f=function(e,c,j,g){j===void 0&&(j={}),g===void 0&&(g=!0);var h=c.x,k=c.y;c.body={temp:!0,position:{x:h,y:k}};var m=[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity];m.forEach(function(p){for(var q in p)b(p[q])?Object.defineProperty(c,q,{get:p[q].get,set:p[q].set}):Object.defineProperty(c,q,{value:p[q]})}),c.world=e,c._tempVec2=new i(h,k);if(j.hasOwnProperty("type")&&j.type==="body")c.setExistingBody(j,g);else{var n=l(j,"shape",null);n||(n="rectangle"),j.addToWorld=g,c.setBody(n,j)}return c};o.exports=f},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setBounce:function(d){return this.body.restitution=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setCollisionCategory:function(d){return this.body.collisionFilter.category=d,this},setCollisionGroup:function(d){return this.body.collisionFilter.group=d,this},setCollidesWith:function(d){var l=0;if(!Array.isArray(d))l=d;else for(var i=0;i<d.length;i++)l|=d[i];return this.body.collisionFilter.mask=l,this},setOnCollide:function(d){return this.body.onCollideCallback=d,this},setOnCollideEnd:function(d){return this.body.onCollideEndCallback=d,this},setOnCollideActive:function(d){return this.body.onCollideActiveCallback=d,this},setOnCollideWith:function(d,l){Array.isArray(d)||(d=[d]);for(var i=0;i<d.length;i++){var b=d[i].hasOwnProperty("body")?d[i].body:d[i];this.body.setOnCollideWith(b,l)}return this}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(62),l={applyForce:function(i){return this._tempVec2.set(this.body.position.x,this.body.position.y),d.applyForce(this.body,this._tempVec2,i),this},applyForceFrom:function(i,b){return d.applyForce(this.body,i,b),this},thrust:function(i){var b=this.body.angle;return this._tempVec2.set(i*Math.cos(b),i*Math.sin(b)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(i){var b=this.body.angle-Math.PI/2;return this._tempVec2.set(i*Math.cos(b),i*Math.sin(b)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(i){var b=this.body.angle+Math.PI/2;return this._tempVec2.set(i*Math.cos(b),i*Math.sin(b)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(i){var b=this.body.angle-Math.PI;return this._tempVec2.set(i*Math.cos(b),i*Math.sin(b)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setFriction:function(d,l,i){return this.body.friction=d,l!==void 0&&(this.body.frictionAir=l),i!==void 0&&(this.body.frictionStatic=i),this},setFrictionAir:function(d){return this.body.frictionAir=d,this},setFrictionStatic:function(d){return this.body.frictionStatic=d,this}};o.exports=a},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setIgnoreGravity:function(d){return this.body.ignoreGravity=d,this}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(62),l=a(3),i={setMass:function(b){return d.setMass(this.body,b),this},setDensity:function(b){return d.setDensity(this.body,b),this},centerOfMass:{get:function(){return new l(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};o.exports=i},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(62),l={setStatic:function(i){return d.setStatic(this.body,i),this},isStatic:function(){return this.body.isStatic}};o.exports=l},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={setSensor:function(d){return this.body.isSensor=d,this},isSensor:function(){return this.body.isSensor}};o.exports=a},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(109),l=a(62),i=a(106),b=a(2),f=a(1294),e=a(1295),c=a(86),j={setRectangle:function(g,h,k){return this.setBody({type:"rectangle",width:g,height:h},k)},setCircle:function(g,h){return this.setBody({type:"circle",radius:g},h)},setPolygon:function(g,h,k){return this.setBody({type:"polygon",sides:h,radius:g},k)},setTrapezoid:function(g,h,k,m){return this.setBody({type:"trapezoid",width:g,height:h,slope:k},m)},setExistingBody:function(g,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=g;for(var k=0;k<g.parts.length;k++)g.parts[k].gameObject=this;var m=this;g.destroy=function u(){m.world.remove(m.body,!0),m.body.gameObject=null},h&&(this.world.has(g)&&this.world.remove(g,!0),this.world.add(g));if(this._originComponent){var n=g.render.sprite.xOffset,p=g.render.sprite.yOffset,q=g.centerOfMass.x,r=g.centerOfMass.y;if(i(q,.5)&&i(r,.5))this.setOrigin(n+.5,p+.5);else{var s=g.centerOffset.x,t=g.centerOffset.y;this.setOrigin(n+s/this.displayWidth,p+t/this.displayHeight)}}return this},setBody:function(g,h){if(!g)return this;var k;typeof g==="string"&&(g={type:g});var m=b(g,"type","rectangle"),n=b(g,"x",this._tempVec2.x),p=b(g,"y",this._tempVec2.y),q=b(g,"width",this.width),r=b(g,"height",this.height);switch(m){case"rectangle":k=d.rectangle(n,p,q,r,h);break;case"circle":var s=b(g,"radius",Math.max(q,r)/2),t=b(g,"maxSides",25);k=d.circle(n,p,s,h,t);break;case"trapezoid":var u=b(g,"slope",.5);k=d.trapezoid(n,p,q,r,u,h);break;case"polygon":var v=b(g,"sides",5),x=b(g,"radius",Math.max(q,r)/2);k=d.polygon(n,p,v,x,h);break;case"fromVertices":case"fromVerts":var z=b(g,"verts",null);if(z){typeof z==="string"&&(z=c.fromPath(z));if(this.body&&!this.body.hasOwnProperty("temp"))l.setVertices(this.body,z),k=this.body;else{var y=b(g,"flagInternal",!1),A=b(g,"removeCollinear",.01),D=b(g,"minimumArea",10);k=d.fromVertices(n,p,z,h,y,A,D)}}break;case"fromPhysicsEditor":k=f.parseBody(n,p,g,h);break;case"fromPhysicsTracer":k=e.parseBody(n,p,g,h);break}return k&&this.setExistingBody(k,g.addToWorld),this}};o.exports=j},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(1296),l=a(239),i=a(240),b={setToSleep:function(){l.set(this.body,!0)},setAwake:function(){l.set(this.body,!1)},setSleepThreshold:function(f){return f===void 0&&(f=60),this.body.sleepThreshold=f,this},setSleepEvents:function(f,e){return this.setSleepStartEvent(f),this.setSleepEndEvent(e),this},setSleepStartEvent:function(f){if(f){var e=this.world;i.on(this.body,"sleepStart",function(c){e.emit(d.SLEEP_START,c,this)})}else i.off(this.body,"sleepStart");return this},setSleepEndEvent:function(f){if(f){var e=this.world;i.on(this.body,"sleepEnd",function(c){e.emit(d.SLEEP_END,c,this)})}else i.off(this.body,"sleepEnd");return this}};o.exports=b},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afteradd"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afterremove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afterupdate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeadd"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeremove"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeupdate"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionactive"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionend"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleepend"},function(o,w){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleepstart"},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(62),l=a(13),i=a(235),b=a(236),f=4,e={x:{get:function(){return this.body.position.x},set:function(c){this._tempVec2.set(c,this.y),d.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(c){this._tempVec2.set(this.x,c),d.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(c){var j=1/this._scaleX,g=1/this._scaleY;this._scaleX=c,this._scaleX===0?this.renderFlags&=~f:this.renderFlags|=f,d.scale(this.body,j,g),d.scale(this.body,c,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(c){var j=1/this._scaleX,g=1/this._scaleY;this._scaleY=c,this._scaleY===0?this.renderFlags&=~f:this.renderFlags|=f,d.scale(this.body,j,g),d.scale(this.body,this._scaleX,c)}},angle:{get:function(){return b(this.body.angle*l.RAD_TO_DEG)},set:function(c){this.rotation=b(c)*l.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(c){this._rotation=i(c),d.setAngle(this.body,this._rotation)}},setPosition:function(c,j){return c===void 0&&(c=0),j===void 0&&(j=c),this._tempVec2.set(c,j),d.setPosition(this.body,this._tempVec2),this},setRotation:function(c){return c===void 0&&(c=0),this._rotation=i(c),d.setAngle(this.body,c),this},setFixedRotation:function(){return d.setInertia(this.body,Infinity),this},setAngle:function(c){return c===void 0&&(c=0),this.angle=c,d.setAngle(this.body,this.rotation),this},setScale:function(c,j,g){c===void 0&&(c=1),j===void 0&&(j=c);var h=1/this._scaleX,k=1/this._scaleY;return this._scaleX=c,this._scaleY=j,d.scale(this.body,h,k,g),d.scale(this.body,c,j,g),this}};o.exports=e},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(62),l={setAngularVelocity:function(i){return d.setAngularVelocity(this.body,i),this},setVelocityX:function(i){return this._tempVec2.set(i,this.body.velocity.y),d.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(i){return this._tempVec2.set(this.body.velocity.x,i),d.setVelocity(this.body,this._tempVec2),this},setVelocity:function(i,b){return this._tempVec2.set(i,b),d.setVelocity(this.body,this._tempVec2),this}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(100),l=a(0),i=a(148),b=a(219),f=a(515),e=a(1296),c=a(54),j=a(126),g=a(239),h=a(3),k=a(86),m=new l({initialize:function n(p,q,r){r===void 0&&(r={});var s={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=q,this.camera=null,this.pointer=null,this.active=!0,this.position=new h(),this.body=null,this.part=null,this.constraint=b.create(j(r,s)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(c.POINTER_DOWN,this.onDown,this),p.sys.input.on(c.POINTER_UP,this.onUp,this)},onDown:function(n){this.pointer||(this.pointer=n,this.camera=n.camera)},onUp:function(n){n===this.pointer&&(this.pointer=null)},getBody:function(n){var p=this.position,q=this.constraint;this.camera.getWorldPoint(n.x,n.y,p);for(var r=i.allBodies(this.world.localWorld),s=0;s<r.length;s++){var t=r[s];if(!t.ignorePointer&&d.contains(t.bounds,p)&&f.canCollide(t.collisionFilter,q.collisionFilter)){if(this.hitTestBody(t,p))return this.world.emit(e.DRAG_START,t,this.part,this),!0}}return!1},hitTestBody:function(n,p){for(var q=this.constraint,r=n.parts.length,s=r>1?1:0,t=s;t<r;t++){var u=n.parts[t];if(k.contains(u.vertices,p))return q.pointA=p,q.pointB={x:p.x-n.position.x,y:p.y-n.position.y},q.bodyB=n,q.angleB=n.angle,g.set(n,!1),this.part=u,this.body=n,!0}return!1},update:function(){var n=this.pointer,p=this.body;if(!this.active||!n){p&&this.stopDrag();return}if(!n.isDown&&p){this.stopDrag();return}else if(n.isDown){if(!p&&!this.getBody(n))return;p=this.body;var q=this.position,r=this.constraint;this.camera.getWorldPoint(n.x,n.y,q),r.pointA.x=q.x,r.pointA.y=q.y,g.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var n=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,n&&this.world.emit(e.DRAG_END,n,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(c.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(c.POINTER_UP,this.onUp,this)}});o.exports=m},function(o,w,a){var d={};o.exports=d;var l=a(148),i=a(42);(function(){d.create=function(b){var f={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return i.extend(f,!1,b)},d.reset=function(b){b.extended&&(b.narrowDetections=0,b.narrowphaseTests=0,b.narrowReuse=0,b.narrowReuseCount=0,b.midphaseTests=0,b.broadphaseTests=0,b.narrowEff=0,b.midEff=0,b.broadEff=0,b.collisions=0,b.buckets=0,b.pairs=0,b.bodies=0)},d.update=function(b,f){if(b.extended){var e=f.world,c=l.allBodies(e);b.collisions=b.narrowDetections,b.pairs=f.pairs.list.length,b.bodies=c.length,b.midEff=(b.narrowDetections/(b.midphaseTests||1)).toFixed(2),b.narrowEff=(b.narrowDetections/(b.narrowphaseTests||1)).toFixed(2),b.broadEff=(1-b.broadphaseTests/(c.length||1)).toFixed(2),b.narrowReuse=(b.narrowReuseCount/(b.narrowphaseTests||1)).toFixed(2)}}})()},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=a(105),l=a(513),i=a(109),b=a(62),f=a(1384),e=a(100),c=a(0),j=a(148),g=a(1292),h=a(219),k=a(515),m=a(53),n=a(1385),p=a(2),q=a(6),r=a(1301),s=a(1428),t=a(1429),u=a(1389),v=a(1430),x=a(126),z=a(473),y=a(1302),A=a(1299),D=a(23),F=a(1390),H=a(1303),I=a(516),N=a(22),J=a(1293),C=a(99),B=a(86),E=a(1392),K=new c({initialize:function G(L){this.scene=L,this.systems=L.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=b,this.composite=j,this.detector=k,this.grid=r,this.pair=z,this.pairs=y,this.query=F,this.resolver=H,this.sat=I,this.constraint=h,this.bodies=i,this.composites=g,this.axes=l,this.bounds=e,this.svg=J,this.vector=C,this.vertices=B,this.verts=B,this._tempVec2=C.create(),q(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),q(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),q(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),H._restingThresh=q(this.config,"restingThresh",4),H._restingThreshTangent=q(this.config,"restingThreshTangent",6),H._positionDampen=q(this.config,"positionDampen",.9),H._positionWarming=q(this.config,"positionWarming",.8),H._frictionNormalMultiplier=q(this.config,"frictionNormalMultiplier",5),L.sys.events.once(N.BOOT,this.boot,this),L.sys.events.on(N.START,this.start,this)},boot:function(){this.world=new E(this.scene,this.config),this.add=new n(this.world),this.bodyBounds=new f(),this.systems.events.once(N.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new E(this.scene,this.config),this.add=new n(this.world));var G=this.systems.events;G.on(N.UPDATE,this.world.update,this.world),G.on(N.POST_UPDATE,this.world.postUpdate,this.world),G.once(N.SHUTDOWN,this.shutdown,this)},getConfig:function(){var G=this.systems.game.config.physics,L=this.systems.settings.physics,M=x(p(L,"matter",{}),p(G,"matter",{}));return M},enableAttractorPlugin:function(){return A.register(s),A.use(u,s),this},enableWrapPlugin:function(){return A.register(v),A.use(u,v),this},enableCollisionEventsPlugin:function(){return A.register(t),A.use(u,t),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(G,L){this.world.step(G,L)},containsPoint:function(G,L,M){G=this.getMatterBodies(G);var O=C.create(L,M),P=F.point(G,O);return P.length>0?!0:!1},intersectPoint:function(G,L,M){M=this.getMatterBodies(M);var O=C.create(G,L),P=[],Q=F.point(M,O);return Q.forEach(function(R){P.indexOf(R)===-1&&P.push(R)}),P},intersectRect:function(G,L,M,O,P,Q){P===void 0&&(P=!1),Q=this.getMatterBodies(Q);var R={min:{x:G,y:L},max:{x:G+M,y:L+O}},S=[],T=F.region(Q,R,P);return T.forEach(function(U){S.indexOf(U)===-1&&S.push(U)}),S},intersectRay:function(G,L,M,O,P,Q){P===void 0&&(P=1),Q=this.getMatterBodies(Q);for(var R=[],S=F.ray(Q,C.create(G,L),C.create(M,O),P),T=0;T<S.length;T++)R.push(S[T].body);return R},intersectBody:function(G,L){L=this.getMatterBodies(L);for(var M=[],O=F.collides(G,L),P=0;P<O.length;P++){var Q=O[P];Q.bodyA===G?M.push(Q.bodyB):M.push(Q.bodyA)}return M},overlap:function(G,L,M,O,P){M===void 0&&(M=null),O===void 0&&(O=null),P===void 0&&(P=M),Array.isArray(G)||(G=[G]),G=this.getMatterBodies(G),L=this.getMatterBodies(L);for(var Q=!1,R=0;R<G.length;R++)for(var S=G[R],T=F.collides(S,L),U=0;U<T.length;U++){var _=T[U],Z=_.bodyA.id===S.id?_.bodyB:_.bodyA;if(!O||O.call(P,S,Z,_)){Q=!0;if(M)M.call(P,S,Z,_);else if(!O)return!0}}return Q},setCollisionCategory:function(G,L){return G=this.getMatterBodies(G),G.forEach(function(M){M.collisionFilter.category=L}),this},setCollisionGroup:function(G,L){return G=this.getMatterBodies(G),G.forEach(function(M){M.collisionFilter.group=L}),this},setCollidesWith:function(G,L){G=this.getMatterBodies(G);var M=0;if(!Array.isArray(L))M=L;else for(var O=0;O<L.length;O++)M|=L[O];return G.forEach(function(P){P.collisionFilter.mask=M}),this},getMatterBodies:function(G){if(!G)return this.world.getAllBodies();Array.isArray(G)||(G=[G]);for(var L=[],M=0;M<G.length;M++){var O=G[M].hasOwnProperty("body")?G[M].body:G[M];L.push(O)}return L},setVelocity:function(G,L,M){G=this.getMatterBodies(G);var O=this._tempVec2;return O.x=L,O.y=M,G.forEach(function(P){b.setVelocity(P,O)}),this},setVelocityX:function(G,L){G=this.getMatterBodies(G);var M=this._tempVec2;return M.x=L,G.forEach(function(O){M.y=O.velocity.y,b.setVelocity(O,M)}),this},setVelocityY:function(G,L){G=this.getMatterBodies(G);var M=this._tempVec2;return M.y=L,G.forEach(function(O){M.x=O.velocity.x,b.setVelocity(O,M)}),this},setAngularVelocity:function(G,L){return G=this.getMatterBodies(G),G.forEach(function(M){b.setAngularVelocity(M,L)}),this},applyForce:function(G,L){G=this.getMatterBodies(G);var M=this._tempVec2;return G.forEach(function(O){M.x=O.position.x,M.y=O.position.y,b.applyForce(O,M,L)}),this},applyForceFromPosition:function(G,L,M,O){G=this.getMatterBodies(G);var P=this._tempVec2;return G.forEach(function(Q){O===void 0&&(O=Q.angle),P.x=M*Math.cos(O),P.y=M*Math.sin(O),b.applyForce(Q,L,P)}),this},applyForceFromAngle:function(G,L,M){G=this.getMatterBodies(G);var O=this._tempVec2;return G.forEach(function(P){M===void 0&&(M=P.angle),O.x=L*Math.cos(M),O.y=L*Math.sin(M),b.applyForce(P,{x:P.position.x,y:P.position.y},O)}),this},getConstraintLength:function(G){var L=G.pointA.x,M=G.pointA.y,O=G.pointB.x,P=G.pointB.y;return G.bodyA&&(L+=G.bodyA.position.x,M+=G.bodyA.position.y),G.bodyB&&(O+=G.bodyB.position.x,P+=G.bodyB.position.y),m(L,M,O,P)},alignBody:function(G,L,M,O){G=G.hasOwnProperty("body")?G.body:G;var P;switch(O){case d.TOP_LEFT:case d.LEFT_TOP:P=this.bodyBounds.getTopLeft(G,L,M);break;case d.TOP_CENTER:P=this.bodyBounds.getTopCenter(G,L,M);break;case d.TOP_RIGHT:case d.RIGHT_TOP:P=this.bodyBounds.getTopRight(G,L,M);break;case d.LEFT_CENTER:P=this.bodyBounds.getLeftCenter(G,L,M);break;case d.CENTER:P=this.bodyBounds.getCenter(G,L,M);break;case d.RIGHT_CENTER:P=this.bodyBounds.getRightCenter(G,L,M);break;case d.LEFT_BOTTOM:case d.BOTTOM_LEFT:P=this.bodyBounds.getBottomLeft(G,L,M);break;case d.BOTTOM_CENTER:P=this.bodyBounds.getBottomCenter(G,L,M);break;case d.BOTTOM_RIGHT:case d.RIGHT_BOTTOM:P=this.bodyBounds.getBottomRight(G,L,M);break}return P&&b.setPosition(G,P),this},shutdown:function(){var G=this.systems.events;this.world&&(G.off(N.UPDATE,this.world.update,this.world),G.off(N.POST_UPDATE,this.world.postUpdate,this.world)),G.off(N.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(N.START,this.start,this),this.scene=null,this.systems=null}});D.register("MatterPhysics",K,"matterPhysics"),o.exports=K},function(o,w,a){var d=a(1298),l={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(i){i.after("Body.create",function(){l.Body.init(this)}),i.before("Engine.update",function(b){l.Engine.update(b)})},Body:{init:function(i){i.plugin.attractors=i.plugin.attractors||[]}},Engine:{update:function(i){for(var b=i.world,f=d.Composite.allBodies(b),e=0;e<f.length;e+=1){var c=f[e],j=c.plugin.attractors;if(j&&j.length>0)for(var g=e+1;g<f.length;g+=1)for(var h=f[g],k=0;k<j.length;k+=1){var m=j[k],n=m;d.Common.isFunction(m)&&(n=m(c,h)),n&&d.Body.applyForce(h,h.position,n)}}}},Attractors:{gravityConstant:.001,gravity:function(i,b){var f=d.Vector.sub(b.position,i.position),e=d.Vector.magnitudeSquared(f)||1e-4,c=d.Vector.normalise(f),j=-l.Attractors.gravityConstant*(i.mass*b.mass/e),g=d.Vector.mult(c,j);d.Body.applyForce(i,i.position,d.Vector.neg(g)),d.Body.applyForce(b,b.position,g)}}};o.exports=l},function(o,w){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(d){d.after("Engine.create",function(){d.Events.on(this,"collisionStart",function(l){l.pairs.map(function(i){var b=i.bodyA,f=i.bodyB;b.gameObject&&b.gameObject.emit("collide",b,f,i),f.gameObject&&f.gameObject.emit("collide",f,b,i),d.Events.trigger(b,"onCollide",{pair:i}),d.Events.trigger(f,"onCollide",{pair:i}),b.onCollideCallback&&b.onCollideCallback(i),f.onCollideCallback&&f.onCollideCallback(i),b.onCollideWith[f.id]&&b.onCollideWith[f.id](f,i),f.onCollideWith[b.id]&&f.onCollideWith[b.id](b,i)})}),d.Events.on(this,"collisionActive",function(l){l.pairs.map(function(i){var b=i.bodyA,f=i.bodyB;b.gameObject&&b.gameObject.emit("collideActive",b,f,i),f.gameObject&&f.gameObject.emit("collideActive",f,b,i),d.Events.trigger(b,"onCollideActive",{pair:i}),d.Events.trigger(f,"onCollideActive",{pair:i}),b.onCollideActiveCallback&&b.onCollideActiveCallback(i),f.onCollideActiveCallback&&f.onCollideActiveCallback(i)})}),d.Events.on(this,"collisionEnd",function(l){l.pairs.map(function(i){var b=i.bodyA,f=i.bodyB;b.gameObject&&b.gameObject.emit("collideEnd",b,f,i),f.gameObject&&f.gameObject.emit("collideEnd",f,b,i),d.Events.trigger(b,"onCollideEnd",{pair:i}),d.Events.trigger(f,"onCollideEnd",{pair:i}),b.onCollideEndCallback&&b.onCollideEndCallback(i),f.onCollideEndCallback&&f.onCollideEndCallback(i)})})})}};o.exports=a},function(o,w,a){var d=a(1298),l={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(i){i.after("Engine.update",function(){l.Engine.update(this)})},Engine:{update:function(i){for(var b=i.world,f=d.Composite.allBodies(b),e=d.Composite.allComposites(b),c=0;c<f.length;c+=1){var j=f[c];j.plugin.wrap&&l.Body.wrap(j,j.plugin.wrap)}for(c=0;c<e.length;c+=1){var g=e[c];g.plugin.wrap&&l.Composite.wrap(g,g.plugin.wrap)}}},Bounds:{wrap:function(i,b){var f=null,e=null;typeof b.min.x!=="undefined"&&typeof b.max.x!=="undefined"&&(i.min.x>b.max.x?f=b.min.x-i.max.x:i.max.x<b.min.x&&(f=b.max.x-i.min.x)),typeof b.min.y!=="undefined"&&typeof b.max.y!=="undefined"&&(i.min.y>b.max.y?e=b.min.y-i.max.y:i.max.y<b.min.y&&(e=b.max.y-i.min.y));if(f!==null||e!==null)return{x:f||0,y:e||0}}},Body:{wrap:function(i,b){var f=l.Bounds.wrap(i.bounds,b);return f&&d.Body.translate(i,f),f}},Composite:{bounds:function(i){for(var b=d.Composite.allBodies(i),f=[],e=0;e<b.length;e+=1){var c=b[e];f.push(c.bounds.min,c.bounds.max)}return d.Bounds.create(f)},wrap:function(i,b){var f=l.Bounds.wrap(l.Composite.bounds(i),b);return f&&d.Composite.translate(i,f),f}}};o.exports=l},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Canvas:a(1432),Snapshot:a(1433),WebGL:a(1434)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CanvasRenderer:a(505),GetBlendModes:a(507),SetTransform:a(28)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Canvas:a(506),WebGL:a(509)}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Utils:a(9),WebGLPipeline:a(147),WebGLRenderer:a(508),Pipelines:a(1435),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4}},function(o,w,a){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BitmapMaskPipeline:a(510),ForwardDiffuseLightPipeline:a(511),TextureTintPipeline:a(237),TextureTintStripPipeline:a(512),ModelViewProjection:a(238)}}])})});export default va;
