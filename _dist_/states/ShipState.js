import b from"./StateManager.js";import{Background as c}from"../scenes/Background.js";import d from"../scenes/ShipHull.js";import e from"../scenes/ShipUI.js";import f from"./MapState.js";export default class l extends b{initScenes(){console.log("init"),this.background=this.scene.add("background",c),this.shipScene=this.scene.add("ship",d),this.uiScene=this.scene.add("ship_ui",e)}getScenes(){console.log("get"),this.background=this.scene.getScene("background"),this.shipScene=this.scene.getScene("ship"),this.uiScene=this.scene.getScene("ship_ui")}start(a){this.scene.run("background"),this.scene.run("ship",{ship:this.dataStore.playerShip}),this.scene.run("ship_ui"),this.getScenes(),a instanceof f||this.panIn(),this.shipBob()}panIn(){const a=2e3;this.shipScene.cameras.main.setZoom(.5),this.shipScene.tweens.add({targets:this.shipScene.cameras.main,x:{from:-this.shipScene.gameWidth,to:0,ease:"Quad.easeInOut"},zoom:{from:.5,to:.8,ease:"Quart.easeIn"},duration:a}),this.uiScene.cameras.main.setZoom(1.2),this.uiScene.cameras.main.zoomTo(1,350,"Quad.easeOut"),this.uiScene.tweens.add({targets:this.uiScene.cameras.main,alpha:{from:0,to:1},duration:a,ease:"Quad.easeOut"})}shipBob(){this.uiScene.tweens.add({targets:this.shipScene.cameras.main,y:"+=15",duration:8e3,repeat:-1,yoyo:!0,ease:"Cubic.easeInOut"})}end(a){console.log("end"),this.scene.sleep("ship"),this.scene.sleep("ship_ui"),this.scene.sleep("background")}}
