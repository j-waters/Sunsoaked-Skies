import s from"./StateManager.js";import{Background as t}from"../scenes/Background.js";import i from"../scenes/ShipHull.js";import a from"../scenes/ShipUI.js";import n from"./MapState.js";export default class h extends s{initScenes(){this.background=this.scene.add("background",t),this.shipScene=this.scene.add("ship",i),this.uiScene=this.scene.add("ship_ui",a)}getScenes(){this.background=this.scene.getScene("background"),this.shipScene=this.scene.getScene("ship"),this.uiScene=this.scene.getScene("ship_ui")}start(e){this.scene.run("background"),this.scene.run("ship",{ship:this.dataStore.playerShip}),this.scene.run("ship_ui"),this.getScenes(),e instanceof n||this.panIn(),this.shipBob()}panIn(){const e=2e3;this.shipScene.cameras.main.setZoom(.5),this.shipScene.tweens.add({targets:this.shipScene.cameras.main,x:{from:-this.shipScene.gameWidth,to:0,ease:"Quad.easeInOut"},zoom:{from:.5,to:.8,ease:"Quart.easeIn"},duration:e}),this.uiScene.cameras.main.setZoom(1.2),this.uiScene.cameras.main.zoomTo(1,350,"Quad.easeOut"),this.uiScene.tweens.add({targets:this.uiScene.cameras.main,alpha:{from:0,to:1},duration:e,ease:"Quad.easeOut"})}shipBob(){this.uiScene.tweens.add({targets:this.shipScene.cameras.main,y:"+=15",duration:8e3,repeat:-1,yoyo:!0,ease:"Cubic.easeInOut"})}end(e){console.log("end"),this.scene.sleep("ship"),this.scene.sleep("ship_ui"),this.scene.sleep("background")}}
