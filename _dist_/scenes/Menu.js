import{SceneBase as r}from"./SceneBase.js";import{generateMenuShip as n}from"../generation/generateShip.js";import h from"../models/Person.js";import{createBackground as o}from"../generation/generateBackground.js";import d from"../generation/generationSettings.js";import g from"../sprites/PersonSprite.js";import l from"../states/NewGameState.js";var x=Phaser.GameObjects.TextStyle;export default class p extends r{create(){o(this);const s=this.add.image(0,0,"gradient_background");s.setOrigin(0,0),this.backgroundShips=this.add.group(),this.createBackgroundShips();const a=this.add.image(this.gameWidth/2,this.gameHeight,"menu/hill");a.setOrigin(.5,1),a.setDisplaySize(this.gameWidth*.6,this.gameHeight*.15);const e=new g(this,new h(),new d());this.add.existing(e),e.setPosition(this.gameWidth/2,this.gameHeight*.85),e.setDisplaySize(this.gameWidth*.05,this.gameWidth*.05/e.displayWidth*e.displayHeight);const i=this.add.text(this.gameWidth/2,this.gameHeight*.3,`Sunsoaked
Skies`,{fontFamily:"Elder Magic Shadow",color:"rgb(0, 0, 0)",fontSize:"128px",align:"center"});i.setOrigin(.5,.5);const t=this.add.text(this.gameWidth/2,this.gameHeight*.55,"New Game",{fontFamily:"Elder Magic",color:"rgb(0, 0, 0)",fontSize:"64px",align:"center"});t.setOrigin(.5,.5),t.setInteractive({useHandCursor:!0}),t.on(Phaser.Input.Events.POINTER_OVER,()=>t.setColor("rgb(73,0,63)")),t.on(Phaser.Input.Events.POINTER_OUT,()=>t.setColor("rgb(0, 0, 0)")),t.on(Phaser.Input.Events.POINTER_DOWN,()=>this.state.start(l))}update(s,a){this.backgroundShips.getChildren().forEach(e=>{e.x+=e.getData("speed"),e.x+e.displayWidth<0&&(e.setData("speed",Math.abs(e.getData("speed"))),e.setFlipX(!1),e.setY(Phaser.Math.FloatBetween(0,this.gameHeight))),e.x-e.displayWidth>this.gameWidth&&(e.setData("speed",-Math.abs(e.getData("speed"))),e.setFlipX(!0),e.setY(Phaser.Math.FloatBetween(0,this.gameHeight)))})}createBackgroundShips(){this.backgroundShips.clear(!0,!0);for(let s=0;s<25;s++){const a=this.textures.addCanvas(null,n(),!0),e=this.add.image(Phaser.Math.FloatBetween(-200,this.gameWidth+200),Phaser.Math.FloatBetween(0,this.gameHeight),a),i=Phaser.Math.Between(0,1)==0,t=Phaser.Math.FloatBetween(.5,1.5);e.setDisplaySize(30*t,30*t),e.setFlipX(i),e.setData("speed",.5*Phaser.Math.FloatBetween(.2,.6)*t*(i?-1:1)),this.backgroundShips.add(e)}}}
