var r=Phaser.Scene,o=Phaser.Math.Vector2;const h=.8,t=.95;export default class c extends Phaser.GameObjects.Image{constructor(e,s,i,a){super(e,i.x,i.y,s.getWeaponProjectileTexture(e));this.velocity=new o(s.speed,0).setAngle(a),this.size=3,this.setDisplaySize(this.size,this.size),this.distance=0,this.weapon=s}update(){this.setPosition(this.x+this.velocity.x,this.y+this.velocity.y),this.distance+=this.velocity.length();const e=this.distance/this.weapon.range;e>t&&(this.setAlpha((1-e)/(1-t)),this.setDisplaySize(this.size*(1-e)/(1-t),this.size*(1-e)/(1-t))),e>h&&this.velocity.setLength(this.velocity.length()-this.deceleration),e>=1&&this.destroy()}get deceleration(){return Math.pow(this.weapon.speed,2)/(2*this.weapon.range*(1-h))}}
