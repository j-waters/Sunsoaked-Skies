var i=Phaser.Geom.Point,d=Phaser.Math.Vector2;console.log("");function h(a){switch(a){case"UP":return"DOWN";case"DOWN":return"UP";case"LEFT":return"RIGHT";case"RIGHT":return"LEFT"}}export default class j{constructor(a,b,c){this.people=[],this.neighbours=[],this._width=a,this._height=b,c==void 0?this.inside=!0:this.inside=c}get width(){return this._width}get height(){return this._height}get outside(){return!this.inside}addRoom(a,b,c,e){a.setShip(this.ship);if(c==void 0)switch(b){case"UP":c=new d(0,0);break;case"DOWN":c=new d(0,this.height-1);break;case"LEFT":c=new d(0,0);break;case"RIGHT":c=new d(this.width-1,0);break}e==void 0&&(e=new d(0,0));let f={room:a,direction:b,thisPosition:c,theirPosition:e,mirror:void 0},g={room:this,direction:h(b),automatic:!0,thisPosition:e,theirPosition:c,mirror:void 0};return f.mirror=g,g.mirror=f,this.neighbours.push(f),a.neighbours.push(g),a}addRoomUp(a,b,c){return this.addRoom(a,"UP",b,c)}addRoomDown(a,b,c){return this.addRoom(a,"DOWN",b,c)}addRoomLeft(a,b,c){return this.addRoom(a,"LEFT",b,c)}addRoomRight(a,b,c){return this.addRoom(a,"RIGHT",b,c)}setGridPosition(a,b){this.gridPosition={x:a,y:b}}setShip(a){this.ship=a,this.neighbours.forEach(b=>{b&&!b.room.ship&&b.room.setShip(a)})}addPerson(a,b){return this.people.includes(a)||this.people.push(a),a.room=this,b?a.roomPosition=b:a.roomPosition=new d(this.people.length-1,this.height-1),this}removePerson(a){this.people.splice(this.people.indexOf(a),1)}}
